{"remainingRequest":"C:\\Users\\pc\\vue\\e-metro\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\pc\\vue\\e-metro\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\Users\\pc\\vue\\e-metro\\node_modules\\@vue\\cli-service\\node_modules\\vue-loader-v16\\dist\\index.js??ref--0-1!C:\\Users\\pc\\vue\\e-metro\\src\\components\\masterProducts\\schemes\\_manage.vue?vue&type=script&lang=js","dependencies":[{"path":"C:\\Users\\pc\\vue\\e-metro\\src\\components\\masterProducts\\schemes\\_manage.vue","mtime":1636780628476},{"path":"C:\\Users\\pc\\vue\\e-metro\\babel.config.js","mtime":1614941550000},{"path":"C:\\Users\\pc\\vue\\e-metro\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\pc\\vue\\e-metro\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"C:\\Users\\pc\\vue\\e-metro\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\pc\\vue\\e-metro\\node_modules\\@vue\\cli-service\\node_modules\\vue-loader-v16\\dist\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IGF4aW9zIGZyb20gJ2F4aW9zJzsgLy9pbXBvcnQgQmFzZUJ1dHRvbiBmcm9tICIuLi8uLi9CYXNlQnV0dG9uIjsKCmltcG9ydCBfIGZyb20gJ2xvZGFzaCc7CmV4cG9ydCBkZWZhdWx0IHsKICBjb21wb25lbnRzOiB7fSwKICBwcm9wczogWydpZCddLAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBtb2RlbDogewogICAgICAgIHNjaGVtYU5hbWU6ICcnLAogICAgICAgIGRhdGU6ICcnLAogICAgICAgIHByb2R1Y3ROYW1lOiAnJywKICAgICAgICBFQU5Db2RlOiAnJywKICAgICAgICBxdWFudGl0eTogJycsCiAgICAgICAgZnJlZVF1YW50aXR5OiAnJywKICAgICAgICBuZXRQVFI6ICcnLAogICAgICAgIFVPTTogJycsCiAgICAgICAgZGlzY291bnQ6ICcnLAogICAgICAgIGRhdGVPZkF2YWlsYWJpbGl0eTogJycsCiAgICAgICAgbmFyYXJhdGlvbjogJycsCiAgICAgICAgYWN0aXZlOiB0cnVlLAogICAgICAgIHNjaGVtYU51bWJlcjogTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogMTAwMDAwKQogICAgICB9CiAgICB9OwogIH0sCiAgbW91bnRlZDogZnVuY3Rpb24gbW91bnRlZCgpIHsKICAgIGlmICh0aGlzLmVkaXRpbmcpIHsKICAgICAgdGhpcy5mZXRjaCgpOwogICAgfQogIH0sCiAgbWV0aG9kczogewogICAgZmV0Y2g6IGZ1bmN0aW9uIGZldGNoKCkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgYXhpb3MuZ2V0KCJhcGkvc2NoZW1hL2dldC8iLmNvbmNhdCh0aGlzLmlkKSkudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tdW5kZWYKICAgICAgICBjb25zb2xlLmxvZyhyZXNwb25zZS5kYXRhWzBdKTsKICAgICAgICBfdGhpcy5tb2RlbCA9IF8ubWVyZ2UoX3RoaXMubW9kZWwsIHJlc3BvbnNlLmRhdGFbMF0pOwogICAgICB9KTsKICAgIH0sCiAgICBzdWJtaXQ6IGZ1bmN0aW9uIHN1Ym1pdCgpIHsKICAgICAgdGhpcy5lZGl0aW5nID8gdGhpcy51cGRhdGUoKSA6IHRoaXMuc3RvcmUoKTsKICAgIH0sCiAgICBmZXRjaEVBTkNvZGU6IGZ1bmN0aW9uIGZldGNoRUFOQ29kZSgpIHsKICAgICAgdmFyIF90aGlzMiA9IHRoaXM7CgogICAgICBheGlvcy5nZXQoImFwaS9wcm9kdWN0L2dldFByb2R1Y3REZXRhaWxzPyIsIHsKICAgICAgICBwYXJhbXM6IHsKICAgICAgICAgIEVBTkNvZGU6IHRoaXMubW9kZWwuRUFOQ29kZQogICAgICAgIH0KICAgICAgfSkudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICBjb25zb2xlLmxvZyhyZXNwb25zZS5kYXRhWzBdKTsKICAgICAgICBfdGhpczIubW9kZWwgPSBfLm1lcmdlKF90aGlzMi5tb2RlbCwgcmVzcG9uc2UuZGF0YVswXSk7CiAgICAgIH0pWyJjYXRjaCJdKGZ1bmN0aW9uIChlcnJvcikgewogICAgICAgIGNvbnNvbGUubG9nKGVycm9yLCAnc2NoZW1lJyk7CgogICAgICAgIGlmIChlcnJvcikgey8vdGhpcy5tb2RlbD17fTsKICAgICAgICB9CiAgICAgIH0pOwogICAgfSwKICAgIHN0b3JlOiBmdW5jdGlvbiBzdG9yZSgpIHsKICAgICAgdmFyIF90aGlzMyA9IHRoaXM7CgogICAgICBheGlvcy5wb3N0KCJhcGkvc2NoZW1hL2NyZWF0ZSIsIHsKICAgICAgICAnc2NoZW1hTmFtZSc6IHRoaXMubW9kZWwuc2NoZW1hTmFtZSwKICAgICAgICAnZGF0ZSc6IHRoaXMubW9kZWwuZGF0ZSwKICAgICAgICAncHJvZHVjdE5hbWUnOiB0aGlzLm1vZGVsLnByb2R1Y3ROYW1lLAogICAgICAgICdFQU5Db2RlJzogdGhpcy5tb2RlbC5FQU5Db2RlLAogICAgICAgICdxdWFudGl0eSc6IHRoaXMubW9kZWwucXVhbnRpdHksCiAgICAgICAgJ2ZyZWVRdWFudGl0eSc6IHRoaXMubW9kZWwuZnJlZVF1YW50aXR5LAogICAgICAgICduZXRQVFInOiB0aGlzLm1vZGVsLm5ldFBUUiwKICAgICAgICAnVU9NJzogdGhpcy5tb2RlbC5VT00sCiAgICAgICAgJ2Rpc2NvdW50JzogdGhpcy5tb2RlbC5kaXNjb3VudCwKICAgICAgICAndmFsaWRpdHknOiB0aGlzLm1vZGVsLmRhdGVPZkF2YWlsYWJpbGl0eSwKICAgICAgICAnbmFyYXJhdGlvbic6IHRoaXMubW9kZWwubmFyYXJhdGlvbiwKICAgICAgICAnYWN0aXZlJzogdGhpcy5tb2RlbC5hY3RpdmUsCiAgICAgICAgJ3NjaGVtYU51bWJlcic6IHRoaXMubW9kZWwuc2NoZW1hTnVtYmVyCiAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgY29uc29sZS5sb2cocmVzcG9uc2UpOwoKICAgICAgICBfdGhpczMuJHJvdXRlci5nbygtMSk7CiAgICAgIH0pWyJjYXRjaCJdKGZ1bmN0aW9uIChlcnJvcikgewogICAgICAgIGNvbnNvbGUubG9nKGVycm9yKTsKICAgICAgfSk7CiAgICAgIHRoaXMubW9kZWwgPSB7fTsKICAgIH0sCiAgICB1cGRhdGU6IGZ1bmN0aW9uIHVwZGF0ZSgpIHsKICAgICAgdmFyIF90aGlzNCA9IHRoaXM7CgogICAgICBheGlvcy5wdXQoImFwaS9zY2hlbWEvZWRpdC8iLmNvbmNhdCh0aGlzLmlkKSwgdGhpcy5tb2RlbCkudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICBjb25zb2xlLmxvZyhyZXNwb25zZSk7CgogICAgICAgIF90aGlzNC4kcm91dGVyLmdvKC0xKTsKICAgICAgfSk7CiAgICB9CiAgfSwKICBjb21wdXRlZDogewogICAgZWRpdGluZzogZnVuY3Rpb24gZWRpdGluZygpIHsKICAgICAgcmV0dXJuICEhdGhpcy5pZDsKICAgIH0KICB9Cn07"},{"version":3,"sources":["C:\\Users\\pc\\vue\\e-metro\\src\\components\\masterProducts\\schemes\\_manage.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n  <card>\n    <div class=\"container ct-example-row\">\n      <form @submit=\"submit\" ref='textareaform'>\n        <div>\n          <h3><b>Group Heading 1</b></h3>\n          <div class=\"row mt-3\">\n\n            <div class=\"col-sm form-group\">\n              <label class=\" form-control-label\">Scheme Name</label>\n              <input\n                v-model=\"model.schemaName\"\n                class=\"form-control\"\n                type=\"text\"\n                placeholder=\"Scheme Name\"\n              />\n            </div>\n            <div class=\"col-sm\">\n              <label class=\" form-control-label\">Date</label>\n              <input\n                class=\"form-control\"\n                type=\"date\"\n                v-model=\"model.date\"\n              />\n\n            </div>\n            <div class=\"col-sm\">\n              <label class=\" form-control-label\">EAN Code</label>\n              <input\n                class=\"form-control\"\n                placeholder=\"Enter EAN Code\"\n                v-model=\"model.EANCode\"\n                @keyup=\"fetchEANCode\"\n              />\n            </div>\n\n          </div>\n          <div class=\"row \">\n\n            <div class=\"col-sm\">\n              <label class=\" form-control-label\">Product Name</label>\n              <input\n                class=\"form-control\"\n                placeholder=\"Enter Product Name\"\n                v-model=\"model.productName\"\n              />\n            </div>\n            <div class=\"col-sm\">\n              <label class=\" form-control-label\">Quantity</label>\n              <input\n                class=\"form-control\"\n                placeholder=\"Enter Quantity\"\n                v-model=\"model.quantity\"\n              />\n\n            </div>\n            <div class=\"col-sm\">\n              <label class=\" form-control-label\">Free Quantity</label>\n              <input\n                class=\"form-control\"\n                placeholder=\"Enter Free Quantity\"\n                v-model=\"model.freeQuantity\"\n              />\n\n            </div>\n\n          </div>\n        </div>\n        <div class=\"mt-4\">\n          <h3><b>Group Heading 2</b></h3>\n          <div class=\"row mt-3\">\n\n            <div class=\"col-sm\">\n              <label class=\" form-control-label\">Net PTR</label>\n              <input\n                class=\"form-control\"\n                placeholder=\"Enter Net PTR\"\n                v-model=\"model.netPTR\"\n              />\n            </div>\n            <div class=\"col-sm\">\n              <label class=\" form-control-label\">UOM</label>\n              <input\n                class=\"form-control\"\n                placeholder=\"Enter UOM\"\n                v-model=\"model.UOM\"\n              />\n\n            </div>\n            <div class=\"col-sm\">\n              <label class=\" form-control-label\">Discount</label>\n              <input\n                class=\"form-control\"\n                placeholder=\"Enter Discount\"\n                v-model=\"model.discount\"\n              />\n            </div>\n\n          </div>\n          <div class=\"row mt-4\">\n\n            <div class=\"col-sm\">\n              <label class=\" form-control-label\">Validity</label>\n              <input\n                class=\"form-control\"\n                type=\"date\"\n                v-model=\"model.dateOfAvailability\"\n              />\n            </div>\n            <div class=\"col-sm\">\n              <label class=\" form-control-label\">Narration</label>\n              <input\n                class=\"form-control\"\n                placeholder=\"Enter Narration\"\n                v-model=\"model.nararation\"\n              />\n\n            </div>\n            <div class=\"col-sm\">\n              <!--              <label class=\" form-control-label\">Active</label>-->\n              <div class=\"mt-5 pl-5\">\n                <div class=\"custom-control custom-switch\">\n                  <input type=\"checkbox\" class=\"custom-control-input pr-0\" id=\"customSwitch1\" v-model=\"model.active\">\n                  <label class=\"custom-control-label\" for=\"customSwitch1\">Active</label>\n                </div>\n\n\n              </div>\n\n            </div>\n\n          </div>\n          <div class=\"row mt-3\">\n            <div class=\"col-4\" >\n              <label class=\" form-control-label\">Scheme Number</label>\n              <input\n                class=\"form-control\"\n                placeholder=\"Scheme Number-Auto Generated\"\n                v-model=\"model.schemaNumber\"\n              />\n            </div>\n          </div>\n        </div>\n\n        <div class=\"text-right\">\n          <router-link :to=\"{name:'Schemes'}\"><base-button outline type=\"default\">Cancel</base-button></router-link>\n<!--          <base-button outline type=\"default\">Cancel</base-button>-->\n          <button\n            type=\"button\"\n            class=\"btn btn-secondary bg-dark text-white\"\n            data-dismiss=\"modal\"\n            @click.prevent=\"update\"\n            v-if=\"editing\"\n          >Save</button>\n          <button\n            type=\"button\"\n            class=\"btn btn-secondary bg-dark text-white\"\n            data-dismiss=\"modal\"\n            @click.prevent=\"submit\"\n            v-else\n          >Submit</button>\n\n        </div>\n\n\n      </form>\n\n    </div>\n  </card>\n\n\n</template>\n\n<script>\n\nimport axios from 'axios';\n\n//import BaseButton from \"../../BaseButton\";\nimport _ from 'lodash';\nexport default {\n  components: {  },\n  props: ['id'],\n  data(){\n    return{\n      model:{\n        schemaName : '',\n        date : '',\n        productName : '',\n        EANCode : '',\n        quantity : '',\n        freeQuantity : '',\n        netPTR : '',\n        UOM : '',\n        discount : '',\n        dateOfAvailability : '',\n        nararation : '',\n        active : true,\n        schemaNumber : Math.floor(Math.random()*100000),\n      }\n\n    }\n  },\n  mounted() {\n    if (this.editing) {\n      this.fetch();\n    }\n\n  },\n  methods:{\n    fetch() {\n      axios.get(`api/schema/get/${this.id}`)\n        .then(response => {\n          // eslint-disable-next-line no-undef\n          console.log(response.data[0]);\n          this.model = _.merge(this.model,response.data[0]);\n        });\n    },\n    submit() {\n      this.editing ? this.update() : this.store();\n    },\n\n    fetchEANCode(){\n      axios.get(`api/product/getProductDetails?`,{\n        params: {\n          EANCode: this.model.EANCode\n        }\n      }).then(response=>{\n        console.log(response.data[0])\n        this.model = _.merge(this.model,response.data[0]);\n      })\n      .catch(error=>{\n        console.log(error,'scheme');\n        if(error){\n          //this.model={};\n        }\n      });\n    },\n\n    store(){\n      axios.post(`api/schema/create`,{\n        'schemaName':this.model.schemaName,\n        'date':this.model.date,\n        'productName':this.model.productName,\n        'EANCode':this.model.EANCode,\n        'quantity':this.model.quantity,\n        'freeQuantity':this.model.freeQuantity,\n        'netPTR':this.model.netPTR,\n        'UOM':this.model.UOM,\n        'discount':this.model.discount,\n        'validity':this.model.dateOfAvailability,\n        'nararation':this.model.nararation,\n        'active':this.model.active,\n        'schemaNumber':this.model.schemaNumber,\n      })\n        .then(response => {\n          console.log(response);\n          this.$router.go(-1);\n        })\n        .catch(error =>{\n          console.log( error);\n        });\n      this.model={};\n\n\n    },\n    update() {\n      axios.put(`api/schema/edit/${this.id}`, this.model)\n        .then(response => {\n          console.log(response);\n          this.$router.go(-1);\n        });\n    },\n\n  },\n  computed: {\n    editing() {\n      return !!this.id;\n    }\n  }\n};\n</script>\n"],"sourceRoot":""}]}