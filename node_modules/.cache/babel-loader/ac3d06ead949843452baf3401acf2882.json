{"remainingRequest":"C:\\Users\\pc\\vue\\e-metro\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\pc\\vue\\e-metro\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\Users\\pc\\vue\\e-metro\\node_modules\\@vue\\cli-service\\node_modules\\vue-loader-v16\\dist\\index.js??ref--0-1!C:\\Users\\pc\\vue\\e-metro\\src\\views\\masterProducts\\products\\index.vue?vue&type=script&lang=js","dependencies":[{"path":"C:\\Users\\pc\\vue\\e-metro\\src\\views\\masterProducts\\products\\index.vue","mtime":1636969296867},{"path":"C:\\Users\\pc\\vue\\e-metro\\babel.config.js","mtime":1614941550000},{"path":"C:\\Users\\pc\\vue\\e-metro\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\pc\\vue\\e-metro\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"C:\\Users\\pc\\vue\\e-metro\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\pc\\vue\\e-metro\\node_modules\\@vue\\cli-service\\node_modules\\vue-loader-v16\\dist\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnN0cmluZy5pdGVyYXRvci5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL3dlYi5kb20tY29sbGVjdGlvbnMuaXRlcmF0b3IuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy93ZWIudXJsLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvd2ViLnVybC1zZWFyY2gtcGFyYW1zLmpzIjsKaW1wb3J0IFByb2R1Y3RMaXN0IGZyb20gIi4uLy4uLy4uL2NvbXBvbmVudHMvbWFzdGVyUHJvZHVjdHMvcHJvZHVjdHMvX2xpc3QiOwppbXBvcnQgeyB1c2VUb2FzdCB9IGZyb20gJ3Z1ZS10b2FzdGlmaWNhdGlvbic7CmltcG9ydCBheGlvcyBmcm9tICdheGlvcyc7CmV4cG9ydCBkZWZhdWx0IHsKICBjb21wb25lbnRzOiB7CiAgICBQcm9kdWN0TGlzdDogUHJvZHVjdExpc3QKICB9LAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICB2aXNpYmxlQ2FyZDogZmFsc2UsCiAgICAgIHByb2R1Y3REYXRhOiBbXQogICAgfTsKICB9LAogIG1vdW50ZWQ6IGZ1bmN0aW9uIG1vdW50ZWQoKSB7CiAgICB0aGlzLmZldGNoUHJvZHVjdCgpOwogIH0sCiAgbWV0aG9kczogewogICAgaGFuZGxlRmlsZVVwbG9hZDogZnVuY3Rpb24gaGFuZGxlRmlsZVVwbG9hZCgpIHsKICAgICAgdGhpcy5leGNlbCA9IHRoaXMuJHJlZnMuZmlsZS5maWxlc1swXTsKICAgIH0sCiAgICBmZXRjaFByb2R1Y3Q6IGZ1bmN0aW9uIGZldGNoUHJvZHVjdCgpIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKCiAgICAgIGF4aW9zLmdldCgiL2FwaS9wcm9kdWN0L2dldCIpLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgX3RoaXMucHJvZHVjdERhdGEgPSByZXNwb25zZS5kYXRhOwogICAgICAgIGNvbnNvbGUubG9nKF90aGlzLnByb2R1Y3REYXRhKTsKICAgICAgfSk7CiAgICB9LAogICAgbm90aWZpY2F0aW9uOiBmdW5jdGlvbiBub3RpZmljYXRpb24oY29udGVudCwgdHlwZSkgewogICAgICB2YXIgdG9hc3QgPSB1c2VUb2FzdCgpOwogICAgICB0b2FzdChjb250ZW50LCB7CiAgICAgICAgaGlkZVByb2dyZXNzQmFyOiB0cnVlLAogICAgICAgIGljb246IGZhbHNlLAogICAgICAgIHR5cGU6IHR5cGUsCiAgICAgICAgY2xvc2VCdXR0b246IGZhbHNlLAogICAgICAgIHBvc2l0aW9uOiAndG9wLXJpZ2h0JywKICAgICAgICB0aW1lb3V0OiAxNTAwCiAgICAgIH0pOwogICAgfSwKICAgIHVwbG9hZEV4Y2VsOiBmdW5jdGlvbiB1cGxvYWRFeGNlbCgpIHsKICAgICAgdmFyIF90aGlzMiA9IHRoaXM7CgogICAgICB2YXIgZm9ybURhdGEgPSBuZXcgRm9ybURhdGEoKTsKICAgICAgZm9ybURhdGEuYXBwZW5kKCJmaWxlIiwgdGhpcy5leGNlbCk7CiAgICAgIGF4aW9zLnBvc3QoImFwaS9wcm9kdWN0L2V4Y2VsVXBsb2FkIiwgZm9ybURhdGEsIHsKICAgICAgICBoZWFkZXJzOiB7CiAgICAgICAgICAiQ29udGVudC1UeXBlIjogIm11bHRpcGFydC9mb3JtLWRhdGEiCiAgICAgICAgfQogICAgICB9KS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgIF90aGlzMi5zdGF0dXMgPSByZXNwb25zZS5zdGF0dXM7CiAgICAgICAgY29uc29sZS5sb2cocmVzcG9uc2Uuc3RhdHVzKTsKCiAgICAgICAgX3RoaXMyLm5vdGlmaWNhdGlvbignVXBsb2FkZWQgU3VjY2Vzc2Z1bGx5JywgJ3N1Y2Nlc3MnKTsKICAgICAgfSlbImNhdGNoIl0oZnVuY3Rpb24gKCkgewogICAgICAgIF90aGlzMi5ub3RpZmljYXRpb24oJ0VBTkNvZGUgYWxyZWFkeSBleGlzdCcsICdlcnJvcicpOwogICAgICB9KTsKICAgICAgdGhpcy4kcmVmcy5maWxlLnZhbHVlID0gbnVsbDsKICAgIH0sCiAgICBkb3dubG9hZEV4cG9ydDogZnVuY3Rpb24gZG93bmxvYWRFeHBvcnQoKSB7CiAgICAgIHRoaXMuYXhpb3MuZ2V0KCcvdjEvc29tZS1lbmRwb2ludCcsIHsKICAgICAgICAvLyBJZiB5b3UgZm9yZ2V0IHRoaXMsIHlvdXIgZG93bmxvYWQgd2lsbCBiZSBjb3JydXB0LgogICAgICAgIHJlc3BvbnNlVHlwZTogJ2Jsb2InCiAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgLy8gTGV0J3MgY3JlYXRlIGEgbGluayBpbiB0aGUgZG9jdW1lbnQgdGhhdCB3ZSdsbAogICAgICAgIC8vIHByb2dyYW1tYXRpY2FsbHkgJ2NsaWNrJy4KICAgICAgICB2YXIgbGluayA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2EnKTsgLy8gVGVsbCB0aGUgYnJvd3NlciB0byBhc3NvY2lhdGUgdGhlIHJlc3BvbnNlIGRhdGEgdG8KICAgICAgICAvLyB0aGUgVVJMIG9mIHRoZSBsaW5rIHdlIGNyZWF0ZWQgYWJvdmUuCgogICAgICAgIGxpbmsuaHJlZiA9IHdpbmRvdy5VUkwuY3JlYXRlT2JqZWN0VVJMKG5ldyBCbG9iKFtyZXNwb25zZS5kYXRhXSkpOyAvLyBUZWxsIHRoZSBicm93c2VyIHRvIGRvd25sb2FkLCBub3QgcmVuZGVyLCB0aGUgZmlsZS4KCiAgICAgICAgbGluay5zZXRBdHRyaWJ1dGUoJ2Rvd25sb2FkJywgJ3JlcG9ydC54bHN4Jyk7IC8vIFBsYWNlIHRoZSBsaW5rIGluIHRoZSBET00uCgogICAgICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQobGluayk7IC8vIE1ha2UgdGhlIG1hZ2ljIGhhcHBlbiEKCiAgICAgICAgbGluay5jbGljaygpOwogICAgICB9KTsgLy8gUGxlYXNlIGNhdGNoIG1lIQogICAgfQogIH0KfTs="},{"version":3,"sources":["C:\\Users\\pc\\vue\\e-metro\\src\\views\\masterProducts\\products\\index.vue"],"names":[],"mappings":";;;;;AAuDA,OAAO,WAAP,MAAwB,mDAAxB;AACA,SAAQ,QAAR,QAAuB,oBAAvB;AACA,OAAO,KAAP,MAAkB,OAAlB;AACA,eAAe;AACb,EAAA,UAAU,EAAE;AACV,IAAA,WAAW,EAAX;AADU,GADC;AAIb,EAAA,IAJa,kBAIP;AACJ,WAAM;AACJ,MAAA,WAAW,EAAC,KADR;AAEJ,MAAA,WAAW,EAAC;AAFR,KAAN;AAID,GATY;AAUb,EAAA,OAVa,qBAUJ;AACP,SAAK,YAAL;AACD,GAZY;AAab,EAAA,OAAO,EAAC;AACN,IAAA,gBADM,8BACa;AACjB,WAAK,KAAL,GAAa,KAAK,KAAL,CAAW,IAAX,CAAgB,KAAhB,CAAsB,CAAtB,CAAb;AACD,KAHK;AAIN,IAAA,YAJM,0BAIQ;AAAA;;AACZ,MAAA,KAAK,CAAC,GAAN,qBACG,IADH,CACQ,UAAA,QAAQ,EAAE;AACd,QAAA,KAAI,CAAC,WAAL,GAAiB,QAAQ,CAAC,IAA1B;AACA,QAAA,OAAO,CAAC,GAAR,CAAY,KAAI,CAAC,WAAjB;AACD,OAJH;AAKD,KAVK;AAWN,IAAA,YAXM,wBAWO,OAXP,EAWe,IAXf,EAWoB;AACxB,UAAM,KAAI,GAAI,QAAQ,EAAtB;AACA,MAAA,KAAK,CAAC,OAAD,EAAU;AACb,QAAA,eAAe,EAAE,IADJ;AAEb,QAAA,IAAI,EAAE,KAFO;AAGb,QAAA,IAAI,EAAC,IAHQ;AAIb,QAAA,WAAW,EAAE,KAJA;AAKb,QAAA,QAAQ,EAAE,WALG;AAMb,QAAA,OAAO,EAAC;AANK,OAAV,CAAL;AAQD,KArBK;AAsBN,IAAA,WAtBM,yBAsBO;AAAA;;AACX,UAAM,QAAO,GAAI,IAAI,QAAJ,EAAjB;AACA,MAAA,QAAQ,CAAC,MAAT,CAAgB,MAAhB,EAAwB,KAAK,KAA7B;AACA,MAAA,KAAK,CAAC,IAAN,CAAW,yBAAX,EAAqC,QAArC,EACE;AACE,QAAA,OAAO,EAAE;AACP,0BAAgB;AADT;AADX,OADF,EAMG,IANH,CAMQ,UAAA,QAAQ,EAAE;AACd,QAAA,MAAI,CAAC,MAAL,GAAY,QAAQ,CAAC,MAArB;AACA,QAAA,OAAO,CAAC,GAAR,CAAY,QAAQ,CAAC,MAArB;;AACA,QAAA,MAAI,CAAC,YAAL,CAAkB,uBAAlB,EAA0C,SAA1C;AACD,OAVH,WAWS,YAAI;AACT,QAAA,MAAI,CAAC,YAAL,CAAkB,uBAAlB,EAA0C,OAA1C;AACD,OAbH;AAcA,WAAK,KAAL,CAAW,IAAX,CAAgB,KAAhB,GAAwB,IAAxB;AAED,KAzCK;AA0CN,IAAA,cA1CM,4BA0CW;AACf,WAAK,KAAL,CAAW,GAAX,CAAe,mBAAf,EAAoC;AAClC;AACA,QAAA,YAAY,EAAE;AAFoB,OAApC,EAGG,IAHH,CAGQ,UAAC,QAAD,EAAc;AACpB;AACA;AACA,YAAM,IAAG,GAAI,QAAQ,CAAC,aAAT,CAAuB,GAAvB,CAAb,CAHoB,CAKpB;AACA;;AACA,QAAA,IAAI,CAAC,IAAL,GAAY,MAAM,CAAC,GAAP,CAAW,eAAX,CACV,IAAI,IAAJ,CAAS,CAAC,QAAQ,CAAC,IAAV,CAAT,CADU,CAAZ,CAPoB,CAWpB;;AACA,QAAA,IAAI,CAAC,YAAL,CAAkB,UAAlB,EAA8B,aAA9B,EAZoB,CAcpB;;AACA,QAAA,QAAQ,CAAC,IAAT,CAAc,WAAd,CAA0B,IAA1B,EAfoB,CAiBpB;;AACA,QAAA,IAAI,CAAC,KAAL;AACD,OAtBD,EADe,CAuBX;AACN;AAlEM;AAbK,CAAf","sourcesContent":["<template>\n  <div class=\"content\">\n\n    <div class=\"container-fluid mt-4\">\n      <div>\n          <div class=\"row-lg-6 align-items-center pb-4\">\n            <div class=\"col-lg-6 col-7\">\n              <h3 class=\"mb-0\">Products</h3>\n            </div>\n            <div class=\"d-flex col-lg-6 text-right\">\n              <button type=\"button\" class=\"btn base-button btn-default\">\n                <export-excel\n                  :data=\"productData\">\n                  Download Excel\n                </export-excel>\n              </button>\n              <button type=\"button\" class=\"btn base-button btn-default\" @click=\"visibleCard=true\" data-toggle=\"modal\" data-target=\"#add\">\n                Excel Upload\n              </button>\n              <div v-if=\"visibleCard\">\n                <DataModal :title=\"('Upload Excel')\" >\n                  <template v-slot:body>\n                    <div>\n                      <form>\n                        <input class=\"form-control\"\n                               type=\"file\"\n                               ref=\"file\"\n                               @change=\"handleFileUpload\"\n                               name=\"file\">\n                      </form>\n                    </div>\n                  </template>\n                  <template v-slot:footer>\n                    <button type=\"button\" class=\"btn btn-secondary\" data-dismiss=\"modal\">Close</button>\n                    <button type=\"button\" class=\"btn base-button btn-default\" data-dismiss=\"modal\" @click=\"uploadExcel\">\n                      upload\n                    </button>\n                  </template>\n                </DataModal>\n              </div>\n              <router-link :to=\"{name:'ProductCreate'}\">\n                <base-button type=\"default\">Product Details</base-button>\n              </router-link>\n\n            </div>\n\n          </div>\n         <ProductList></ProductList>\n\n      </div>\n    </div>\n  </div>\n</template>\n<script>\n\nimport ProductList from \"../../../components/masterProducts/products/_list\";\nimport {useToast} from 'vue-toastification';\nimport axios from 'axios';\nexport default {\n  components: {\n    ProductList,\n  },\n  data(){\n    return{\n      visibleCard:false,\n      productData:[],\n    }\n  },\n  mounted(){\n    this.fetchProduct();\n  },\n  methods:{\n    handleFileUpload() {\n      this.excel = this.$refs.file.files[0];\n    },\n    fetchProduct(){\n      axios.get(`/api/product/get`)\n        .then(response=>{\n          this.productData=response.data;\n          console.log(this.productData);\n        });\n    },\n    notification(content,type){\n      const toast = useToast();\n      toast(content, {\n        hideProgressBar: true,\n        icon: false,\n        type:type,\n        closeButton: false,\n        position: 'top-right',\n        timeout:1500\n      });\n    },\n    uploadExcel(){\n      const formData = new FormData();\n      formData.append(\"file\", this.excel);\n      axios.post(\"api/product/excelUpload\",formData,\n        {\n          headers: {\n            \"Content-Type\": \"multipart/form-data\",\n          },\n        })\n        .then(response=>{\n          this.status=response.status\n          console.log(response.status);\n          this.notification('Uploaded Successfully','success');\n        })\n        .catch(()=>{\n          this.notification('EANCode already exist','error');\n        });\n      this.$refs.file.value = null;\n\n    },\n    downloadExport() {\n      this.axios.get('/v1/some-endpoint', {\n        // If you forget this, your download will be corrupt.\n        responseType: 'blob'\n      }).then((response) => {\n        // Let's create a link in the document that we'll\n        // programmatically 'click'.\n        const link = document.createElement('a');\n\n        // Tell the browser to associate the response data to\n        // the URL of the link we created above.\n        link.href = window.URL.createObjectURL(\n          new Blob([response.data])\n        );\n\n        // Tell the browser to download, not render, the file.\n        link.setAttribute('download', 'report.xlsx');\n\n        // Place the link in the DOM.\n        document.body.appendChild(link);\n\n        // Make the magic happen!\n        link.click();\n      }); // Please catch me!\n    }\n  }\n\n};\n</script>\n\n<style></style>\n"],"sourceRoot":""}]}