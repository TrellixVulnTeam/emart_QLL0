{"remainingRequest":"C:\\Users\\pc\\vue\\e-metro\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\pc\\vue\\e-metro\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\Users\\pc\\vue\\e-metro\\node_modules\\@vue\\cli-service\\node_modules\\vue-loader-v16\\dist\\index.js??ref--0-1!C:\\Users\\pc\\vue\\e-metro\\src\\components\\masterProducts\\schemes\\_list.vue?vue&type=script&lang=js","dependencies":[{"path":"C:\\Users\\pc\\vue\\e-metro\\src\\components\\masterProducts\\schemes\\_list.vue","mtime":1636979558562},{"path":"C:\\Users\\pc\\vue\\e-metro\\babel.config.js","mtime":1614941550000},{"path":"C:\\Users\\pc\\vue\\e-metro\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\pc\\vue\\e-metro\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"C:\\Users\\pc\\vue\\e-metro\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\pc\\vue\\e-metro\\node_modules\\@vue\\cli-service\\node_modules\\vue-loader-v16\\dist\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IEJhc2VQYWdpbmF0aW9uIGZyb20gIkAvY29tcG9uZW50cy9CYXNlUGFnaW5hdGlvbiI7CmltcG9ydCBheGlvcyBmcm9tICdheGlvcyc7CmV4cG9ydCBkZWZhdWx0IHsKICBjb21wb25lbnRzOiB7CiAgICBCYXNlUGFnaW5hdGlvbjogQmFzZVBhZ2luYXRpb24KICB9LAogIGNvbXB1dGVkOiB7fSwKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgdmlzaWJsZVNjaGVtZTogZmFsc2UsCiAgICAgIGZvcm06IHsKICAgICAgICBzdGFydERhdGU6ICcnLAogICAgICAgIGVuZERhdGU6ICcnLAogICAgICAgIHNjaGVtYU51bWJlcjogJycKICAgICAgfSwKICAgICAgcGFnaW5hdGlvbjogewogICAgICAgIHBlclBhZ2U6IDEwLAogICAgICAgIGN1cnJlbnRQYWdlOiAxLAogICAgICAgIHBlclBhZ2VPcHRpb25zOiBbNSwgMTAsIDI1LCA1MF0sCiAgICAgICAgdG90YWw6IDAKICAgICAgfSwKICAgICAgc2NoZW1lRGF0YTogW10sCiAgICAgIGNvbmZpcm1Nb2RhbDogZmFsc2UsCiAgICAgIGRlbGV0aW5nOiBudWxsCiAgICB9OwogIH0sCiAgbW91bnRlZDogZnVuY3Rpb24gbW91bnRlZCgpIHsKICAgIHRoaXMuZmV0Y2hTY2hlbWVzKCk7CiAgfSwKICBtZXRob2RzOiB7CiAgICBmZXRjaFNjaGVtZXM6IGZ1bmN0aW9uIGZldGNoU2NoZW1lcygpIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKCiAgICAgIGF4aW9zLmdldCgiYXBpL3NjaGVtYS9nZXQiLCB7CiAgICAgICAgcGFyYW1zOiB7CiAgICAgICAgICBzdGFydERhdGU6IHRoaXMuZm9ybS5zdGFydERhdGUsCiAgICAgICAgICBlbmREYXRlOiB0aGlzLmZvcm0uZW5kRGF0ZSwKICAgICAgICAgIHNjaGVtYU51bWJlcjogdGhpcy5mb3JtLnNjaGVtYU51bWJlcgogICAgICAgIH0KICAgICAgfSkudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICBfdGhpcy5zY2hlbWVEYXRhID0gcmVzcG9uc2UuZGF0YTsKICAgICAgICBfdGhpcy52aXNpYmxlU2NoZW1lID0gdHJ1ZTsKICAgICAgfSlbImNhdGNoIl0oZnVuY3Rpb24gKGVycm9yKSB7CiAgICAgICAgY29uc29sZS5sb2coZXJyb3IpOwogICAgICAgIF90aGlzLnZpc2libGVTY2hlbWUgPSBmYWxzZTsKICAgICAgfSk7CiAgICB9LAogICAgcmVzZXRGb3JtOiBmdW5jdGlvbiByZXNldEZvcm0oKSB7CiAgICAgIHRoaXMuZm9ybSA9IHt9OwogICAgICB0aGlzLmZldGNoU2NoZW1lcygpOwogICAgfSwKICAgIGNvbmZpcm1EZWxldGU6IGZ1bmN0aW9uIGNvbmZpcm1EZWxldGUodHlwZSkgewogICAgICB0aGlzLmNvbmZpcm1Nb2RhbCA9IHRydWU7CiAgICAgIHRoaXMuZGVsZXRpbmcgPSB0eXBlOwogICAgfSwKICAgIGRlc3Ryb3k6IGZ1bmN0aW9uIGRlc3Ryb3koaWQpIHsKICAgICAgdmFyIF90aGlzMiA9IHRoaXM7CgogICAgICBheGlvc1siZGVsZXRlIl0oImFwaS9zY2hlbWEvZGVsZXRlLyIgKyBpZCkudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICBjb25zb2xlLmxvZyhyZXNwb25zZSk7CgogICAgICAgIF90aGlzMi5mZXRjaFNjaGVtZXMoKTsKCiAgICAgICAgX3RoaXMyLmRlbGV0aW5nID0gbnVsbDsKICAgICAgfSk7CiAgICB9LAogICAgc2VsZWN0aW9uQ2hhbmdlOiBmdW5jdGlvbiBzZWxlY3Rpb25DaGFuZ2Uoc2VsZWN0ZWRSb3dzKSB7CiAgICAgIHRoaXMuc2VsZWN0ZWRSb3dzID0gc2VsZWN0ZWRSb3dzOwogICAgfQogIH0KfTs="},{"version":3,"sources":["C:\\Users\\pc\\vue\\e-metro\\src\\components\\masterProducts\\schemes\\_list.vue"],"names":[],"mappings":"AA4IA,OAAO,cAAP,MAA2B,6BAA3B;AACA,OAAO,KAAP,MAAkB,OAAlB;AAEA,eAAe;AACb,EAAA,UAAU,EAAE;AACV,IAAA,cAAc,EAAd;AADU,GADC;AAIb,EAAA,QAAQ,EAAE,EAJG;AAOb,EAAA,IAPa,kBAON;AACL,WAAO;AACL,MAAA,aAAa,EAAC,KADT;AAEL,MAAA,IAAI,EAAC;AACH,QAAA,SAAS,EAAC,EADP;AAEH,QAAA,OAAO,EAAC,EAFL;AAGH,QAAA,YAAY,EAAC;AAHV,OAFA;AAQL,MAAA,UAAU,EAAE;AACV,QAAA,OAAO,EAAE,EADC;AAEV,QAAA,WAAW,EAAE,CAFH;AAGV,QAAA,cAAc,EAAE,CAAC,CAAD,EAAI,EAAJ,EAAQ,EAAR,EAAY,EAAZ,CAHN;AAIV,QAAA,KAAK,EAAE;AAJG,OARP;AAcL,MAAA,UAAU,EAAC,EAdN;AAeL,MAAA,YAAY,EAAE,KAfT;AAgBL,MAAA,QAAQ,EAAE;AAhBL,KAAP;AAkBD,GA1BY;AA2Bb,EAAA,OA3Ba,qBA2BH;AACR,SAAK,YAAL;AACD,GA7BY;AA8Bb,EAAA,OAAO,EAAE;AACP,IAAA,YADO,0BACO;AAAA;;AAEZ,MAAA,KAAK,CAAC,GAAN,mBAA2B;AACzB,QAAA,MAAM,EAAC;AACL,UAAA,SAAS,EAAE,KAAK,IAAL,CAAU,SADhB;AAEL,UAAA,OAAO,EAAE,KAAK,IAAL,CAAU,OAFd;AAGL,UAAA,YAAY,EAAC,KAAK,IAAL,CAAU;AAHlB;AADkB,OAA3B,EAOC,IAPD,CAOM,UAAA,QAAQ,EAAE;AACd,QAAA,KAAI,CAAC,UAAL,GAAgB,QAAQ,CAAC,IAAzB;AACA,QAAA,KAAI,CAAC,aAAL,GAAmB,IAAnB;AACD,OAVD,WAWO,UAAA,KAAK,EAAE;AACZ,QAAA,OAAO,CAAC,GAAR,CAAY,KAAZ;AACA,QAAA,KAAI,CAAC,aAAL,GAAmB,KAAnB;AACD,OAdD;AAgBD,KAnBM;AAqBP,IAAA,SArBO,uBAqBI;AACT,WAAK,IAAL,GAAU,EAAV;AACA,WAAK,YAAL;AAED,KAzBM;AA2BP,IAAA,aA3BO,yBA2BO,IA3BP,EA2Ba;AAClB,WAAK,YAAL,GAAoB,IAApB;AACA,WAAK,QAAL,GAAgB,IAAhB;AACD,KA9BM;AA+BP,IAAA,OA/BO,mBA+BC,EA/BD,EA+BK;AAAA;;AACV,MAAA,KAAK,UAAL,CAAa,uBAAqB,EAAlC,EACG,IADH,CACQ,UAAA,QAAO,EAAK;AAChB,QAAA,OAAO,CAAC,GAAR,CAAY,QAAZ;;AACA,QAAA,MAAI,CAAC,YAAL;;AACA,QAAA,MAAI,CAAC,QAAL,GAAgB,IAAhB;AACD,OALH;AAMD,KAtCM;AAwCP,IAAA,eAxCO,2BAwCS,YAxCT,EAwCuB;AAC5B,WAAK,YAAL,GAAoB,YAApB;AACD;AA1CM;AA9BI,CAAf","sourcesContent":["<template>\n\n        <card\n          class=\"no-border-card\"\n          body-classes=\"px-0 pb-1 py-3\"\n          footer-classes=\"pb-2\"\n        >\n            <form>\n            <div class=\"row px-2\">\n              <div class=\"col-3 pr-0 form-group\">\n                <div class=\"d-flex\">\n                  <label class=\"mt-2 px-1\">From:</label>\n                  <input type=\"date\" class=\"form-control\" placeholder=\"from\" v-model=\"form.startDate\">\n                </div>\n              </div>\n              <div class=\"col-3 pr-0 form-group\">\n                <div class=\"d-flex\">\n                  <label class=\"mt-2 px-1\">To:</label>\n                  <input type=\"date\" class=\"form-control\" placeholder=\"to\" v-model=\"form.endDate\" @mouseout=\"fetchSchemes\">\n                </div>\n              </div>\n              <div class=\"col-2 pr-0\">\n                <input\n                  type=\"text\"\n                  placeholder=\"Scheme Id\"\n                  class=\"form-control\"\n                  v-model=\"form.schemaNumber\"\n                />\n              </div>\n              <div class=\"col-1 pr-0\">\n                <button\n                  class=\"btn base-button btn-default\"\n                  type=\"button\"\n                  @click=\"fetchSchemes\"\n                >\n                  search\n                </button>\n              </div>\n              <div class=\"col-1 pl-4\">\n                <button\n                  class=\"btn base-button btn-default\"\n                  type=\"button\"\n                  @click=\"resetForm\"\n                >\n                  reset\n                </button>\n              </div>\n            </div>\n          </form>\n\n            <div class=\"pl-0\" v-if=\"visibleScheme\">\n              <Table>\n                <template #thead>\n                  <tr>\n                    <th>Sr No</th>\n                    <th>ID</th>\n                    <th>Scheme No</th>\n                    <th>Scheme Name</th>\n                    <th>Date</th>\n                    <th>EAN Code</th>\n                    <th>Product Name</th>\n                    <th>Quantity</th>\n                    <th>UOM</th>\n                    <th>Free Quantity</th>\n                    <th>Discount</th>\n                    <th>Net PTR</th>\n                    <th>Narration</th>\n                    <th>Validity</th>\n                    <th>Active</th>\n                    <th>Action</th>\n\n                  </tr>\n\n                </template>\n                <template #tbody>\n                  <tr v-for=\"(data,index) in schemeData\" :key=\"data._id\">\n                    <td>{{index+1}}</td>\n                    <td>{{data._id}}</td>\n                    <td>{{ data.schemaNumber }}</td>\n                    <td>{{ data.schemaName }}</td>\n                    <td>{{ data.date }}</td>\n                    <td>{{ data.EANCode }}</td>\n                    <td>{{ data.productName }}</td>\n                    <td>{{ data.quantity }}</td>\n                    <td>{{ data.UOM }}</td>\n                    <td>{{ data.freeQuantity }}</td>\n                    <td>{{ data.discount }}</td>\n                    <td>{{ data.netPTR }}</td>\n                    <td>{{ data.nararation }}</td>\n                    <td>{{ data.validity }}</td>\n                    <td>{{ data.active }}</td>\n                    <td>\n                      <div class=\"\">\n                        <router-link :to=\"{name:'SchemesEdit',params: { id: data._id}}\">\n                          <button type=\"button\"\n                                  class=\"btn base-button btn-icon btn-fab btn btn-default btn-sm edit\">\n                            <i class=\"text-white ni ni-ruler-pencil\"></i>\n                          </button>\n                        </router-link>\n                        <button type=\"button\"\n                                class=\"btn base-button btn-icon btn-fab btn-danger btn-sm remove btn-link\"\n                                @click.prevent=\"destroy(data._id)\"\n                        >\n                          <i class=\"text-white ni ni-fat-remove\"></i>\n\n                        </button>\n                      </div>\n                    </td>\n                  </tr>\n\n                </template>\n              </Table>\n            </div>\n            <div v-if=\"visibleScheme==false\" class=\"text-center mt-4\">\n                Data not found\n            </div>\n          <template v-slot:footer>\n            <div\n              class=\"col-12 d-flex justify-content-center justify-content-sm-between flex-wrap\"\n            >\n              <div class=\"\">\n                <p class=\"card-category\">\n                  Showing {{ from + 1 }} to {{ to }} of {{ total }} entries\n                </p>\n              </div>\n              <base-pagination\n                class=\"pagination-no-border\"\n                v-model=\"pagination.currentPage\"\n                :per-page=\"pagination.perPage\"\n                :total=\"total\"\n              >\n              </base-pagination>\n            </div>\n          </template>\n        </card>\n\n</template>\n<script>\n\n\nimport BasePagination from \"@/components/BasePagination\";\nimport axios from 'axios';\n\nexport default {\n  components: {\n    BasePagination,\n  },\n  computed: {\n\n  },\n  data() {\n    return {\n      visibleScheme:false,\n      form:{\n        startDate:'',\n        endDate:'',\n        schemaNumber:'',\n      },\n\n      pagination: {\n        perPage: 10,\n        currentPage: 1,\n        perPageOptions: [5, 10, 25, 50],\n        total: 0,\n      },\n      schemeData:[],\n      confirmModal: false,\n      deleting: null,\n    };\n  },\n  mounted() {\n    this.fetchSchemes();\n  },\n  methods: {\n    fetchSchemes(){\n\n      axios.get(`api/schema/get`,{\n        params:{\n          startDate: this.form.startDate,\n          endDate: this.form.endDate,\n          schemaNumber:this.form.schemaNumber\n        }\n      })\n      .then(response=>{\n        this.schemeData=response.data;\n        this.visibleScheme=true;\n      })\n      .catch(error=>{\n        console.log(error);\n        this.visibleScheme=false\n      });\n\n    },\n\n    resetForm(){\n      this.form={}\n      this.fetchSchemes();\n\n    },\n\n    confirmDelete(type) {\n      this.confirmModal = true;\n      this.deleting = type;\n    },\n    destroy(id) {\n      axios.delete(`api/schema/delete/`+id)\n        .then(response => {\n          console.log(response);\n          this.fetchSchemes();\n          this.deleting = null;\n        });\n    },\n\n    selectionChange(selectedRows) {\n      this.selectedRows = selectedRows;\n    },\n  },\n};\n</script>\n<style>\n.no-border-card .card-footer {\n  border-top: 0;\n}\n</style>\n"],"sourceRoot":""}]}