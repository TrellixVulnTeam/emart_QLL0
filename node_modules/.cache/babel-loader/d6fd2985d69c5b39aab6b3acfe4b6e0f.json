{"remainingRequest":"C:\\Users\\pc\\vue\\e-metro\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\pc\\vue\\e-metro\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\Users\\pc\\vue\\e-metro\\node_modules\\@vue\\cli-service\\node_modules\\vue-loader-v16\\dist\\index.js??ref--0-1!C:\\Users\\pc\\vue\\e-metro\\src\\views\\example.vue?vue&type=script&lang=js","dependencies":[{"path":"C:\\Users\\pc\\vue\\e-metro\\src\\views\\example.vue","mtime":1636969804580},{"path":"C:\\Users\\pc\\vue\\e-metro\\babel.config.js","mtime":1614941550000},{"path":"C:\\Users\\pc\\vue\\e-metro\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\pc\\vue\\e-metro\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"C:\\Users\\pc\\vue\\e-metro\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\pc\\vue\\e-metro\\node_modules\\@vue\\cli-service\\node_modules\\vue-loader-v16\\dist\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IGF4aW9zIGZyb20gImF4aW9zIjsKaW1wb3J0IGZsYXRQaWNrZXIgZnJvbSAidnVlLWZsYXRwaWNrci1jb21wb25lbnQiOwppbXBvcnQgJ2ZsYXRwaWNrci9kaXN0L2ZsYXRwaWNrci5jc3MnOwppbXBvcnQgRGF0ZVJhbmdlUGlja2VyIGZyb20gJ3Z1ZTItZGF0ZXJhbmdlLXBpY2tlcic7CmltcG9ydCB7IHVzZVRvYXN0IH0gZnJvbSAndnVlLXRvYXN0aWZpY2F0aW9uJzsgLy95b3UgbmVlZCB0byBpbXBvcnQgdGhlIENTUyBtYW51YWxseQoKaW1wb3J0ICd2dWUyLWRhdGVyYW5nZS1waWNrZXIvZGlzdC92dWUyLWRhdGVyYW5nZS1waWNrZXIuY3NzJzsKZXhwb3J0IGRlZmF1bHQgewogIGNvbXBvbmVudHM6IHsKICAgIGZsYXRQaWNrZXI6IGZsYXRQaWNrZXIsCiAgICBEYXRlUmFuZ2VQaWNrZXI6IERhdGVSYW5nZVBpY2tlcgogIH0sCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIHZpc2libGVDYXJkOiBmYWxzZSwKICAgICAgZXhjZWw6ICcnLAogICAgICBzdGF0dXM6ICcnLAogICAgICBzY2hlbWFOYW1lOiAnJywKICAgICAgc2NoZW1lRGF0YTogW10sCiAgICAgIGRhdGVzOiB7CiAgICAgICAgc3RhcnREYXRlOiAnJywKICAgICAgICBlbmREYXRlOiAnJwogICAgICB9CiAgICB9OwogIH0sCiAgbW91bnRlZDogZnVuY3Rpb24gbW91bnRlZCgpIHsKICAgIHRoaXMuZmV0Y2hTY2hlbWVzKCk7CiAgfSwKICBtZXRob2RzOiB7CiAgICBoYW5kbGVGaWxlVXBsb2FkOiBmdW5jdGlvbiBoYW5kbGVGaWxlVXBsb2FkKCkgewogICAgICB0aGlzLmV4Y2VsID0gdGhpcy4kcmVmcy5maWxlLmZpbGVzWzBdOwogICAgfSwKICAgIG5vdGlmaWNhdGlvbjogZnVuY3Rpb24gbm90aWZpY2F0aW9uKGNvbnRlbnQsIHR5cGUpIHsKICAgICAgdmFyIHRvYXN0ID0gdXNlVG9hc3QoKTsKICAgICAgdG9hc3QoY29udGVudCwgewogICAgICAgIGhpZGVQcm9ncmVzc0JhcjogdHJ1ZSwKICAgICAgICBpY29uOiBmYWxzZSwKICAgICAgICB0eXBlOiB0eXBlLAogICAgICAgIGNsb3NlQnV0dG9uOiBmYWxzZSwKICAgICAgICBwb3NpdGlvbjogJ3RvcC1yaWdodCcsCiAgICAgICAgdGltZW91dDogMTUwMAogICAgICB9KTsKICAgIH0sCiAgICB1cGxvYWRFeGNlbDogZnVuY3Rpb24gdXBsb2FkRXhjZWwoKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICB2YXIgZm9ybURhdGEgPSBuZXcgRm9ybURhdGEoKTsKICAgICAgZm9ybURhdGEuYXBwZW5kKCJmaWxlIiwgdGhpcy5leGNlbCk7CiAgICAgIGF4aW9zLnBvc3QoImFwaS9wcm9kdWN0L2V4Y2VsVXBsb2FkIiwgZm9ybURhdGEsIHsKICAgICAgICBoZWFkZXJzOiB7CiAgICAgICAgICAiQ29udGVudC1UeXBlIjogIm11bHRpcGFydC9mb3JtLWRhdGEiCiAgICAgICAgfQogICAgICB9KS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgIF90aGlzLnN0YXR1cyA9IHJlc3BvbnNlLnN0YXR1czsKICAgICAgICBjb25zb2xlLmxvZyhyZXNwb25zZS5zdGF0dXMpOwoKICAgICAgICBfdGhpcy5ub3RpZmljYXRpb24oJ1VwbG9hZGVkIFN1Y2Nlc3NmdWxseScsICdzdWNjZXNzJyk7CiAgICAgIH0pWyJjYXRjaCJdKGZ1bmN0aW9uICgpIHsKICAgICAgICBfdGhpcy5ub3RpZmljYXRpb24oJ0VBTkNvZGUgYWxyZWFkeSBleGlzdCcsICdlcnJvcicpOwogICAgICB9KTsKICAgICAgdGhpcy4kcmVmcy5maWxlLnZhbHVlID0gbnVsbDsKICAgIH0sCiAgICBmZXRjaFNjaGVtZXM6IGZ1bmN0aW9uIGZldGNoU2NoZW1lcygpIHsKICAgICAgdmFyIF90aGlzMiA9IHRoaXM7CgogICAgICBheGlvcy5nZXQoIi9hcGkvc2NoZW1hL2dldCIsIHsKICAgICAgICBwYXJhbXM6IHsKICAgICAgICAgIHN0YXJ0RGF0ZTogdGhpcy5kYXRlcy5zdGFydERhdGUsCiAgICAgICAgICBlbmREYXRlOiB0aGlzLmRhdGVzLmVuZERhdGUKICAgICAgICB9CiAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgX3RoaXMyLnNjaGVtZURhdGEgPSByZXNwb25zZS5kYXRhOwogICAgICB9KTsKICAgIH0sCiAgICBzdWJtaXQ6IGZ1bmN0aW9uIHN1Ym1pdCgpIHsKICAgICAgdmFyIF90aGlzMyA9IHRoaXM7CgogICAgICAvLyBjb25zdCBmb3JtRGF0YSA9IG5ldyBGb3JtRGF0YSgpOwogICAgICAvL2Zvcm1EYXRhLmFwcGVuZCgnc2NoZW1hTmFtZScsdGhpcy5zY2hlbWFOYW1lKTsKICAgICAgY29uc29sZS5sb2codGhpcy5zY2hlbWFOYW1lKTsKICAgICAgYXhpb3MucG9zdCgiL2FwaS9zY2hlbWEvY3JlYXRlIiwgewogICAgICAgICdzY2hlbWFOYW1lJzogdGhpcy5zY2hlbWFOYW1lCiAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgY29uc29sZS5sb2cocmVzcG9uc2UpOwogICAgICB9KVsiY2F0Y2giXShmdW5jdGlvbiAoZXJyb3IpIHsKICAgICAgICBfdGhpczMuZXJyb3IgPSBlcnJvcjsKICAgICAgICBjb25zb2xlLmxvZyhfdGhpczMuZXJyb3IpOwogICAgICB9KTsKICAgIH0KICB9Cn07"},{"version":3,"sources":["C:\\Users\\pc\\vue\\e-metro\\src\\views\\example.vue"],"names":[],"mappings":"AA2IA,OAAO,KAAP,MAAkB,OAAlB;AACA,OAAO,UAAP,MAAuB,yBAAvB;AACA,OAAO,8BAAP;AACA,OAAO,eAAP,MAA4B,uBAA5B;AACA,SAAQ,QAAR,QAAuB,oBAAvB,C,CACA;;AACA,OAAO,sDAAP;AAEA,eAAe;AACb,EAAA,UAAU,EAAC;AAAC,IAAA,UAAU,EAAV,UAAD;AAAY,IAAA,eAAe,EAAf;AAAZ,GADE;AAEb,EAAA,IAFa,kBAEP;AACJ,WAAM;AACJ,MAAA,WAAW,EAAC,KADR;AAEJ,MAAA,KAAK,EAAC,EAFF;AAGJ,MAAA,MAAM,EAAC,EAHH;AAIJ,MAAA,UAAU,EAAC,EAJP;AAKJ,MAAA,UAAU,EAAC,EALP;AAMJ,MAAA,KAAK,EAAE;AACL,QAAA,SAAS,EAAC,EADL;AAEL,QAAA,OAAO,EAAC;AAFH;AANH,KAAN;AAWD,GAdY;AAeb,EAAA,OAfa,qBAeH;AACR,SAAK,YAAL;AACD,GAjBY;AAkBb,EAAA,OAAO,EAAC;AACN,IAAA,gBADM,8BACa;AACjB,WAAK,KAAL,GAAa,KAAK,KAAL,CAAW,IAAX,CAAgB,KAAhB,CAAsB,CAAtB,CAAb;AACD,KAHK;AAIN,IAAA,YAJM,wBAIO,OAJP,EAIe,IAJf,EAIoB;AACxB,UAAM,KAAI,GAAI,QAAQ,EAAtB;AACA,MAAA,KAAK,CAAC,OAAD,EAAU;AACb,QAAA,eAAe,EAAE,IADJ;AAEb,QAAA,IAAI,EAAE,KAFO;AAGb,QAAA,IAAI,EAAC,IAHQ;AAIb,QAAA,WAAW,EAAE,KAJA;AAKb,QAAA,QAAQ,EAAE,WALG;AAMb,QAAA,OAAO,EAAC;AANK,OAAV,CAAL;AAQD,KAdK;AAeN,IAAA,WAfM,yBAeO;AAAA;;AACT,UAAM,QAAO,GAAI,IAAI,QAAJ,EAAjB;AACA,MAAA,QAAQ,CAAC,MAAT,CAAgB,MAAhB,EAAwB,KAAK,KAA7B;AACA,MAAA,KAAK,CAAC,IAAN,CAAW,yBAAX,EAAqC,QAArC,EACE;AACE,QAAA,OAAO,EAAE;AACP,0BAAgB;AADT;AADX,OADF,EAMG,IANH,CAMQ,UAAA,QAAQ,EAAE;AACd,QAAA,KAAI,CAAC,MAAL,GAAY,QAAQ,CAAC,MAArB;AACA,QAAA,OAAO,CAAC,GAAR,CAAY,QAAQ,CAAC,MAArB;;AACA,QAAA,KAAI,CAAC,YAAL,CAAkB,uBAAlB,EAA0C,SAA1C;AACD,OAVH,WAWO,YAAI;AACT,QAAA,KAAI,CAAC,YAAL,CAAkB,uBAAlB,EAA0C,OAA1C;AACD,OAbD;AAcF,WAAK,KAAL,CAAW,IAAX,CAAgB,KAAhB,GAAwB,IAAxB;AAED,KAlCK;AAmCN,IAAA,YAnCM,0BAmCQ;AAAA;;AACZ,MAAA,KAAK,CAAC,GAAN,CAAU,iBAAV,EAA4B;AAC1B,QAAA,MAAM,EAAC;AACL,UAAA,SAAS,EAAE,KAAK,KAAL,CAAW,SADjB;AAEL,UAAA,OAAO,EAAE,KAAK,KAAL,CAAW;AAFf;AADmB,OAA5B,EAMG,IANH,CAMQ,UAAA,QAAQ,EAAE;AACd,QAAA,MAAI,CAAC,UAAL,GAAgB,QAAQ,CAAC,IAAzB;AACD,OARH;AASD,KA7CK;AA8CN,IAAA,MA9CM,oBA8CE;AAAA;;AACP;AACC;AACA,MAAA,OAAO,CAAC,GAAR,CAAY,KAAK,UAAjB;AACA,MAAA,KAAK,CAAC,IAAN,uBAAgC;AAAC,sBAAa,KAAK;AAAnB,OAAhC,EAEG,IAFH,CAEQ,UAAA,QAAO,EAAK;AAChB,QAAA,OAAO,CAAC,GAAR,CAAY,QAAZ;AACD,OAJH,WAKS,UAAA,KAAI,EAAI;AACb,QAAA,MAAI,CAAC,KAAL,GAAW,KAAX;AACA,QAAA,OAAO,CAAC,GAAR,CAAY,MAAI,CAAC,KAAjB;AACD,OARH;AAUD;AA5DK;AAlBK,CAAf","sourcesContent":["<template>\n\n  <div>\n    <form @submit=\"submit\">\n<!--      <label>Scheme Name</label> <input class=\"form-control\" type=\"text\" v-model=\"schemaName\"/>-->\n      <div class=\"row px-4\">\n        <label class=\"mt-2\">Filter:</label>\n        <div class=\"col-3 pr-0 form-group\">\n\n<!--          <flat-picker\n            :config=\"{ allowInput:true,mode:'range',}\"\n            class=\"form-control datepicker\"\n            v-model=\"dates[0]\"\n          >\n          </flat-picker>-->\n          <input type=\"date\" class=\"form-control\" placeholder=\"from\" v-model=\"dates.startDate\">\n          <input type=\"date\" class=\"form-control\" placeholder=\"to\" v-model=\"dates.endDate\">\n\n\n\n<!--          <DateRangePicker></DateRangePicker>-->\n\n<!--          <date-range-picker\n            :startDate=\"params.startDate\"\n            :endDate=\"params.endDate\"\n          >\n          </date-range-picker>-->\n\n\n        </div>\n\n        <div class=\"col-2 pr-0\">\n          <button\n            class=\"btn base-button btn-default\"\n            type=\"button\"\n            @click=\"fetchSchemes\"\n          >\n            search\n          </button>\n\n        </div>\n      </div>\n      <base-button class=\"btn-primary\" type=\"submit\" >Submit</base-button>\n    </form>\n    <Table>\n      <template #thead>\n        <tr>\n          <th>Sr No</th>\n          <th>ID</th>\n          <th>Scheme No</th>\n          <th>Scheme Name</th>\n          <th>Date</th>\n          <th>EAN Code</th>\n          <th>Product Name</th>\n          <th>Quantity</th>\n          <th>UOM</th>\n          <th>Free Quantity</th>\n          <th>Discount</th>\n          <th>Net PTR</th>\n          <th>Narration</th>\n          <th>Validity</th>\n          <th>Active</th>\n          <th>Action</th>\n\n        </tr>\n\n      </template>\n      <template #tbody>\n        <tr v-for=\"(data,index) in schemeData\" :key=\"data._id\">\n          <td>{{index+1}}</td>\n          <td>{{data._id}}</td>\n          <td>{{ data.schemaNumber }}</td>\n          <td>{{ data.schemaName }}</td>\n          <td>{{ data.date }}</td>\n          <td>{{ data.EANCode }}</td>\n          <td>{{ data.productName }}</td>\n          <td>{{ data.quantity }}</td>\n          <td>{{ data.UOM }}</td>\n          <td>{{ data.freeQuantity }}</td>\n          <td>{{ data.discount }}</td>\n          <td>{{ data.netPTR }}</td>\n          <td>{{ data.nararation }}</td>\n          <td>{{ data.validity }}</td>\n          <td>{{ data.active }}</td>\n          <td>\n            <div class=\"\">\n              <router-link :to=\"{name:'SchemesEdit',params: { id: data._id}}\">\n                <button type=\"button\"\n                        class=\"btn base-button btn-icon btn-fab btn btn-default btn-sm edit\">\n                  <i class=\"text-white ni ni-ruler-pencil\"></i>\n                </button>\n              </router-link>\n              <button type=\"button\"\n                      class=\"btn base-button btn-icon btn-fab btn-danger btn-sm remove btn-link\"\n                      @click.prevent=\"destroy(data._id)\"\n              >\n                <i class=\"text-white ni ni-fat-remove\"></i>\n\n              </button>\n            </div>\n          </td>\n        </tr>\n\n      </template>\n    </Table>\n    <button type=\"button\" class=\"btn base-button btn-default\">\n      <export-excel\n        :data   = \"schemeData\">\n        Download Data\n      </export-excel>\n    </button>\n    <button type=\"button\" class=\"btn base-button btn-default\" @click=\"visibleCard=true\" data-toggle=\"modal\" data-target=\"#add\">\n      upload excel\n    </button>\n    <div v-if=\"visibleCard\">\n      <DataModal :title=\"('Upload Excel')\" >\n          <template v-slot:body>\n            <div>\n              <form>\n                <input class=\"form-control\"\n                       type=\"file\"\n                       ref=\"file\"\n                       @change=\"handleFileUpload\"\n                       name=\"file\">\n              </form>\n            </div>\n          </template>\n        <template v-slot:footer>\n            <button type=\"button\" class=\"btn btn-secondary\" data-dismiss=\"modal\">Close</button>\n            <button type=\"button\" class=\"btn base-button btn-default\" data-dismiss=\"modal\" @click=\"uploadExcel\">\n              upload\n            </button>\n        </template>\n      </DataModal>\n    </div>\n\n  </div>\n</template>\n<script>\nimport axios from \"axios\";\nimport flatPicker from \"vue-flatpickr-component\";\nimport 'flatpickr/dist/flatpickr.css';\nimport DateRangePicker from 'vue2-daterange-picker'\nimport {useToast} from 'vue-toastification';\n//you need to import the CSS manually\nimport 'vue2-daterange-picker/dist/vue2-daterange-picker.css'\n\nexport default {\n  components:{flatPicker,DateRangePicker},\n  data(){\n    return{\n      visibleCard:false,\n      excel:'',\n      status:'',\n      schemaName:'',\n      schemeData:[],\n      dates: {\n        startDate:'',\n        endDate:''\n      }\n    }\n  },\n  mounted() {\n    this.fetchSchemes();\n  },\n  methods:{\n    handleFileUpload() {\n      this.excel = this.$refs.file.files[0];\n    },\n    notification(content,type){\n      const toast = useToast();\n      toast(content, {\n        hideProgressBar: true,\n        icon: false,\n        type:type,\n        closeButton: false,\n        position: 'top-right',\n        timeout:1500\n      });\n    },\n    uploadExcel(){\n        const formData = new FormData();\n        formData.append(\"file\", this.excel);\n        axios.post(\"api/product/excelUpload\",formData,\n          {\n            headers: {\n              \"Content-Type\": \"multipart/form-data\",\n            },\n          })\n          .then(response=>{\n            this.status=response.status\n            console.log(response.status);\n            this.notification('Uploaded Successfully','success');\n          })\n        .catch(()=>{\n          this.notification('EANCode already exist','error');\n        });\n      this.$refs.file.value = null;\n\n    },\n    fetchSchemes(){\n      axios.get(\"/api/schema/get\",{\n        params:{\n          startDate: this.dates.startDate,\n          endDate: this.dates.endDate\n        }\n      })\n        .then(response=>{\n          this.schemeData=response.data;\n        });\n    },\n    submit(){\n     // const formData = new FormData();\n      //formData.append('schemaName',this.schemaName);\n      console.log(this.schemaName);\n      axios.post(`/api/schema/create`,{'schemaName':this.schemaName}\n      )\n        .then(response => {\n          console.log(response);\n        })\n        .catch(error =>{\n          this.error=error;\n          console.log(this.error);\n        });\n\n    },\n\n  }\n}\n</script>\n"],"sourceRoot":""}]}