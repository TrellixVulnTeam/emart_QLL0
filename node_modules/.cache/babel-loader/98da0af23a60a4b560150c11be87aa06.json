{"remainingRequest":"C:\\Users\\pc\\vue\\e-metro\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\pc\\vue\\e-metro\\node_modules\\vue-loader-v16\\dist\\templateLoader.js??ref--6!C:\\Users\\pc\\vue\\e-metro\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\Users\\pc\\vue\\e-metro\\node_modules\\vue-loader-v16\\dist\\index.js??ref--0-1!C:\\Users\\pc\\vue\\e-metro\\src\\components\\Inputs\\DropzoneFileUpload.vue?vue&type=template&id=1fcd8f1e","dependencies":[{"path":"C:\\Users\\pc\\vue\\e-metro\\src\\components\\Inputs\\DropzoneFileUpload.vue","mtime":1614941550000},{"path":"C:\\Users\\pc\\vue\\e-metro\\babel.config.js","mtime":1614941550000},{"path":"C:\\Users\\pc\\vue\\e-metro\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\pc\\vue\\e-metro\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"C:\\Users\\pc\\vue\\e-metro\\node_modules\\vue-loader-v16\\dist\\templateLoader.js","mtime":499162500000},{"path":"C:\\Users\\pc\\vue\\e-metro\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\pc\\vue\\e-metro\\node_modules\\vue-loader-v16\\dist\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IHsgY3JlYXRlVk5vZGUgYXMgX2NyZWF0ZVZOb2RlLCBvcGVuQmxvY2sgYXMgX29wZW5CbG9jaywgY3JlYXRlQmxvY2sgYXMgX2NyZWF0ZUJsb2NrLCBjcmVhdGVDb21tZW50Vk5vZGUgYXMgX2NyZWF0ZUNvbW1lbnRWTm9kZSwgY3JlYXRlU3RhdGljVk5vZGUgYXMgX2NyZWF0ZVN0YXRpY1ZOb2RlIH0gZnJvbSAidnVlIjsKdmFyIF9ob2lzdGVkXzEgPSB7CiAgImNsYXNzIjogImZhbGxiYWNrIgp9Owp2YXIgX2hvaXN0ZWRfMiA9IHsKICAiY2xhc3MiOiAiY3VzdG9tLWZpbGUiCn07Cgp2YXIgX2hvaXN0ZWRfMyA9IC8qI19fUFVSRV9fKi9fY3JlYXRlVk5vZGUoImxhYmVsIiwgewogICJjbGFzcyI6ICJjdXN0b20tZmlsZS1sYWJlbCIsCiAgImZvciI6ICJwcm9qZWN0Q292ZXJVcGxvYWRzIgp9LCAiQ2hvb3NlIGZpbGUiLCAtMQovKiBIT0lTVEVEICovCik7Cgp2YXIgX2hvaXN0ZWRfNCA9IC8qI19fUFVSRV9fKi9fY3JlYXRlVk5vZGUoImRpdiIsIHsKICAiY2xhc3MiOiAiZHotcHJldmlldy1jb3ZlciIKfSwgWy8qI19fUFVSRV9fKi9fY3JlYXRlVk5vZGUoImltZyIsIHsKICAiY2xhc3MiOiAiZHotcHJldmlldy1pbWciLAogICJkYXRhLWR6LXRodW1ibmFpbCI6ICIiCn0pXSwgLTEKLyogSE9JU1RFRCAqLwopOwoKdmFyIF9ob2lzdGVkXzUgPSAvKiNfX1BVUkVfXyovX2NyZWF0ZVN0YXRpY1ZOb2RlKCI8bGkgY2xhc3M9XCJsaXN0LWdyb3VwLWl0ZW0gcHgtMFwiPjxkaXYgY2xhc3M9XCJyb3cgYWxpZ24taXRlbXMtY2VudGVyXCI+PGRpdiBjbGFzcz1cImNvbC1hdXRvXCI+PGRpdiBjbGFzcz1cImF2YXRhclwiPjxpbWcgY2xhc3M9XCJhdmF0YXItaW1nIHJvdW5kZWRcIiBkYXRhLWR6LXRodW1ibmFpbD48L2Rpdj48L2Rpdj48ZGl2IGNsYXNzPVwiY29sIG1sLS0zXCI+PGg0IGNsYXNzPVwibWItMVwiIGRhdGEtZHotbmFtZT4uLi48L2g0PjxwIGNsYXNzPVwic21hbGwgdGV4dC1tdXRlZCBtYi0wXCIgZGF0YS1kei1zaXplPi4uLjwvcD48L2Rpdj48ZGl2IGNsYXNzPVwiY29sLWF1dG9cIj48YnV0dG9uIGRhdGEtZHotcmVtb3ZlPVwidHJ1ZVwiIGNsYXNzPVwiYnRuIGJ0bi1kYW5nZXIgYnRuLXNtXCI+PGkgY2xhc3M9XCJmYXMgZmEtdHJhc2hcIj48L2k+PC9idXR0b24+PC9kaXY+PC9kaXY+PC9saT4iLCAxKTsKCmV4cG9ydCBmdW5jdGlvbiByZW5kZXIoX2N0eCwgX2NhY2hlLCAkcHJvcHMsICRzZXR1cCwgJGRhdGEsICRvcHRpb25zKSB7CiAgcmV0dXJuIF9vcGVuQmxvY2soKSwgX2NyZWF0ZUJsb2NrKCJkaXYiLCB7CiAgICAiY2xhc3MiOiBbImRyb3B6b25lIG1iLTMgZHotY2xpY2thYmxlIiwgWyRwcm9wcy5tdWx0aXBsZSA/ICdkcm9wem9uZS1tdWx0aXBsZScgOiAnZHJvcHpvbmUtc2luZ2xlJ11dCiAgfSwgW19jcmVhdGVWTm9kZSgiZGl2IiwgX2hvaXN0ZWRfMSwgW19jcmVhdGVWTm9kZSgiZGl2IiwgX2hvaXN0ZWRfMiwgW19jcmVhdGVWTm9kZSgiaW5wdXQiLCB7CiAgICB0eXBlOiAiZmlsZSIsCiAgICAiY2xhc3MiOiAiY3VzdG9tLWZpbGUtaW5wdXQiLAogICAgaWQ6ICJwcm9qZWN0Q292ZXJVcGxvYWRzIiwKICAgIG11bHRpcGxlOiAkcHJvcHMubXVsdGlwbGUKICB9LCBudWxsLCA4CiAgLyogUFJPUFMgKi8KICAsIFsibXVsdGlwbGUiXSksIF9ob2lzdGVkXzNdKV0pLCAhJHByb3BzLm11bHRpcGxlID8gKF9vcGVuQmxvY2soKSwgX2NyZWF0ZUJsb2NrKCJkaXYiLCB7CiAgICBrZXk6IDAsCiAgICAiY2xhc3MiOiBbImR6LXByZXZpZXcgZHotcHJldmlldy1zaW5nbGUiLCAkcHJvcHMucHJldmlld0NsYXNzZXNdLAogICAgcmVmOiAicHJldmlld1NpbmdsZSIKICB9LCBbX2hvaXN0ZWRfNF0sIDIKICAvKiBDTEFTUyAqLwogICkpIDogKF9vcGVuQmxvY2soKSwgX2NyZWF0ZUJsb2NrKCJ1bCIsIHsKICAgIGtleTogMSwKICAgICJjbGFzcyI6IFsiZHotcHJldmlldyBkei1wcmV2aWV3LW11bHRpcGxlIGxpc3QtZ3JvdXAgbGlzdC1ncm91cC1sZyBsaXN0LWdyb3VwLWZsdXNoIiwgJHByb3BzLnByZXZpZXdDbGFzc2VzXSwKICAgIHJlZjogInByZXZpZXdNdWx0aXBsZSIKICB9LCBbX2hvaXN0ZWRfNV0sIDIKICAvKiBDTEFTUyAqLwogICkpXSwgMgogIC8qIENMQVNTICovCiAgKTsKfQ=="},{"version":3,"sources":["C:\\Users\\pc\\vue\\e-metro\\src\\components\\Inputs\\DropzoneFileUpload.vue"],"names":[],"mappings":";;AAKS,WAAM;;;AACJ,WAAM;;;8BAOT,YAAA,CAEC,OAFD,EAEC;AAFM,WAAM,mBAEZ;AAFgC,SAAI;AAEpC,CAFD,EACG,aADH,EACc,CAAA;AAAA;AADd,C;;8BAWF,YAAA,CAEM,KAFN,EAEM;AAFD,WAAM;AAEL,CAFN,EAA6B,C,aAC3B,YAAA,CAAgD,KAAhD,EAAgD;AAA3C,WAAM,gBAAqC;AAApB,uBAAA;AAAoB,CAAhD,CAD2B,CAA7B,E;;AAAA,C;;;;;uBAvBJ,YAAA,CAoDM,KApDN,EAoDM;AAnDJ,aAAK,CAAC,4BAAD,EAA6B,CACzB,MAAA,CAAA,QAAA,GAAQ,mBAAR,GAAQ,iBADiB,CAA7B;AAmDD,GApDN,E,CAIE,YAAA,CAYM,KAZN,EAAA,UAAA,EAYM,CAXJ,YAAA,CAUM,KAVN,EAAA,UAAA,EAUM,CATJ,YAAA,CAKE,OALF,EAKE;AAJA,IAAA,IAAI,EAAC,MAIL;AAHA,aAAM,mBAGN;AAFA,IAAA,EAAE,EAAC,qBAEH;AADC,IAAA,QAAQ,EAAE,MAAA,CAAA;AACX,GALF,E,IAAA,E;;AAAA,I,YAAA,CASI,EAHJ,UAGI,CAVN,CAWI,CAZN,C,GAeS,MAAA,CAAA,Q,kBAFT,YAAA,CASM,KATN,EASM;UAAA;AARJ,aAAK,CAAC,8BAAD,EAEG,MAAA,CAAA,cAFH,CAQD;AALJ,IAAA,GAAG,EAAC;AAKA,GATN,E,CAME,U,CANF,E;;AAAA,G,mBAUA,YAAA,CAwBK,IAxBL,EAwBK;UAAA;AAtBH,aAAK,CAAC,0EAAD,EACG,MAAA,CAAA,cADH,CAsBF;AApBH,IAAA,GAAG,EAAC;AAoBD,GAxBL,E,CAME,U,CANF,E;;AAAA,G,EA3BF,E;;AAAA,G","sourcesContent":["<template>\n  <div\n    class=\"dropzone mb-3 dz-clickable\"\n    :class=\"[multiple ? 'dropzone-multiple' : 'dropzone-single']\"\n  >\n    <div class=\"fallback\">\n      <div class=\"custom-file\">\n        <input\n          type=\"file\"\n          class=\"custom-file-input\"\n          id=\"projectCoverUploads\"\n          :multiple=\"multiple\"\n        />\n        <label class=\"custom-file-label\" for=\"projectCoverUploads\"\n          >Choose file</label\n        >\n      </div>\n    </div>\n    <div\n      class=\"dz-preview dz-preview-single\"\n      v-if=\"!multiple\"\n      :class=\"previewClasses\"\n      ref=\"previewSingle\"\n    >\n      <div class=\"dz-preview-cover\">\n        <img class=\"dz-preview-img\" data-dz-thumbnail />\n      </div>\n    </div>\n    <ul\n      v-else\n      class=\"dz-preview dz-preview-multiple list-group list-group-lg list-group-flush\"\n      :class=\"previewClasses\"\n      ref=\"previewMultiple\"\n    >\n      <li class=\"list-group-item px-0\">\n        <div class=\"row align-items-center\">\n          <div class=\"col-auto\">\n            <div class=\"avatar\">\n              <img class=\"avatar-img rounded\" data-dz-thumbnail />\n            </div>\n          </div>\n          <div class=\"col ml--3\">\n            <h4 class=\"mb-1\" data-dz-name>...</h4>\n            <p class=\"small text-muted mb-0\" data-dz-size>...</p>\n          </div>\n          <div class=\"col-auto\">\n            <button data-dz-remove=\"true\" class=\"btn btn-danger btn-sm\">\n              <i class=\"fas fa-trash\"></i>\n            </button>\n          </div>\n        </div>\n      </li>\n    </ul>\n  </div>\n</template>\n<script>\nexport default {\n  name: \"dropzone-file-upload\",\n  props: {\n    options: {\n      type: Object,\n      default: () => ({}),\n    },\n    value: [String, Object, Array],\n    url: {\n      type: String,\n      default: \"http://\",\n    },\n    multiple: Boolean,\n    previewClasses: [String, Object, Array],\n  },\n  model: {\n    prop: \"value\",\n    event: \"change\",\n  },\n  data() {\n    return {\n      currentFile: null,\n      files: [],\n      showList: false,\n    };\n  },\n  methods: {\n    async initDropzone() {\n      let Dropzone = await import(\"dropzone\");\n      Dropzone = Dropzone.default || Dropzone;\n      Dropzone.autoDiscover = false;\n      let preview = this.multiple\n        ? this.$refs.previewMultiple\n        : this.$refs.previewSingle;\n      let self = this;\n      let finalOptions = {\n        ...this.options,\n        url: this.url,\n        thumbnailWidth: null,\n        thumbnailHeight: null,\n        previewsContainer: preview,\n        previewTemplate: preview.innerHTML,\n        maxFiles: !this.multiple ? 1 : null,\n        acceptedFiles: !this.multiple ? \"image/*\" : null,\n        init: function () {\n          this.on(\"addedfile\", function (file) {\n            if (!self.multiple && self.currentFile) {\n              // this.removeFile(this.currentFile);\n            }\n            self.currentFile = file;\n          });\n        },\n      };\n      this.dropzone = new Dropzone(this.$el, finalOptions);\n      preview.innerHTML = \"\";\n      let evtList = [\n        \"drop\",\n        \"dragstart\",\n        \"dragend\",\n        \"dragenter\",\n        \"dragover\",\n        \"addedfile\",\n        \"removedfile\",\n        \"thumbnail\",\n        \"error\",\n        \"processing\",\n        \"uploadprogress\",\n        \"sending\",\n        \"success\",\n        \"complete\",\n        \"canceled\",\n        \"maxfilesreached\",\n        \"maxfilesexceeded\",\n        \"processingmultiple\",\n        \"sendingmultiple\",\n        \"successmultiple\",\n        \"completemultiple\",\n        \"canceledmultiple\",\n        \"totaluploadprogress\",\n        \"reset\",\n        \"queuecomplete\",\n      ];\n      evtList.forEach((evt) => {\n        this.dropzone.on(evt, (data) => {\n          this.$emit(evt, data);\n\n          if (evt === \"addedfile\") {\n            this.files.push(data);\n            this.$emit(\"change\", this.files);\n          } else if (evt === \"removedfile\") {\n            let index = this.files.findIndex(\n              (f) => f.upload.uuid === data.upload.uuid\n            );\n            if (index !== -1) {\n              this.files.splice(index, 1);\n            }\n            this.$emit(\"change\", this.files);\n          }\n        });\n      });\n    },\n  },\n  async mounted() {\n    this.initDropzone();\n  },\n};\n</script>\n<style></style>\n"],"sourceRoot":""}]}