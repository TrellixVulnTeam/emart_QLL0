{"version":3,"file":"index.js","sources":["../../src/ts/utils.ts","../../src/ts/eventBus.ts","../../src/ts/constants.ts","../../src/ts/propValidators.ts","../../src/components/VtProgressBar.vue","../../src/components/VtCloseButton.vue","../../src/components/icons/VtSuccessIcon.vue","../../src/components/icons/VtInfoIcon.vue","../../src/components/icons/VtWarningIcon.vue","../../src/components/icons/VtErrorIcon.vue","../../src/components/VtIcon.vue","../../src/components/VtToast.vue","../../src/components/VtTransition.vue","../../src/components/VtToastContainer.vue","../../src/ts/interface.ts","../../src/index.ts"],"sourcesContent":["import { Component, defineComponent, toRaw, unref } from \"vue\"\nimport type {\n  ToastComponent,\n  ToastContent,\n  RenderableToastContent,\n} from \"../types\"\n\ninterface DictionaryLike {\n  [index: string]: unknown\n}\n\n// eslint-disable-next-line @typescript-eslint/ban-types\nconst isFunction = (value: unknown): value is Function =>\n  typeof value === \"function\"\n\nconst isString = (value: unknown): value is string => typeof value === \"string\"\n\nconst isNonEmptyString = (value: unknown): value is string =>\n  isString(value) && value.trim().length > 0\n\nconst isNumber = (value: unknown): value is number => typeof value === \"number\"\n\nconst isUndefined = (value: unknown): value is undefined =>\n  typeof value === \"undefined\"\n\nconst isObject = (value: unknown): value is DictionaryLike =>\n  typeof value === \"object\" && value !== null\n\nconst isJSX = (obj: unknown): obj is JSX.Element =>\n  hasProp(obj, \"tag\") && isNonEmptyString(obj.tag)\n\nconst isTouchEvent = (event: Event): event is TouchEvent =>\n  window.TouchEvent && event instanceof TouchEvent\n\nconst isToastComponent = (obj: unknown): obj is ToastComponent =>\n  hasProp(obj, \"component\") && isToastContent(obj.component)\n\nconst isVueComponent = (c: unknown): c is Component =>\n  isFunction(c) || isObject(c)\n\nconst isToastContent = (obj: unknown): obj is ToastContent =>\n  // Ignore undefined\n  !isUndefined(obj) &&\n  // Is a string\n  (isString(obj) ||\n    // Regular Vue component\n    isVueComponent(obj) ||\n    // Nested object\n    isToastComponent(obj))\n\nconst isDOMRect = (obj: unknown): obj is DOMRect =>\n  isObject(obj) &&\n  [\"height\", \"width\", \"right\", \"left\", \"top\", \"bottom\"].every(p =>\n    isNumber(obj[p])\n  )\n\nconst hasProp = <O extends unknown, K extends PropertyKey>(\n  obj: O,\n  propKey: K\n): obj is O & { [key in K]: unknown } =>\n  (isObject(obj) || isFunction(obj)) && propKey in obj\n\n/**\n * ID generator\n */\nconst getId = (i => () => i++)(0)\n\nfunction getX(event: MouseEvent | TouchEvent) {\n  return isTouchEvent(event) ? event.targetTouches[0].clientX : event.clientX\n}\n\nfunction getY(event: MouseEvent | TouchEvent) {\n  return isTouchEvent(event) ? event.targetTouches[0].clientY : event.clientY\n}\n\nconst removeElement = (el: Element) => {\n  if (!isUndefined(el.remove)) {\n    el.remove()\n  } else if (el.parentNode) {\n    el.parentNode.removeChild(el)\n  }\n}\n\nconst getVueComponentFromObj = (obj: ToastContent): RenderableToastContent => {\n  if (isToastComponent(obj)) {\n    // Recurse if component prop\n    return getVueComponentFromObj(obj.component)\n  }\n  if (isJSX(obj)) {\n    // Create render function for JSX\n    return defineComponent({\n      render() {\n        return obj\n      },\n    })\n  }\n  // Return regular string or raw object\n  return typeof obj === \"string\" ? obj : toRaw(unref(obj))\n}\n\nconst normalizeToastComponent = (obj: ToastContent): ToastContent => {\n  if (typeof obj === \"string\") {\n    return obj\n  }\n  const props = hasProp(obj, \"props\") && isObject(obj.props) ? obj.props : {}\n  const listeners = (hasProp(obj, \"listeners\") && isObject(obj.listeners)\n    ? obj.listeners\n    : {}) as ToastComponent[\"listeners\"]\n  return { component: getVueComponentFromObj(obj), props, listeners }\n}\n\nconst isBrowser = () => typeof window !== \"undefined\"\n\nexport {\n  getId,\n  getX,\n  getY,\n  removeElement,\n  isString,\n  isNonEmptyString,\n  isToastContent,\n  getVueComponentFromObj,\n  normalizeToastComponent,\n  hasProp,\n  isUndefined,\n  isDOMRect,\n  isFunction,\n  isBrowser,\n}\n","import type { EVENTS } from \"./constants\"\nimport { hasProp, isFunction } from \"./utils\"\nimport type {\n  ToastOptionsAndRequiredContent,\n  ToastID,\n  ToastContent,\n  ToastOptions,\n  PluginOptions,\n} from \"../types/index\"\n\ntype EventData = {\n  [EVENTS.ADD]: ToastOptionsAndRequiredContent & {\n    id: ToastID\n  }\n  [EVENTS.CLEAR]: undefined\n  [EVENTS.DISMISS]: ToastID\n  [EVENTS.UPDATE]:\n    | {\n        id: ToastID\n        options: Partial<ToastOptions> & { content?: ToastContent }\n        create: false\n      }\n    | {\n        id: ToastID\n        options: Partial<ToastOptions> & { content: ToastContent }\n        create: true\n      }\n  [EVENTS.UPDATE_DEFAULTS]: PluginOptions\n}\n\ntype Handler<E extends EVENTS> = (event: EventData[E]) => void\n\nexport interface EventBusInterface {\n  on<E extends EVENTS>(eventType: E, handler: Handler<E>): void\n  off<E extends EVENTS>(eventType: E, handler: Handler<E>): void\n  emit<E extends EVENTS>(eventType: E, event: EventData[E]): void\n}\n\ntype HandlerList<E extends EVENTS> = Handler<E>[]\n\ntype HandlerMap = {\n  [E in EVENTS]?: HandlerList<E>\n}\n\nexport class EventBus implements EventBusInterface {\n  protected allHandlers: HandlerMap = {}\n\n  protected getHandlers<E extends EVENTS>(eventType: E) {\n    return (this.allHandlers[eventType] as HandlerList<E> | undefined) || []\n  }\n\n  public on<E extends EVENTS>(eventType: E, handler: Handler<E>) {\n    const handlers = this.getHandlers(eventType)\n    handlers.push(handler)\n    this.allHandlers[eventType] = handlers as EventBus[\"allHandlers\"][E]\n  }\n  public off<E extends EVENTS>(eventType: E, handler: Handler<E>) {\n    const handlers = this.getHandlers(eventType)\n    handlers.splice(handlers.indexOf(handler) >>> 0, 1)\n  }\n  public emit<E extends EVENTS>(eventType: E, event: EventData[E]) {\n    const handlers = this.getHandlers(eventType)\n    handlers.forEach(handler => handler(event))\n  }\n}\n\nexport const isEventBusInterface = (e: unknown): e is EventBusInterface =>\n  [\"on\", \"off\", \"emit\"].every(f => hasProp(e, f) && isFunction(e[f]))\n","export enum TYPE {\n  SUCCESS = \"success\",\n  ERROR = \"error\",\n  WARNING = \"warning\",\n  INFO = \"info\",\n  DEFAULT = \"default\",\n}\n\nexport enum POSITION {\n  TOP_LEFT = \"top-left\",\n  TOP_CENTER = \"top-center\",\n  TOP_RIGHT = \"top-right\",\n  BOTTOM_LEFT = \"bottom-left\",\n  BOTTOM_CENTER = \"bottom-center\",\n  BOTTOM_RIGHT = \"bottom-right\",\n}\n\nexport enum EVENTS {\n  ADD = \"add\",\n  DISMISS = \"dismiss\",\n  UPDATE = \"update\",\n  CLEAR = \"clear\",\n  UPDATE_DEFAULTS = \"update_defaults\",\n}\n\nexport const VT_NAMESPACE = \"Vue-Toastification\"\n","/* eslint-disable @typescript-eslint/no-empty-function */\nimport type { PropType, ComponentObjectPropsOptions } from \"vue\"\nimport { EventBus } from \"./eventBus\"\nimport type {\n  ToastContent,\n  CommonOptions,\n  PluginOptions,\n  ToastID,\n  ToastOptions,\n  ToastOptionsAndRequiredContent,\n} from \"../types\"\nimport { TYPE, POSITION, VT_NAMESPACE } from \"./constants\"\n\nconst COMMON = {\n  type: {\n    type: String as PropType<TYPE>,\n    default: TYPE.DEFAULT,\n  },\n  classNames: {\n    type: [String, Array] as PropType<string | string[]>,\n    default: () => [],\n  },\n  trueBoolean: {\n    type: Boolean as PropType<boolean>,\n    default: true,\n  },\n}\n\nconst ICON = {\n  type: COMMON.type,\n  customIcon: {\n    type: [String, Boolean, Object, Function] as PropType<\n      NonNullable<CommonOptions[\"icon\"]>\n    >,\n    default: true,\n  },\n}\n\nconst CLOSE_BUTTON = {\n  component: {\n    type: [String, Object, Function, Boolean] as PropType<\n      NonNullable<CommonOptions[\"closeButton\"]>\n    >,\n    default: \"button\" as keyof HTMLElementTagNameMap,\n  },\n  classNames: COMMON.classNames,\n  showOnHover: {\n    type: Boolean,\n    default: false,\n  },\n  ariaLabel: {\n    type: String as PropType<string>,\n    default: \"close\",\n  },\n}\n\nconst PROGRESS_BAR = {\n  timeout: {\n    type: [Number, Boolean] as PropType<number | false>,\n    default: 5000,\n  },\n  hideProgressBar: {\n    type: Boolean,\n    default: false,\n  },\n  isRunning: {\n    type: Boolean,\n    default: false,\n  },\n}\n\nconst TRANSITION = {\n  transition: {\n    type: [Object, String] as PropType<\n      NonNullable<PluginOptions[\"transition\"]>\n    >,\n    default: `${VT_NAMESPACE}__bounce`,\n  },\n}\n\ntype CommonOptionsType = Required<CommonOptions>\nconst CORE_TOAST = {\n  position: {\n    type: String as PropType<POSITION>,\n    default: POSITION.TOP_RIGHT,\n  },\n  draggable: COMMON.trueBoolean,\n  draggablePercent: {\n    type: Number as PropType<number>,\n    default: 0.6,\n  },\n  pauseOnFocusLoss: COMMON.trueBoolean,\n  pauseOnHover: COMMON.trueBoolean,\n  closeOnClick: COMMON.trueBoolean,\n  timeout: PROGRESS_BAR.timeout,\n  hideProgressBar: PROGRESS_BAR.hideProgressBar,\n  toastClassName: COMMON.classNames,\n  bodyClassName: COMMON.classNames,\n  icon: ICON.customIcon,\n  closeButton: CLOSE_BUTTON.component,\n  closeButtonClassName: CLOSE_BUTTON.classNames,\n  showCloseButtonOnHover: CLOSE_BUTTON.showOnHover,\n  accessibility: {\n    type: Object as PropType<NonNullable<PluginOptions[\"accessibility\"]>>,\n    default: () => ({\n      toastRole: \"alert\",\n      closeButtonLabel: \"close\",\n    }),\n  },\n  rtl: {\n    type: Boolean as PropType<boolean>,\n    default: false,\n  },\n  eventBus: {\n    type: Object as PropType<NonNullable<PluginOptions[\"eventBus\"]>>,\n    required: true,\n    default: new EventBus(),\n  },\n}\n\nconst TOAST = {\n  id: {\n    type: [String, Number] as PropType<ToastID>,\n    required: true,\n    default: 0,\n  },\n  type: COMMON.type,\n  content: {\n    type: [String, Object, Function] as PropType<ToastContent>,\n    required: true,\n    default: \"\",\n  },\n  onClick: {\n    type: Function as PropType<NonNullable<ToastOptions[\"onClick\"]>>,\n    default: () => {},\n  },\n  onClose: {\n    type: Function as PropType<NonNullable<ToastOptions[\"onClose\"]>>,\n    default: /* istanbul ignore next */ () => {},\n  },\n}\n\nexport type PluginOptionsType = Required<\n  Omit<PluginOptions, keyof CommonOptionsType>\n>\nconst CONTAINER: ComponentObjectPropsOptions<PluginOptionsType> = {\n  container: {\n    type: [HTMLElement, Function] as PropType<\n      NonNullable<PluginOptions[\"container\"]>\n    >,\n    default: () => document.body,\n  },\n  newestOnTop: COMMON.trueBoolean,\n  maxToasts: {\n    type: Number as PropType<number>,\n    default: 20,\n  },\n  transition: TRANSITION.transition,\n  toastDefaults: Object as PropType<\n    NonNullable<PluginOptions[\"toastDefaults\"]>\n  >,\n  filterBeforeCreate: {\n    type: Function as PropType<\n      NonNullable<PluginOptions[\"filterBeforeCreate\"]>\n    >,\n    default: (toast: ToastOptionsAndRequiredContent) => toast,\n  },\n  filterToasts: {\n    type: Function as PropType<NonNullable<PluginOptions[\"filterToasts\"]>>,\n    default: (toasts: ToastOptionsAndRequiredContent[]) => toasts,\n  },\n  containerClassName: COMMON.classNames,\n  onMounted: Function as PropType<NonNullable<PluginOptions[\"onMounted\"]>>,\n}\n\nexport default {\n  CORE_TOAST,\n  TOAST,\n  CONTAINER,\n  PROGRESS_BAR,\n  ICON,\n  TRANSITION,\n  CLOSE_BUTTON,\n}\n","<template>\n  <div :style=\"style\" :class=\"cpClass\" />\n</template>\n\n<script lang=\"ts\">\nimport { defineComponent } from \"vue\"\n\nimport { VT_NAMESPACE } from \"../ts/constants\"\nimport PROPS from \"../ts/propValidators\"\n\nexport default defineComponent({\n  name: \"VtProgressBar\",\n\n  props: PROPS.PROGRESS_BAR,\n\n  // TODO: The typescript compiler is not playing nice with emit types\n  // Rollback this change once ts is able to infer emit types\n  // emits: [\"close-toast\"],\n\n  data() {\n    return {\n      hasClass: true,\n    }\n  },\n\n  computed: {\n    style(): {\n      animationDuration: string\n      animationPlayState: string\n      opacity: number\n    } {\n      return {\n        animationDuration: `${this.timeout}ms`,\n        animationPlayState: this.isRunning ? \"running\" : \"paused\",\n        opacity: this.hideProgressBar ? 0 : 1,\n      }\n    },\n\n    cpClass(): string {\n      return this.hasClass ? `${VT_NAMESPACE}__progress-bar` : \"\"\n    },\n  },\n\n  watch: {\n    timeout() {\n      this.hasClass = false\n      this.$nextTick(() => (this.hasClass = true))\n    },\n  },\n\n  mounted() {\n    this.$el.addEventListener(\"animationend\", this.animationEnded)\n  },\n\n  beforeUnmount() {\n    this.$el.removeEventListener(\"animationend\", this.animationEnded)\n  },\n\n  methods: {\n    animationEnded() {\n      // See TODO on line 16\n      // eslint-disable-next-line vue/require-explicit-emits\n      this.$emit(\"close-toast\")\n    },\n  },\n})\n</script>\n","<template>\n  <component\n    :is=\"buttonComponent\"\n    :aria-label=\"ariaLabel\"\n    :class=\"classes\"\n    v-bind=\"$attrs\"\n  >\n    &times;\n  </component>\n</template>\n<script lang=\"ts\">\nimport { defineComponent } from \"vue\"\n\nimport { VT_NAMESPACE } from \"../ts/constants\"\nimport PROPS from \"../ts/propValidators\"\nimport { getVueComponentFromObj } from \"../ts/utils\"\nimport { RenderableToastContent } from \"../types\"\n\nexport default defineComponent({\n  name: \"VtCloseButton\",\n\n  props: PROPS.CLOSE_BUTTON,\n\n  computed: {\n    buttonComponent(): RenderableToastContent {\n      if (this.component !== false) {\n        return getVueComponentFromObj(this.component)\n      }\n      return \"button\"\n    },\n    classes(): string[] {\n      const classes = [`${VT_NAMESPACE}__close-button`]\n      if (this.showOnHover) {\n        classes.push(\"show-on-hover\")\n      }\n      return classes.concat(this.classNames)\n    },\n  },\n})\n</script>\n","<template>\n  <svg\n    aria-hidden=\"true\"\n    focusable=\"false\"\n    data-prefix=\"fas\"\n    data-icon=\"check-circle\"\n    class=\"svg-inline--fa fa-check-circle fa-w-16\"\n    role=\"img\"\n    xmlns=\"http://www.w3.org/2000/svg\"\n    viewBox=\"0 0 512 512\"\n  >\n    <path\n      fill=\"currentColor\"\n      d=\"M504 256c0 136.967-111.033 248-248 248S8 392.967 8 256 119.033 8 256 8s248 111.033 248 248zM227.314 387.314l184-184c6.248-6.248 6.248-16.379 0-22.627l-22.627-22.627c-6.248-6.249-16.379-6.249-22.628 0L216 308.118l-70.059-70.059c-6.248-6.248-16.379-6.248-22.628 0l-22.627 22.627c-6.248 6.248-6.248 16.379 0 22.627l104 104c6.249 6.249 16.379 6.249 22.628.001z\"\n    ></path>\n  </svg>\n</template>\n<script lang=\"ts\">\nexport default {}\n</script>\n","<template>\n  <svg\n    aria-hidden=\"true\"\n    focusable=\"false\"\n    data-prefix=\"fas\"\n    data-icon=\"info-circle\"\n    class=\"svg-inline--fa fa-info-circle fa-w-16\"\n    role=\"img\"\n    xmlns=\"http://www.w3.org/2000/svg\"\n    viewBox=\"0 0 512 512\"\n  >\n    <path\n      fill=\"currentColor\"\n      d=\"M256 8C119.043 8 8 119.083 8 256c0 136.997 111.043 248 248 248s248-111.003 248-248C504 119.083 392.957 8 256 8zm0 110c23.196 0 42 18.804 42 42s-18.804 42-42 42-42-18.804-42-42 18.804-42 42-42zm56 254c0 6.627-5.373 12-12 12h-88c-6.627 0-12-5.373-12-12v-24c0-6.627 5.373-12 12-12h12v-64h-12c-6.627 0-12-5.373-12-12v-24c0-6.627 5.373-12 12-12h64c6.627 0 12 5.373 12 12v100h12c6.627 0 12 5.373 12 12v24z\"\n    ></path>\n  </svg>\n</template>\n<script lang=\"ts\">\nexport default {}\n</script>\n","<template>\n  <svg\n    aria-hidden=\"true\"\n    focusable=\"false\"\n    data-prefix=\"fas\"\n    data-icon=\"exclamation-circle\"\n    class=\"svg-inline--fa fa-exclamation-circle fa-w-16\"\n    role=\"img\"\n    xmlns=\"http://www.w3.org/2000/svg\"\n    viewBox=\"0 0 512 512\"\n  >\n    <path\n      fill=\"currentColor\"\n      d=\"M504 256c0 136.997-111.043 248-248 248S8 392.997 8 256C8 119.083 119.043 8 256 8s248 111.083 248 248zm-248 50c-25.405 0-46 20.595-46 46s20.595 46 46 46 46-20.595 46-46-20.595-46-46-46zm-43.673-165.346l7.418 136c.347 6.364 5.609 11.346 11.982 11.346h48.546c6.373 0 11.635-4.982 11.982-11.346l7.418-136c.375-6.874-5.098-12.654-11.982-12.654h-63.383c-6.884 0-12.356 5.78-11.981 12.654z\"\n    ></path>\n  </svg>\n</template>\n<script lang=\"ts\">\nexport default {}\n</script>\n","<template>\n  <svg\n    aria-hidden=\"true\"\n    focusable=\"false\"\n    data-prefix=\"fas\"\n    data-icon=\"exclamation-triangle\"\n    class=\"svg-inline--fa fa-exclamation-triangle fa-w-18\"\n    role=\"img\"\n    xmlns=\"http://www.w3.org/2000/svg\"\n    viewBox=\"0 0 576 512\"\n  >\n    <path\n      fill=\"currentColor\"\n      d=\"M569.517 440.013C587.975 472.007 564.806 512 527.94 512H48.054c-36.937 0-59.999-40.055-41.577-71.987L246.423 23.985c18.467-32.009 64.72-31.951 83.154 0l239.94 416.028zM288 354c-25.405 0-46 20.595-46 46s20.595 46 46 46 46-20.595 46-46-20.595-46-46-46zm-43.673-165.346l7.418 136c.347 6.364 5.609 11.346 11.982 11.346h48.546c6.373 0 11.635-4.982 11.982-11.346l7.418-136c.375-6.874-5.098-12.654-11.982-12.654h-63.383c-6.884 0-12.356 5.78-11.981 12.654z\"\n    ></path>\n  </svg>\n</template>\n<script lang=\"ts\">\nexport default {}\n</script>\n","<template>\n  <component :is=\"component\" :class=\"iconClasses\">{{\n    customIconChildren\n  }}</component>\n</template>\n\n<script lang=\"ts\">\nimport { Component as VueComponent, defineComponent } from \"vue\"\n\nimport { RenderableToastContent } from \"../types\"\nimport { TYPE, VT_NAMESPACE } from \"../ts/constants\"\nimport {\n  isNonEmptyString,\n  isToastContent,\n  hasProp,\n  isString,\n  getVueComponentFromObj,\n} from \"../ts/utils\"\nimport PROPS from \"../ts/propValidators\"\nimport SuccessIcon from \"./icons/VtSuccessIcon.vue\"\nimport InfoIcon from \"./icons/VtInfoIcon.vue\"\nimport WarningIcon from \"./icons/VtWarningIcon.vue\"\nimport ErrorIcon from \"./icons/VtErrorIcon.vue\"\n\nexport default defineComponent({\n  name: \"VtIcon\",\n\n  props: PROPS.ICON,\n\n  computed: {\n    customIconChildren(): string {\n      return hasProp(this.customIcon, \"iconChildren\")\n        ? this.trimValue(this.customIcon.iconChildren)\n        : \"\"\n    },\n    customIconClass(): string {\n      if (isString(this.customIcon)) {\n        return this.trimValue(this.customIcon)\n      } else if (hasProp(this.customIcon, \"iconClass\")) {\n        return this.trimValue(this.customIcon.iconClass)\n      }\n      return \"\"\n    },\n    customIconTag(): string {\n      if (hasProp(this.customIcon, \"iconTag\")) {\n        return this.trimValue(this.customIcon.iconTag, \"i\")\n      }\n      return \"i\"\n    },\n    hasCustomIcon(): boolean {\n      return this.customIconClass.length > 0\n    },\n    component(): RenderableToastContent {\n      if (this.hasCustomIcon) {\n        return this.customIconTag\n      }\n      if (isToastContent(this.customIcon)) {\n        return getVueComponentFromObj(this.customIcon)\n      }\n      return this.iconTypeComponent\n    },\n    iconTypeComponent(): VueComponent {\n      const types = {\n        [TYPE.DEFAULT]: InfoIcon,\n        [TYPE.INFO]: InfoIcon,\n        [TYPE.SUCCESS]: SuccessIcon,\n        [TYPE.ERROR]: ErrorIcon,\n        [TYPE.WARNING]: WarningIcon,\n      }\n      return types[this.type]\n    },\n    iconClasses(): string[] {\n      const classes = [`${VT_NAMESPACE}__icon`]\n      if (this.hasCustomIcon) {\n        return classes.concat(this.customIconClass)\n      }\n      return classes\n    },\n  },\n\n  methods: {\n    trimValue(value: unknown, empty = \"\") {\n      return isNonEmptyString(value) ? value.trim() : empty\n    },\n  },\n})\n</script>\n","<template>\n  <div\n    :class=\"classes\"\n    :style=\"draggableStyle\"\n    @click=\"clickHandler\"\n    @mouseenter=\"hoverPause\"\n    @mouseleave=\"hoverPlay\"\n  >\n    <Icon v-if=\"icon\" :custom-icon=\"icon\" :type=\"type\" />\n    <div :role=\"accessibility.toastRole || 'alert'\" :class=\"bodyClasses\">\n      <template v-if=\"typeof content === 'string'\">{{ content }}</template>\n      <component\n        :is=\"getVueComponentFromObj(content)\"\n        v-else\n        :toast-id=\"id\"\n        v-bind=\"content.props\"\n        v-on=\"content.listeners\"\n        @closeToast=\"closeToast\"\n      />\n    </div>\n    <CloseButton\n      v-if=\"!!closeButton\"\n      :component=\"closeButton\"\n      :class-names=\"closeButtonClassName\"\n      :show-on-hover=\"showCloseButtonOnHover\"\n      :aria-label=\"accessibility.closeButtonLabel\"\n      @click.stop=\"closeToast\"\n    />\n    <ProgressBar\n      v-if=\"timeout\"\n      :is-running=\"isRunning\"\n      :hide-progress-bar=\"hideProgressBar\"\n      :timeout=\"timeout\"\n      @closeToast=\"timeoutHandler\"\n    />\n  </div>\n</template>\n\n<script lang=\"ts\">\nimport { defineComponent } from \"vue\"\n\nimport { EVENTS, VT_NAMESPACE } from \"../ts/constants\"\nimport PROPS from \"../ts/propValidators\"\nimport {\n  getVueComponentFromObj,\n  isString,\n  getX,\n  getY,\n  isDOMRect,\n} from \"../ts/utils\"\n\nimport ProgressBar from \"./VtProgressBar.vue\"\nimport CloseButton from \"./VtCloseButton.vue\"\nimport Icon from \"./VtIcon.vue\"\n\nexport default defineComponent({\n  name: \"VtToast\",\n\n  components: { ProgressBar, CloseButton, Icon },\n  inheritAttrs: false,\n\n  props: Object.assign({}, PROPS.CORE_TOAST, PROPS.TOAST),\n\n  data() {\n    const data: {\n      dragRect: DOMRect | Record<string, unknown>\n      isRunning: boolean\n      disableTransitions: boolean\n      beingDragged: boolean\n      dragStart: number\n      dragPos: { x: number; y: number }\n    } = {\n      isRunning: true,\n      disableTransitions: false,\n\n      beingDragged: false,\n      dragStart: 0,\n      dragPos: { x: 0, y: 0 },\n      dragRect: {},\n    }\n    return data\n  },\n\n  computed: {\n    classes(): string[] {\n      const classes = [\n        `${VT_NAMESPACE}__toast`,\n        `${VT_NAMESPACE}__toast--${this.type}`,\n        `${this.position}`,\n      ].concat(this.toastClassName)\n      if (this.disableTransitions) {\n        classes.push(\"disable-transition\")\n      }\n      if (this.rtl) {\n        classes.push(`${VT_NAMESPACE}__toast--rtl`)\n      }\n      return classes\n    },\n    bodyClasses(): string[] {\n      const classes = [\n        `${VT_NAMESPACE}__toast-${\n          isString(this.content) ? \"body\" : \"component-body\"\n        }`,\n      ].concat(this.bodyClassName)\n      return classes\n    },\n    /* istanbul ignore next */\n    draggableStyle(): {\n      transition?: string\n      opacity?: number\n      transform?: string\n    } {\n      if (this.dragStart === this.dragPos.x) {\n        return {}\n      } else if (this.beingDragged) {\n        return {\n          transform: `translateX(${this.dragDelta}px)`,\n          opacity: 1 - Math.abs(this.dragDelta / this.removalDistance),\n        }\n      } else {\n        return {\n          transition: \"transform 0.2s, opacity 0.2s\",\n          transform: \"translateX(0)\",\n          opacity: 1,\n        }\n      }\n    },\n    dragDelta(): number {\n      return this.beingDragged ? this.dragPos.x - this.dragStart : 0\n    },\n    removalDistance(): number {\n      if (isDOMRect(this.dragRect)) {\n        return (\n          (this.dragRect.right - this.dragRect.left) * this.draggablePercent\n        )\n      }\n      return 0\n    },\n  },\n\n  mounted() {\n    if (this.draggable) {\n      this.draggableSetup()\n    }\n    if (this.pauseOnFocusLoss) {\n      this.focusSetup()\n    }\n  },\n  beforeUnmount() {\n    if (this.draggable) {\n      this.draggableCleanup()\n    }\n    if (this.pauseOnFocusLoss) {\n      this.focusCleanup()\n    }\n  },\n\n  methods: {\n    getVueComponentFromObj,\n    closeToast() {\n      this.eventBus.emit(EVENTS.DISMISS, this.id)\n    },\n    clickHandler() {\n      if (this.onClick) {\n        this.onClick(this.closeToast)\n      }\n      if (this.closeOnClick) {\n        if (!this.beingDragged || this.dragStart === this.dragPos.x) {\n          this.closeToast()\n        }\n      }\n    },\n    timeoutHandler() {\n      this.closeToast()\n    },\n    hoverPause() {\n      if (this.pauseOnHover) {\n        this.isRunning = false\n      }\n    },\n    hoverPlay() {\n      if (this.pauseOnHover) {\n        this.isRunning = true\n      }\n    },\n    focusPause() {\n      this.isRunning = false\n    },\n    focusPlay() {\n      this.isRunning = true\n    },\n\n    focusSetup() {\n      addEventListener(\"blur\", this.focusPause)\n      addEventListener(\"focus\", this.focusPlay)\n    },\n    focusCleanup() {\n      removeEventListener(\"blur\", this.focusPause)\n      removeEventListener(\"focus\", this.focusPlay)\n    },\n\n    draggableSetup() {\n      const element = this.$el as HTMLElement\n      element.addEventListener(\"touchstart\", this.onDragStart, {\n        passive: true,\n      })\n      element.addEventListener(\"mousedown\", this.onDragStart)\n      addEventListener(\"touchmove\", this.onDragMove, { passive: false })\n      addEventListener(\"mousemove\", this.onDragMove)\n      addEventListener(\"touchend\", this.onDragEnd)\n      addEventListener(\"mouseup\", this.onDragEnd)\n    },\n    draggableCleanup() {\n      const element = this.$el as HTMLElement\n      element.removeEventListener(\"touchstart\", this.onDragStart)\n      element.removeEventListener(\"mousedown\", this.onDragStart)\n      removeEventListener(\"touchmove\", this.onDragMove)\n      removeEventListener(\"mousemove\", this.onDragMove)\n      removeEventListener(\"touchend\", this.onDragEnd)\n      removeEventListener(\"mouseup\", this.onDragEnd)\n    },\n\n    onDragStart(event: TouchEvent | MouseEvent) {\n      this.beingDragged = true\n      this.dragPos = { x: getX(event), y: getY(event) }\n      this.dragStart = getX(event)\n      this.dragRect = this.$el.getBoundingClientRect()\n    },\n    onDragMove(event: TouchEvent | MouseEvent) {\n      if (this.beingDragged) {\n        event.preventDefault()\n        if (this.isRunning) {\n          this.isRunning = false\n        }\n        this.dragPos = { x: getX(event), y: getY(event) }\n      }\n    },\n    onDragEnd() {\n      if (this.beingDragged) {\n        if (Math.abs(this.dragDelta) >= this.removalDistance) {\n          this.disableTransitions = true\n          this.$nextTick(() => this.closeToast())\n        } else {\n          setTimeout(() => {\n            this.beingDragged = false\n            if (\n              isDOMRect(this.dragRect) &&\n              this.pauseOnHover &&\n              this.dragRect.bottom >= this.dragPos.y &&\n              this.dragPos.y >= this.dragRect.top &&\n              this.dragRect.left <= this.dragPos.x &&\n              this.dragPos.x <= this.dragRect.right\n            ) {\n              this.isRunning = false\n            } else {\n              this.isRunning = true\n            }\n          })\n        }\n      }\n    },\n  },\n})\n</script>\n","<template>\n  <transition-group\n    tag=\"div\"\n    :enter-active-class=\"\n      transition.enter ? transition.enter : `${transition}-enter-active`\n    \"\n    :move-class=\"transition.move ? transition.move : `${transition}-move`\"\n    :leave-active-class=\"\n      transition.leave ? transition.leave : `${transition}-leave-active`\n    \"\n    @leave=\"leave\"\n  >\n    <slot></slot>\n  </transition-group>\n</template>\n<script lang=\"ts\">\n// Transition methods taken from https://github.com/BinarCode/vue2-transitions\nimport { defineComponent } from \"vue\"\n\nimport PROPS from \"../ts/propValidators\"\n\nexport default defineComponent({\n  name: \"VtTransition\",\n  props: PROPS.TRANSITION,\n\n  emits: [\"leave\"],\n\n  methods: {\n    leave(el: HTMLElement) {\n      el.style.left = el.offsetLeft + \"px\"\n      el.style.top = el.offsetTop + \"px\"\n      el.style.width = getComputedStyle(el).width\n      el.style.position = \"absolute\"\n    },\n  },\n})\n</script>\n","<template>\n  <div>\n    <div v-for=\"pos in positions\" :key=\"pos\">\n      <VtTransition :transition=\"defaults.transition\" :class=\"getClasses(pos)\">\n        <Toast\n          v-for=\"toast in getPositionToasts(pos)\"\n          :key=\"toast.id\"\n          v-bind=\"toast\"\n        />\n      </VtTransition>\n    </div>\n  </div>\n</template>\n\n<script lang=\"ts\">\nimport { defineComponent } from \"vue\"\n\nimport { EVENTS, POSITION, VT_NAMESPACE } from \"../ts/constants\"\nimport PROPS, { PluginOptionsType } from \"../ts/propValidators\"\nimport {\n  PluginOptions,\n  ToastID,\n  ToastOptionsAndContent,\n  ToastOptionsAndRequiredContent,\n} from \"../types\"\nimport {\n  removeElement,\n  isUndefined,\n  isFunction,\n  normalizeToastComponent,\n} from \"../ts/utils\"\n\nimport Toast from \"./VtToast.vue\"\nimport VtTransition from \"./VtTransition.vue\"\n\nexport default defineComponent({\n  name: \"VueToastification\",\n  components: { Toast, VtTransition },\n\n  props: Object.assign({}, PROPS.CORE_TOAST, PROPS.CONTAINER, PROPS.TRANSITION),\n\n  data() {\n    const data: {\n      count: number\n      positions: POSITION[]\n      toasts: {\n        [toastId: number]: ToastOptionsAndRequiredContent\n        [toastId: string]: ToastOptionsAndRequiredContent\n      }\n      defaults: PluginOptionsType\n    } = {\n      count: 0,\n      positions: Object.values(POSITION),\n      toasts: {},\n      defaults: {} as PluginOptionsType,\n    }\n    return data\n  },\n\n  computed: {\n    toastArray(): ToastOptionsAndRequiredContent[] {\n      return Object.values(this.toasts)\n    },\n    filteredToasts(): ToastOptionsAndRequiredContent[] {\n      return this.defaults.filterToasts(this.toastArray)\n    },\n  },\n\n  beforeMount() {\n    const events = this.eventBus\n    events.on(EVENTS.ADD, this.addToast)\n    events.on(EVENTS.CLEAR, this.clearToasts)\n    events.on(EVENTS.DISMISS, this.dismissToast)\n    events.on(EVENTS.UPDATE, this.updateToast)\n    events.on(EVENTS.UPDATE_DEFAULTS, this.updateDefaults)\n    this.defaults = this.$props as PluginOptionsType\n  },\n\n  mounted() {\n    this.setup(this.container)\n  },\n\n  methods: {\n    async setup(container: PluginOptionsType[\"container\"]) {\n      if (isFunction(container)) {\n        container = await container()\n      }\n      removeElement(this.$el)\n      container.appendChild(this.$el)\n    },\n    setToast(props: ToastOptionsAndRequiredContent) {\n      if (!isUndefined(props.id)) {\n        this.toasts[props.id] = props\n      }\n    },\n    addToast(params: ToastOptionsAndRequiredContent) {\n      params.content = normalizeToastComponent(params.content)\n      const props = Object.assign(\n        {},\n        this.defaults,\n        params.type &&\n          this.defaults.toastDefaults &&\n          this.defaults.toastDefaults[params.type],\n        params\n      )\n      const toast = this.defaults.filterBeforeCreate(props, this.toastArray)\n      toast && this.setToast(toast)\n    },\n    dismissToast(id: ToastID) {\n      const toast = this.toasts[id]\n      if (!isUndefined(toast) && !isUndefined(toast.onClose)) {\n        toast.onClose()\n      }\n      delete this.toasts[id]\n    },\n    clearToasts() {\n      Object.keys(this.toasts).forEach((id: ToastID) => {\n        this.dismissToast(id)\n      })\n    },\n    getPositionToasts(position: POSITION) {\n      const toasts = this.filteredToasts\n        .filter(toast => toast.position === position)\n        .slice(0, this.defaults.maxToasts)\n      return this.defaults.newestOnTop ? toasts.reverse() : toasts\n    },\n    updateDefaults(update: PluginOptions) {\n      // Update container if changed\n      if (!isUndefined(update.container)) {\n        this.setup(update.container)\n      }\n      this.defaults = Object.assign({}, this.defaults, update)\n    },\n    updateToast({\n      id,\n      options,\n      create,\n    }: {\n      id: ToastID\n      options: ToastOptionsAndContent\n      create: boolean\n    }) {\n      if (this.toasts[id]) {\n        // If a timeout is defined, and is equal to the one before, change it\n        // a little so the progressBar is reset\n        if (options.timeout && options.timeout === this.toasts[id].timeout) {\n          options.timeout++\n        }\n        this.setToast(Object.assign({}, this.toasts[id], options))\n      } else if (create) {\n        this.addToast(\n          Object.assign({}, { id }, options as ToastOptionsAndRequiredContent)\n        )\n      }\n    },\n    getClasses(position: POSITION) {\n      const classes = [`${VT_NAMESPACE}__container`, position]\n      return classes.concat(this.defaults.containerClassName)\n    },\n  },\n})\n</script>\n","import { createApp, nextTick } from \"vue\"\nimport { EventBus } from \"./eventBus\"\nimport ToastContainer from \"../components/VtToastContainer.vue\"\nimport {\n  ToastContent,\n  ToastOptions,\n  ToastID,\n  PluginOptions,\n  ToastOptionsAndRequiredContent,\n} from \"../types\"\nimport { TYPE, EVENTS } from \"./constants\"\nimport { getId, isUndefined } from \"./utils\"\n\nexport const buildInterface = (\n  globalOptions: PluginOptions = {},\n  mountContainer = true\n) => {\n  const events = (globalOptions.eventBus =\n    globalOptions.eventBus || new EventBus())\n  if (mountContainer) {\n    nextTick(() => {\n      const app = createApp(ToastContainer, {\n        ...globalOptions,\n      })\n      const component = app.mount(document.createElement(\"div\"))\n\n      const onMounted = globalOptions.onMounted\n      if (!isUndefined(onMounted)) {\n        onMounted(component, app)\n      }\n    })\n  }\n  /**\n   * Display a toast\n   */\n  const toast = (content: ToastContent, options?: ToastOptions): ToastID => {\n    const props: ToastOptionsAndRequiredContent & {\n      id: ToastID\n    } = Object.assign({}, { id: getId(), type: TYPE.DEFAULT }, options, {\n      content,\n    })\n    events.emit(EVENTS.ADD, props)\n    return props.id\n  }\n  /**\n   * Clear all toasts\n   */\n  toast.clear = () => events.emit(EVENTS.CLEAR, undefined)\n  /**\n   * Update Plugin Defaults\n   */\n  toast.updateDefaults = (update: PluginOptions) => {\n    events.emit(EVENTS.UPDATE_DEFAULTS, update)\n  }\n  /**\n   * Dismiss toast specified by an id\n   */\n  toast.dismiss = (id: ToastID) => {\n    events.emit(EVENTS.DISMISS, id)\n  }\n  /**\n   * Update Toast\n   */\n  function updateToast(\n    id: ToastID,\n    { content, options }: { content?: ToastContent; options?: ToastOptions },\n    create?: false\n  ): void\n  function updateToast(\n    id: ToastID,\n    { content, options }: { content: ToastContent; options?: ToastOptions },\n    create?: true\n  ): void\n  function updateToast(\n    id: ToastID,\n    { content, options }: { content?: ToastContent; options?: ToastOptions },\n    create = false\n  ): void {\n    const opt = Object.assign({}, options, { content }) as ToastOptions & {\n      content: ToastContent\n    }\n    events.emit(EVENTS.UPDATE, {\n      id,\n      options: opt,\n      create,\n    })\n  }\n  toast.update = updateToast\n  /**\n   * Display a success toast\n   */\n  toast.success = (\n    content: ToastContent,\n    options?: ToastOptions & { type?: TYPE.SUCCESS }\n  ) => toast(content, Object.assign({}, options, { type: TYPE.SUCCESS }))\n\n  /**\n   * Display an info toast\n   */\n  toast.info = (\n    content: ToastContent,\n    options?: ToastOptions & { type?: TYPE.INFO }\n  ) => toast(content, Object.assign({}, options, { type: TYPE.INFO }))\n\n  /**\n   * Display an error toast\n   */\n  toast.error = (\n    content: ToastContent,\n    options?: ToastOptions & { type?: TYPE.ERROR }\n  ) => toast(content, Object.assign({}, options, { type: TYPE.ERROR }))\n\n  /**\n   * Display a warning toast\n   */\n  toast.warning = (\n    content: ToastContent,\n    options?: ToastOptions & { type?: TYPE.WARNING }\n  ) => toast(content, Object.assign({}, options, { type: TYPE.WARNING }))\n\n  return toast\n}\n\nexport type ToastInterface = ReturnType<typeof buildInterface>\n","import { Plugin, InjectionKey, provide, inject, getCurrentInstance } from \"vue\"\nimport { buildInterface } from \"./ts/interface\"\nimport type { ToastInterface } from \"./ts/interface\"\nimport { POSITION, TYPE } from \"./ts/constants\"\nimport { EventBusInterface, isEventBusInterface, EventBus } from \"./ts/eventBus\"\nimport type { PluginOptions } from \"./types\"\nimport * as ownExports from \"./index\"\nimport \"./scss/index.scss\"\nimport { isBrowser } from \"./ts/utils\"\n\nconst createMockToastInterface = (): ToastInterface => {\n  const toast = () =>\n    console.warn(\"[Vue Toastification] This plugin does not support SSR!\")\n  return (new Proxy(toast, {\n    get() {\n      return toast\n    },\n  }) as unknown) as ToastInterface\n}\n\nfunction createToastInterface(eventBus: EventBusInterface): ToastInterface\nfunction createToastInterface(options?: PluginOptions): ToastInterface\nfunction createToastInterface(\n  optionsOrEventBus?: PluginOptions | EventBusInterface\n): ToastInterface {\n  if (!isBrowser()) {\n    return createMockToastInterface()\n  }\n  if (isEventBusInterface(optionsOrEventBus)) {\n    return buildInterface({ eventBus: optionsOrEventBus }, false)\n  }\n  return buildInterface(optionsOrEventBus, true)\n}\n\nconst toastInjectionKey: InjectionKey<ToastInterface> = Symbol(\n  \"VueToastification\"\n)\n\nconst globalEventBus = new EventBus()\n\nconst VueToastificationPlugin: Plugin = (App, options?: PluginOptions) => {\n  const inter = createToastInterface({ eventBus: globalEventBus, ...options })\n  App.provide(toastInjectionKey, inter)\n}\n\nconst provideToast = (options?: PluginOptions) => {\n  const toast = ownExports.createToastInterface(options)\n  provide(toastInjectionKey, toast)\n}\n\nconst useToast = (eventBus?: EventBus) => {\n  if (eventBus) {\n    return ownExports.createToastInterface(eventBus)\n  }\n  const toast = getCurrentInstance() ? inject(toastInjectionKey) : undefined\n  return toast ? toast : ownExports.createToastInterface(globalEventBus)\n}\n\nexport default VueToastificationPlugin\n\nexport {\n  // Types\n  ToastInterface,\n  PluginOptions,\n  // Consts\n  POSITION,\n  TYPE,\n  toastInjectionKey,\n  // Functions\n  createToastInterface,\n  useToast,\n  provideToast,\n  // Classes\n  EventBus,\n  // Instances\n  globalEventBus,\n}\n"],"names":["isFunction","value","isString","isNonEmptyString","trim","length","isNumber","isUndefined","isObject","isJSX","obj","hasProp","tag","isTouchEvent","event","window","TouchEvent","isToastComponent","isToastContent","component","isVueComponent","c","isDOMRect","every","p","propKey","getId","i","getX","targetTouches","clientX","getY","clientY","removeElement","el","remove","parentNode","removeChild","getVueComponentFromObj","defineComponent","render","toRaw","unref","normalizeToastComponent","props","listeners","isBrowser","EventBus","constructor","getHandlers","eventType","allHandlers","on","handler","handlers","push","off","splice","indexOf","emit","forEach","isEventBusInterface","e","f","TYPE","POSITION","EVENTS","VT_NAMESPACE","COMMON","type","String","default","DEFAULT","classNames","Array","trueBoolean","Boolean","ICON","customIcon","Object","Function","CLOSE_BUTTON","showOnHover","ariaLabel","PROGRESS_BAR","timeout","Number","hideProgressBar","isRunning","TRANSITION","transition","CORE_TOAST","position","TOP_RIGHT","draggable","draggablePercent","pauseOnFocusLoss","pauseOnHover","closeOnClick","toastClassName","bodyClassName","icon","closeButton","closeButtonClassName","showCloseButtonOnHover","accessibility","toastRole","closeButtonLabel","rtl","eventBus","required","TOAST","id","content","onClick","onClose","CONTAINER","container","HTMLElement","document","body","newestOnTop","maxToasts","toastDefaults","filterBeforeCreate","toast","filterToasts","toasts","containerClassName","onMounted","name","PROPS","data","hasClass","computed","style","animationDuration","animationPlayState","opacity","cpClass","watch","$nextTick","mounted","$el","addEventListener","animationEnded","beforeUnmount","removeEventListener","methods","$emit","_createBlock","buttonComponent","classes","concat","_mergeProps","_createVNode","_hoisted_1","_hoisted_2","customIconChildren","trimValue","iconChildren","customIconClass","iconClass","customIconTag","iconTag","hasCustomIcon","iconTypeComponent","types","InfoIcon","INFO","SUCCESS","SuccessIcon","ERROR","ErrorIcon","WARNING","WarningIcon","iconClasses","empty","components","ProgressBar","CloseButton","Icon","inheritAttrs","assign","disableTransitions","beingDragged","dragStart","dragPos","x","y","dragRect","bodyClasses","draggableStyle","transform","dragDelta","Math","abs","removalDistance","right","left","draggableSetup","focusSetup","draggableCleanup","focusCleanup","closeToast","DISMISS","clickHandler","timeoutHandler","hoverPause","hoverPlay","focusPause","focusPlay","element","onDragStart","passive","onDragMove","onDragEnd","getBoundingClientRect","preventDefault","setTimeout","bottom","top","_toHandlers","emits","leave","offsetLeft","offsetTop","width","getComputedStyle","_renderSlot","Toast","VtTransition","count","positions","values","defaults","toastArray","filteredToasts","beforeMount","events","ADD","addToast","CLEAR","clearToasts","dismissToast","UPDATE","updateToast","UPDATE_DEFAULTS","updateDefaults","$props","setup","appendChild","setToast","params","keys","getPositionToasts","filter","slice","reverse","update","options","create","getClasses","buildInterface","globalOptions","mountContainer","nextTick","app","createApp","ToastContainer","mount","createElement","clear","undefined","dismiss","opt","success","info","error","warning","createMockToastInterface","console","warn","Proxy","get","createToastInterface","optionsOrEventBus","toastInjectionKey","Symbol","globalEventBus","VueToastificationPlugin","App","inter","provide","provideToast","ownExports","useToast","getCurrentInstance","inject"],"mappings":";;;;;;AAYA,MAAMA,UAAU,GAAIC,KAAD,IACjB,OAAOA,KAAP,KAAiB,UADnB;;AAGA,MAAMC,QAAQ,GAAID,KAAD,IAAqC,OAAOA,KAAP,KAAiB,QAAvE;;AAEA,MAAME,gBAAgB,GAAIF,KAAD,IACvBC,QAAQ,CAACD,KAAD,CAAR,IAAmBA,KAAK,CAACG,IAAN,GAAaC,MAAb,GAAsB,CAD3C;;AAGA,MAAMC,QAAQ,GAAIL,KAAD,IAAqC,OAAOA,KAAP,KAAiB,QAAvE;;AAEA,MAAMM,WAAW,GAAIN,KAAD,IAClB,OAAOA,KAAP,KAAiB,WADnB;;AAGA,MAAMO,QAAQ,GAAIP,KAAD,IACf,OAAOA,KAAP,KAAiB,QAAjB,IAA6BA,KAAK,KAAK,IADzC;;AAGA,MAAMQ,KAAK,GAAIC,GAAD,IACZC,OAAO,CAACD,GAAD,EAAM,KAAN,CAAP,IAAuBP,gBAAgB,CAACO,GAAG,CAACE,GAAL,CADzC;;AAGA,MAAMC,YAAY,GAAIC,KAAD,IACnBC,MAAM,CAACC,UAAP,IAAqBF,KAAK,YAAYE,UADxC;;AAGA,MAAMC,gBAAgB,GAAIP,GAAD,IACvBC,OAAO,CAACD,GAAD,EAAM,WAAN,CAAP,IAA6BQ,cAAc,CAACR,GAAG,CAACS,SAAL,CAD7C;;AAGA,MAAMC,cAAc,GAAIC,CAAD,IACrBrB,UAAU,CAACqB,CAAD,CAAV,IAAiBb,QAAQ,CAACa,CAAD,CAD3B;;AAGA,MAAMH,cAAc,GAAIR,GAAD;AAErB,CAACH,WAAW,CAACG,GAAD,CAAZ;AAECR,QAAQ,CAACQ,GAAD,CAAR;AAECU,cAAc,CAACV,GAAD,CAFf;AAICO,gBAAgB,CAACP,GAAD,CANlB,CAFF;;AAUA,MAAMY,SAAS,GAAIZ,GAAD,IAChBF,QAAQ,CAACE,GAAD,CAAR,IACA,CAAC,QAAD,EAAW,OAAX,EAAoB,OAApB,EAA6B,MAA7B,EAAqC,KAArC,EAA4C,QAA5C,EAAsDa,KAAtD,CAA4DC,CAAC,IAC3DlB,QAAQ,CAACI,GAAG,CAACc,CAAD,CAAJ,CADV,CAFF;;AAMA,MAAMb,OAAO,GAAG,CACdD,GADc,EAEde,OAFc,KAId,CAACjB,QAAQ,CAACE,GAAD,CAAR,IAAiBV,UAAU,CAACU,GAAD,CAA5B,KAAsCe,OAAO,IAAIf,GAJnD;AAMA;;;;;AAGA,MAAMgB,KAAK,GAAG,CAACC,CAAC,IAAI,MAAMA,CAAC,EAAb,EAAiB,CAAjB,CAAd;;AAEA,SAASC,IAAT,CAAcd,KAAd;AACE,SAAOD,YAAY,CAACC,KAAD,CAAZ,GAAsBA,KAAK,CAACe,aAAN,CAAoB,CAApB,EAAuBC,OAA7C,GAAuDhB,KAAK,CAACgB,OAApE;AACD;;AAED,SAASC,IAAT,CAAcjB,KAAd;AACE,SAAOD,YAAY,CAACC,KAAD,CAAZ,GAAsBA,KAAK,CAACe,aAAN,CAAoB,CAApB,EAAuBG,OAA7C,GAAuDlB,KAAK,CAACkB,OAApE;AACD;;AAED,MAAMC,aAAa,GAAIC,EAAD;AACpB,MAAI,CAAC3B,WAAW,CAAC2B,EAAE,CAACC,MAAJ,CAAhB,EAA6B;AAC3BD,IAAAA,EAAE,CAACC,MAAH;AACD,GAFD,MAEO,IAAID,EAAE,CAACE,UAAP,EAAmB;AACxBF,IAAAA,EAAE,CAACE,UAAH,CAAcC,WAAd,CAA0BH,EAA1B;AACD;AACF,CAND;;AAQA,MAAMI,sBAAsB,GAAI5B,GAAD;AAC7B,MAAIO,gBAAgB,CAACP,GAAD,CAApB,EAA2B;AACzB;AACA,WAAO4B,sBAAsB,CAAC5B,GAAG,CAACS,SAAL,CAA7B;AACD;;AACD,MAAIV,KAAK,CAACC,GAAD,CAAT,EAAgB;AACd;AACA,WAAO6B,mBAAe,CAAC;AACrBC,MAAAA,MAAM;AACJ,eAAO9B,GAAP;AACD;;AAHoB,KAAD,CAAtB;AAKD;;;AAED,SAAO,OAAOA,GAAP,KAAe,QAAf,GAA0BA,GAA1B,GAAgC+B,SAAK,CAACC,SAAK,CAAChC,GAAD,CAAN,CAA5C;AACD,CAfD;;AAiBA,MAAMiC,uBAAuB,GAAIjC,GAAD;AAC9B,MAAI,OAAOA,GAAP,KAAe,QAAnB,EAA6B;AAC3B,WAAOA,GAAP;AACD;;AACD,QAAMkC,KAAK,GAAGjC,OAAO,CAACD,GAAD,EAAM,OAAN,CAAP,IAAyBF,QAAQ,CAACE,GAAG,CAACkC,KAAL,CAAjC,GAA+ClC,GAAG,CAACkC,KAAnD,GAA2D,EAAzE;AACA,QAAMC,SAAS,GAAIlC,OAAO,CAACD,GAAD,EAAM,WAAN,CAAP,IAA6BF,QAAQ,CAACE,GAAG,CAACmC,SAAL,CAArC,GACfnC,GAAG,CAACmC,SADW,GAEf,EAFJ;AAGA,SAAO;AAAE1B,IAAAA,SAAS,EAAEmB,sBAAsB,CAAC5B,GAAD,CAAnC;AAA0CkC,IAAAA,KAA1C;AAAiDC,IAAAA;AAAjD,GAAP;AACD,CATD;;AAWA,MAAMC,SAAS,GAAG,MAAM,OAAO/B,MAAP,KAAkB,WAA1C;;MCnEagC;AAAbC,EAAAA;AACY,oBAAA,GAA0B,EAA1B;AAmBX;;AAjBWC,EAAAA,WAAW,CAAmBC,SAAnB;AACnB,WAAQ,KAAKC,WAAL,CAAiBD,SAAjB,KAA8D,EAAtE;AACD;;AAEME,EAAAA,EAAE,CAAmBF,SAAnB,EAAiCG,OAAjC;AACP,UAAMC,QAAQ,GAAG,KAAKL,WAAL,CAAiBC,SAAjB,CAAjB;AACAI,IAAAA,QAAQ,CAACC,IAAT,CAAcF,OAAd;AACA,SAAKF,WAAL,CAAiBD,SAAjB,IAA8BI,QAA9B;AACD;;AACME,EAAAA,GAAG,CAAmBN,SAAnB,EAAiCG,OAAjC;AACR,UAAMC,QAAQ,GAAG,KAAKL,WAAL,CAAiBC,SAAjB,CAAjB;AACAI,IAAAA,QAAQ,CAACG,MAAT,CAAgBH,QAAQ,CAACI,OAAT,CAAiBL,OAAjB,MAA8B,CAA9C,EAAiD,CAAjD;AACD;;AACMM,EAAAA,IAAI,CAAmBT,SAAnB,EAAiCpC,KAAjC;AACT,UAAMwC,QAAQ,GAAG,KAAKL,WAAL,CAAiBC,SAAjB,CAAjB;AACAI,IAAAA,QAAQ,CAACM,OAAT,CAAiBP,OAAO,IAAIA,OAAO,CAACvC,KAAD,CAAnC;AACD;;;AAGI,MAAM+C,mBAAmB,GAAIC,CAAD,IACjC,CAAC,IAAD,EAAO,KAAP,EAAc,MAAd,EAAsBvC,KAAtB,CAA4BwC,CAAC,IAAIpD,OAAO,CAACmD,CAAD,EAAIC,CAAJ,CAAP,IAAiB/D,UAAU,CAAC8D,CAAC,CAACC,CAAD,CAAF,CAA5D,CADK;;AClEP,WAAYC;AACVA,EAAAA,eAAA,YAAA;AACAA,EAAAA,aAAA,UAAA;AACAA,EAAAA,eAAA,YAAA;AACAA,EAAAA,YAAA,SAAA;AACAA,EAAAA,eAAA,YAAA;AACD,CAND,EAAYA,YAAI,KAAJA,YAAI,KAAA,CAAhB;;AAQA,WAAYC;AACVA,EAAAA,oBAAA,aAAA;AACAA,EAAAA,sBAAA,eAAA;AACAA,EAAAA,qBAAA,cAAA;AACAA,EAAAA,uBAAA,gBAAA;AACAA,EAAAA,yBAAA,kBAAA;AACAA,EAAAA,wBAAA,iBAAA;AACD,CAPD,EAAYA,gBAAQ,KAARA,gBAAQ,KAAA,CAApB;;AASA,IAAYC,MAAZ;;AAAA,WAAYA;AACVA,EAAAA,aAAA,QAAA;AACAA,EAAAA,iBAAA,YAAA;AACAA,EAAAA,gBAAA,WAAA;AACAA,EAAAA,eAAA,UAAA;AACAA,EAAAA,yBAAA,oBAAA;AACD,CAND,EAAYA,MAAM,KAANA,MAAM,KAAA,CAAlB;;AAQO,MAAMC,YAAY,GAAG,oBAArB;;ACZP,MAAMC,MAAM,GAAG;AACbC,EAAAA,IAAI,EAAE;AACJA,IAAAA,IAAI,EAAEC,MADF;AAEJC,IAAAA,OAAO,EAAEP,YAAI,CAACQ;AAFV,GADO;AAKbC,EAAAA,UAAU,EAAE;AACVJ,IAAAA,IAAI,EAAE,CAACC,MAAD,EAASI,KAAT,CADI;AAEVH,IAAAA,OAAO,EAAE,MAAM;AAFL,GALC;AASbI,EAAAA,WAAW,EAAE;AACXN,IAAAA,IAAI,EAAEO,OADK;AAEXL,IAAAA,OAAO,EAAE;AAFE;AATA,CAAf;AAeA,MAAMM,IAAI,GAAG;AACXR,EAAAA,IAAI,EAAED,MAAM,CAACC,IADF;AAEXS,EAAAA,UAAU,EAAE;AACVT,IAAAA,IAAI,EAAE,CAACC,MAAD,EAASM,OAAT,EAAkBG,MAAlB,EAA0BC,QAA1B,CADI;AAIVT,IAAAA,OAAO,EAAE;AAJC;AAFD,CAAb;AAUA,MAAMU,YAAY,GAAG;AACnB9D,EAAAA,SAAS,EAAE;AACTkD,IAAAA,IAAI,EAAE,CAACC,MAAD,EAASS,MAAT,EAAiBC,QAAjB,EAA2BJ,OAA3B,CADG;AAITL,IAAAA,OAAO,EAAE;AAJA,GADQ;AAOnBE,EAAAA,UAAU,EAAEL,MAAM,CAACK,UAPA;AAQnBS,EAAAA,WAAW,EAAE;AACXb,IAAAA,IAAI,EAAEO,OADK;AAEXL,IAAAA,OAAO,EAAE;AAFE,GARM;AAYnBY,EAAAA,SAAS,EAAE;AACTd,IAAAA,IAAI,EAAEC,MADG;AAETC,IAAAA,OAAO,EAAE;AAFA;AAZQ,CAArB;AAkBA,MAAMa,YAAY,GAAG;AACnBC,EAAAA,OAAO,EAAE;AACPhB,IAAAA,IAAI,EAAE,CAACiB,MAAD,EAASV,OAAT,CADC;AAEPL,IAAAA,OAAO,EAAE;AAFF,GADU;AAKnBgB,EAAAA,eAAe,EAAE;AACflB,IAAAA,IAAI,EAAEO,OADS;AAEfL,IAAAA,OAAO,EAAE;AAFM,GALE;AASnBiB,EAAAA,SAAS,EAAE;AACTnB,IAAAA,IAAI,EAAEO,OADG;AAETL,IAAAA,OAAO,EAAE;AAFA;AATQ,CAArB;AAeA,MAAMkB,UAAU,GAAG;AACjBC,EAAAA,UAAU,EAAE;AACVrB,IAAAA,IAAI,EAAE,CAACU,MAAD,EAAST,MAAT,CADI;AAIVC,IAAAA,OAAO,KAAKJ;AAJF;AADK,CAAnB;AAUA,MAAMwB,UAAU,GAAG;AACjBC,EAAAA,QAAQ,EAAE;AACRvB,IAAAA,IAAI,EAAEC,MADE;AAERC,IAAAA,OAAO,EAAEN,gBAAQ,CAAC4B;AAFV,GADO;AAKjBC,EAAAA,SAAS,EAAE1B,MAAM,CAACO,WALD;AAMjBoB,EAAAA,gBAAgB,EAAE;AAChB1B,IAAAA,IAAI,EAAEiB,MADU;AAEhBf,IAAAA,OAAO,EAAE;AAFO,GAND;AAUjByB,EAAAA,gBAAgB,EAAE5B,MAAM,CAACO,WAVR;AAWjBsB,EAAAA,YAAY,EAAE7B,MAAM,CAACO,WAXJ;AAYjBuB,EAAAA,YAAY,EAAE9B,MAAM,CAACO,WAZJ;AAajBU,EAAAA,OAAO,EAAED,YAAY,CAACC,OAbL;AAcjBE,EAAAA,eAAe,EAAEH,YAAY,CAACG,eAdb;AAejBY,EAAAA,cAAc,EAAE/B,MAAM,CAACK,UAfN;AAgBjB2B,EAAAA,aAAa,EAAEhC,MAAM,CAACK,UAhBL;AAiBjB4B,EAAAA,IAAI,EAAExB,IAAI,CAACC,UAjBM;AAkBjBwB,EAAAA,WAAW,EAAErB,YAAY,CAAC9D,SAlBT;AAmBjBoF,EAAAA,oBAAoB,EAAEtB,YAAY,CAACR,UAnBlB;AAoBjB+B,EAAAA,sBAAsB,EAAEvB,YAAY,CAACC,WApBpB;AAqBjBuB,EAAAA,aAAa,EAAE;AACbpC,IAAAA,IAAI,EAAEU,MADO;AAEbR,IAAAA,OAAO,EAAE,OAAO;AACdmC,MAAAA,SAAS,EAAE,OADG;AAEdC,MAAAA,gBAAgB,EAAE;AAFJ,KAAP;AAFI,GArBE;AA4BjBC,EAAAA,GAAG,EAAE;AACHvC,IAAAA,IAAI,EAAEO,OADH;AAEHL,IAAAA,OAAO,EAAE;AAFN,GA5BY;AAgCjBsC,EAAAA,QAAQ,EAAE;AACRxC,IAAAA,IAAI,EAAEU,MADE;AAER+B,IAAAA,QAAQ,EAAE,IAFF;AAGRvC,IAAAA,OAAO,EAAE,IAAIxB,QAAJ;AAHD;AAhCO,CAAnB;AAuCA,MAAMgE,KAAK,GAAG;AACZC,EAAAA,EAAE,EAAE;AACF3C,IAAAA,IAAI,EAAE,CAACC,MAAD,EAASgB,MAAT,CADJ;AAEFwB,IAAAA,QAAQ,EAAE,IAFR;AAGFvC,IAAAA,OAAO,EAAE;AAHP,GADQ;AAMZF,EAAAA,IAAI,EAAED,MAAM,CAACC,IAND;AAOZ4C,EAAAA,OAAO,EAAE;AACP5C,IAAAA,IAAI,EAAE,CAACC,MAAD,EAASS,MAAT,EAAiBC,QAAjB,CADC;AAEP8B,IAAAA,QAAQ,EAAE,IAFH;AAGPvC,IAAAA,OAAO,EAAE;AAHF,GAPG;AAYZ2C,EAAAA,OAAO,EAAE;AACP7C,IAAAA,IAAI,EAAEW,QADC;AAEPT,IAAAA,OAAO,EAAE;AAFF,GAZG;AAgBZ4C,EAAAA,OAAO,EAAE;AACP9C,IAAAA,IAAI,EAAEW,QADC;AAEPT,IAAAA,OAAO;AAAE;AAA2B;AAF7B;AAhBG,CAAd;AAyBA,MAAM6C,SAAS,GAAmD;AAChEC,EAAAA,SAAS,EAAE;AACThD,IAAAA,IAAI,EAAE,CAACiD,WAAD,EAActC,QAAd,CADG;AAITT,IAAAA,OAAO,EAAE,MAAMgD,QAAQ,CAACC;AAJf,GADqD;AAOhEC,EAAAA,WAAW,EAAErD,MAAM,CAACO,WAP4C;AAQhE+C,EAAAA,SAAS,EAAE;AACTrD,IAAAA,IAAI,EAAEiB,MADG;AAETf,IAAAA,OAAO,EAAE;AAFA,GARqD;AAYhEmB,EAAAA,UAAU,EAAED,UAAU,CAACC,UAZyC;AAahEiC,EAAAA,aAAa,EAAE5C,MAbiD;AAgBhE6C,EAAAA,kBAAkB,EAAE;AAClBvD,IAAAA,IAAI,EAAEW,QADY;AAIlBT,IAAAA,OAAO,EAAGsD,KAAD,IAA2CA;AAJlC,GAhB4C;AAsBhEC,EAAAA,YAAY,EAAE;AACZzD,IAAAA,IAAI,EAAEW,QADM;AAEZT,IAAAA,OAAO,EAAGwD,MAAD,IAA8CA;AAF3C,GAtBkD;AA0BhEC,EAAAA,kBAAkB,EAAE5D,MAAM,CAACK,UA1BqC;AA2BhEwD,EAAAA,SAAS,EAAEjD;AA3BqD,CAAlE;AA8BA,YAAe;AACbW,EAAAA,UADa;AAEboB,EAAAA,KAFa;AAGbK,EAAAA,SAHa;AAIbhC,EAAAA,YAJa;AAKbP,EAAAA,IALa;AAMbY,EAAAA,UANa;AAObR,EAAAA;AAPa,CAAf;;ACrKA,aAAe1C,mBAAe,CAAC;AAC7B2F,EAAAA,IAAI,EAAE,eADuB;AAG7BtF,EAAAA,KAAK,EAAEuF,KAAK,CAAC/C,YAHgB;;AAK7B;AACA;AACA;AAEAgD,EAAAA,IAAI;AACF,WAAO;AACLC,MAAAA,QAAQ,EAAE;AADL,KAAP;AAGD,GAb4B;;AAe7BC,EAAAA,QAAQ,EAAE;AACRC,IAAAA,KAAK;AAKH,aAAO;AACLC,QAAAA,iBAAiB,KAAK,KAAKnD,WADtB;AAELoD,QAAAA,kBAAkB,EAAE,KAAKjD,SAAL,GAAiB,SAAjB,GAA6B,QAF5C;AAGLkD,QAAAA,OAAO,EAAE,KAAKnD,eAAL,GAAuB,CAAvB,GAA2B;AAH/B,OAAP;AAKD,KAXO;;AAaRoD,IAAAA,OAAO;AACL,aAAO,KAAKN,QAAL,MAAmBlE,4BAAnB,GAAkD,EAAzD;AACD;;AAfO,GAfmB;AAiC7ByE,EAAAA,KAAK,EAAE;AACLvD,IAAAA,OAAO;AACL,WAAKgD,QAAL,GAAgB,KAAhB;AACA,WAAKQ,SAAL,CAAe,MAAO,KAAKR,QAAL,GAAgB,IAAtC;AACD;;AAJI,GAjCsB;;AAwC7BS,EAAAA,OAAO;AACL,SAAKC,GAAL,CAASC,gBAAT,CAA0B,cAA1B,EAA0C,KAAKC,cAA/C;AACD,GA1C4B;;AA4C7BC,EAAAA,aAAa;AACX,SAAKH,GAAL,CAASI,mBAAT,CAA6B,cAA7B,EAA6C,KAAKF,cAAlD;AACD,GA9C4B;;AAgD7BG,EAAAA,OAAO,EAAE;AACPH,IAAAA,cAAc;AACZ;AACA;AACA,WAAKI,KAAL,CAAW,aAAX;AACD;;AALM;AAhDoB,CAAD,CAA9B;;;2BATEC;IAAM,KAAK,EAAE,UAAK;IAAG,KAAK,EAAE,YAAO;;;;;;;ACiBrC,eAAe/G,mBAAe,CAAC;AAC7B2F,EAAAA,IAAI,EAAE,eADuB;AAG7BtF,EAAAA,KAAK,EAAEuF,KAAK,CAAClD,YAHgB;AAK7BqD,EAAAA,QAAQ,EAAE;AACRiB,IAAAA,eAAe;AACb,UAAI,KAAKpI,SAAL,KAAmB,KAAvB,EAA8B;AAC5B,eAAOmB,sBAAsB,CAAC,KAAKnB,SAAN,CAA7B;;;AAEF,aAAO,QAAP;AACD,KANO;;AAORqI,IAAAA,OAAO;AACL,YAAMA,UAAU,IAAIrF,4BAAJ,CAAhB;;AACA,UAAI,KAAKe,WAAT,EAAsB;AACpBsE,QAAAA,OAAO,CAACjG,IAAR,CAAa,eAAb;;;AAEF,aAAOiG,OAAO,CAACC,MAAR,CAAe,KAAKhF,UAApB,CAAP;AACD;;AAbO;AALmB,CAAD,CAA9B;;yDAVE;;;2BAPA6E,4CACO,oBAAe,GADtBI;IAEG,YAAU,EAAE,cAAS;IACrB,KAAK,EAAE,YAAO;KACP,WAAM;;;;;;;;;;;ACalB,eAAe,EAAf;;;EAhBI,aAAW,EAAC;EACZ,SAAS,EAAC;EACV,aAAW,EAAC;EACZ,WAAS,EAAC;EACV,KAAK,EAAC;EACN,IAAI,EAAC;EACL,KAAK,EAAC;EACN,OAAO,EAAC;;gCAERC;EACE,IAAI,EAAC;EACL,CAAC,EAAC;;;;2BAZNL,uBAAAM;IAUE;;;;;;;ACOJ,eAAe,EAAf;;;EAhBI,aAAW,EAAC;EACZ,SAAS,EAAC;EACV,aAAW,EAAC;EACZ,WAAS,EAAC;EACV,KAAK,EAAC;EACN,IAAI,EAAC;EACL,KAAK,EAAC;EACN,OAAO,EAAC;;kCAERD;EACE,IAAI,EAAC;EACL,CAAC,EAAC;;;;2BAZNL,uBAAAM;IAUEC;;;;;;;ACOJ,eAAe,EAAf;;;EAhBI,aAAW,EAAC;EACZ,SAAS,EAAC;EACV,aAAW,EAAC;EACZ,WAAS,EAAC;EACV,KAAK,EAAC;EACN,IAAI,EAAC;EACL,KAAK,EAAC;EACN,OAAO,EAAC;;kCAERF;EACE,IAAI,EAAC;EACL,CAAC,EAAC;;;;2BAZNL,uBAAAM;IAUEC;;;;;;;ACOJ,eAAe,EAAf;;;EAhBI,aAAW,EAAC;EACZ,SAAS,EAAC;EACV,aAAW,EAAC;EACZ,WAAS,EAAC;EACV,KAAK,EAAC;EACN,IAAI,EAAC;EACL,KAAK,EAAC;EACN,OAAO,EAAC;;kCAERF;EACE,IAAI,EAAC;EACL,CAAC,EAAC;;;;2BAZNL,uBAAAM;IAUEC;;;;;;;ACaJ,eAAetH,mBAAe,CAAC;AAC7B2F,EAAAA,IAAI,EAAE,QADuB;AAG7BtF,EAAAA,KAAK,EAAEuF,KAAK,CAACtD,IAHgB;AAK7ByD,EAAAA,QAAQ,EAAE;AACRwB,IAAAA,kBAAkB;AAChB,aAAOnJ,OAAO,CAAC,KAAKmE,UAAN,EAAkB,cAAlB,CAAP,GACH,KAAKiF,SAAL,CAAe,KAAKjF,UAAL,CAAgBkF,YAA/B,CADG,GAEH,EAFJ;AAGD,KALO;;AAMRC,IAAAA,eAAe;AACb,UAAI/J,QAAQ,CAAC,KAAK4E,UAAN,CAAZ,EAA+B;AAC7B,eAAO,KAAKiF,SAAL,CAAe,KAAKjF,UAApB,CAAP;OADF,MAEO,IAAInE,OAAO,CAAC,KAAKmE,UAAN,EAAkB,WAAlB,CAAX,EAA2C;AAChD,eAAO,KAAKiF,SAAL,CAAe,KAAKjF,UAAL,CAAgBoF,SAA/B,CAAP;;;AAEF,aAAO,EAAP;AACD,KAbO;;AAcRC,IAAAA,aAAa;AACX,UAAIxJ,OAAO,CAAC,KAAKmE,UAAN,EAAkB,SAAlB,CAAX,EAAyC;AACvC,eAAO,KAAKiF,SAAL,CAAe,KAAKjF,UAAL,CAAgBsF,OAA/B,EAAwC,GAAxC,CAAP;;;AAEF,aAAO,GAAP;AACD,KAnBO;;AAoBRC,IAAAA,aAAa;AACX,aAAO,KAAKJ,eAAL,CAAqB5J,MAArB,GAA8B,CAArC;AACD,KAtBO;;AAuBRc,IAAAA,SAAS;AACP,UAAI,KAAKkJ,aAAT,EAAwB;AACtB,eAAO,KAAKF,aAAZ;;;AAEF,UAAIjJ,cAAc,CAAC,KAAK4D,UAAN,CAAlB,EAAqC;AACnC,eAAOxC,sBAAsB,CAAC,KAAKwC,UAAN,CAA7B;;;AAEF,aAAO,KAAKwF,iBAAZ;AACD,KA/BO;;AAgCRA,IAAAA,iBAAiB;AACf,YAAMC,QAAQ;AACZ,SAACvG,YAAI,CAACQ,OAAN,GAAgBgG,QADJ;AAEZ,SAACxG,YAAI,CAACyG,IAAN,GAAaD,QAFD;AAGZ,SAACxG,YAAI,CAAC0G,OAAN,GAAgBC,QAHJ;AAIZ,SAAC3G,YAAI,CAAC4G,KAAN,GAAcC,QAJF;AAKZ,SAAC7G,YAAI,CAAC8G,OAAN,GAAgBC;AALJ,OAAd;AAOA,aAAOR,KAAK,CAAC,KAAKlG,IAAN,CAAZ;AACD,KAzCO;;AA0CR2G,IAAAA,WAAW;AACT,YAAMxB,UAAU,IAAIrF,oBAAJ,CAAhB;;AACA,UAAI,KAAKkG,aAAT,EAAwB;AACtB,eAAOb,OAAO,CAACC,MAAR,CAAe,KAAKQ,eAApB,CAAP;;;AAEF,aAAOT,OAAP;AACD;;AAhDO,GALmB;AAwD7BJ,EAAAA,OAAO,EAAE;AACPW,IAAAA,SAAS,CAAC9J,KAAD,EAAiBgL,QAAQ,EAAzB;AACP,aAAO9K,gBAAgB,CAACF,KAAD,CAAhB,GAA0BA,KAAK,CAACG,IAAN,EAA1B,GAAyC6K,KAAhD;AACD;;AAHM;AAxDoB,CAAD,CAA9B;;;2BAvBE3B,4CAAgB,cAAS,KAAG,KAAK,EAAE,gBAAW;yBAAE;8CAC9C;;;;;;;;;ACqDJ,eAAe/G,mBAAe,CAAC;AAC7B2F,EAAAA,IAAI,EAAE,SADuB;AAG7BgD,EAAAA,UAAU,EAAE;AAAEC,iBAAAA,MAAF;AAAeC,iBAAAA,QAAf;AAA4BC,UAAAA;AAA5B,GAHiB;AAI7BC,EAAAA,YAAY,EAAE,KAJe;AAM7B1I,EAAAA,KAAK,EAAEmC,MAAM,CAACwG,MAAP,CAAc,EAAd,EAAkBpD,KAAK,CAACxC,UAAxB,EAAoCwC,KAAK,CAACpB,KAA1C,CANsB;;AAQ7BqB,EAAAA,IAAI;AACF,UAAMA,IAAI,GAON;AACF5C,MAAAA,SAAS,EAAE,IADT;AAEFgG,MAAAA,kBAAkB,EAAE,KAFlB;AAIFC,MAAAA,YAAY,EAAE,KAJZ;AAKFC,MAAAA,SAAS,EAAE,CALT;AAMFC,MAAAA,OAAO,EAAE;AAAEC,QAAAA,CAAC,EAAE,CAAL;AAAQC,QAAAA,CAAC,EAAE;AAAX,OANP;AAOFC,MAAAA,QAAQ,EAAE;AAPR,KAPJ;AAgBA,WAAO1D,IAAP;AACD,GA1B4B;;AA4B7BE,EAAAA,QAAQ,EAAE;AACRkB,IAAAA,OAAO;AACL,YAAMA,UAAU,IACXrF,qBADW,KAEXA,wBAAwB,KAAKE,MAFlB,KAGX,KAAKuB,UAHM,EAId6D,MAJc,CAIP,KAAKtD,cAJE,CAAhB;;AAKA,UAAI,KAAKqF,kBAAT,EAA6B;AAC3BhC,QAAAA,OAAO,CAACjG,IAAR,CAAa,oBAAb;;;AAEF,UAAI,KAAKqD,GAAT,EAAc;AACZ4C,QAAAA,OAAO,CAACjG,IAAR,IAAgBY,0BAAhB;;;AAEF,aAAOqF,OAAP;AACD,KAdO;;AAeRuC,IAAAA,WAAW;AACT,YAAMvC,UAAU,IACXrF,uBACDjE,QAAQ,CAAC,KAAK+G,OAAN,CAAR,GAAyB,MAAzB,GAAkC,kBAFtB,EAIdwC,MAJc,CAIP,KAAKrD,aAJE,CAAhB;AAKA,aAAOoD,OAAP;AACD,KAtBO;;AAuBR;AACAwC,IAAAA,cAAc;AAKZ,UAAI,KAAKN,SAAL,KAAmB,KAAKC,OAAL,CAAaC,CAApC,EAAuC;AACrC,eAAO,EAAP;OADF,MAEO,IAAI,KAAKH,YAAT,EAAuB;AAC5B,eAAO;AACLQ,UAAAA,SAAS,gBAAgB,KAAKC,cADzB;AAELxD,UAAAA,OAAO,EAAE,IAAIyD,IAAI,CAACC,GAAL,CAAS,KAAKF,SAAL,GAAiB,KAAKG,eAA/B;AAFR,SAAP;OADK,MAKA;AACL,eAAO;AACL3G,UAAAA,UAAU,EAAE,8BADP;AAELuG,UAAAA,SAAS,EAAE,eAFN;AAGLvD,UAAAA,OAAO,EAAE;AAHJ,SAAP;;AAMH,KA3CO;;AA4CRwD,IAAAA,SAAS;AACP,aAAO,KAAKT,YAAL,GAAoB,KAAKE,OAAL,CAAaC,CAAb,GAAiB,KAAKF,SAA1C,GAAsD,CAA7D;AACD,KA9CO;;AA+CRW,IAAAA,eAAe;AACb,UAAI/K,SAAS,CAAC,KAAKwK,QAAN,CAAb,EAA8B;AAC5B,eACE,CAAC,KAAKA,QAAL,CAAcQ,KAAd,GAAsB,KAAKR,QAAL,CAAcS,IAArC,IAA6C,KAAKxG,gBADpD;;;AAIF,aAAO,CAAP;AACD;;AAtDO,GA5BmB;;AAqF7B+C,EAAAA,OAAO;AACL,QAAI,KAAKhD,SAAT,EAAoB;AAClB,WAAK0G,cAAL;;;AAEF,QAAI,KAAKxG,gBAAT,EAA2B;AACzB,WAAKyG,UAAL;;AAEH,GA5F4B;;AA6F7BvD,EAAAA,aAAa;AACX,QAAI,KAAKpD,SAAT,EAAoB;AAClB,WAAK4G,gBAAL;;;AAEF,QAAI,KAAK1G,gBAAT,EAA2B;AACzB,WAAK2G,YAAL;;AAEH,GApG4B;;AAsG7BvD,EAAAA,OAAO,EAAE;AACP9G,IAAAA,sBADO;;AAEPsK,IAAAA,UAAU;AACR,WAAK/F,QAAL,CAAclD,IAAd,CAAmBO,MAAM,CAAC2I,OAA1B,EAAmC,KAAK7F,EAAxC;AACD,KAJM;;AAKP8F,IAAAA,YAAY;AACV,UAAI,KAAK5F,OAAT,EAAkB;AAChB,aAAKA,OAAL,CAAa,KAAK0F,UAAlB;;;AAEF,UAAI,KAAK1G,YAAT,EAAuB;AACrB,YAAI,CAAC,KAAKuF,YAAN,IAAsB,KAAKC,SAAL,KAAmB,KAAKC,OAAL,CAAaC,CAA1D,EAA6D;AAC3D,eAAKgB,UAAL;;;AAGL,KAdM;;AAePG,IAAAA,cAAc;AACZ,WAAKH,UAAL;AACD,KAjBM;;AAkBPI,IAAAA,UAAU;AACR,UAAI,KAAK/G,YAAT,EAAuB;AACrB,aAAKT,SAAL,GAAiB,KAAjB;;AAEH,KAtBM;;AAuBPyH,IAAAA,SAAS;AACP,UAAI,KAAKhH,YAAT,EAAuB;AACrB,aAAKT,SAAL,GAAiB,IAAjB;;AAEH,KA3BM;;AA4BP0H,IAAAA,UAAU;AACR,WAAK1H,SAAL,GAAiB,KAAjB;AACD,KA9BM;;AA+BP2H,IAAAA,SAAS;AACP,WAAK3H,SAAL,GAAiB,IAAjB;AACD,KAjCM;;AAmCPiH,IAAAA,UAAU;AACRzD,MAAAA,gBAAgB,CAAC,MAAD,EAAS,KAAKkE,UAAd,CAAhB;AACAlE,MAAAA,gBAAgB,CAAC,OAAD,EAAU,KAAKmE,SAAf,CAAhB;AACD,KAtCM;;AAuCPR,IAAAA,YAAY;AACVxD,MAAAA,mBAAmB,CAAC,MAAD,EAAS,KAAK+D,UAAd,CAAnB;AACA/D,MAAAA,mBAAmB,CAAC,OAAD,EAAU,KAAKgE,SAAf,CAAnB;AACD,KA1CM;;AA4CPX,IAAAA,cAAc;AACZ,YAAMY,UAAU,KAAKrE,GAArB;AACAqE,MAAAA,OAAO,CAACpE,gBAAR,CAAyB,YAAzB,EAAuC,KAAKqE,WAA5C,EAAyD;AACvDC,QAAAA,OAAO,EAAE;AAD8C,OAAzD;AAGAF,MAAAA,OAAO,CAACpE,gBAAR,CAAyB,WAAzB,EAAsC,KAAKqE,WAA3C;AACArE,MAAAA,gBAAgB,CAAC,WAAD,EAAc,KAAKuE,UAAnB,EAA+B;AAAED,QAAAA,OAAO,EAAE;AAAX,OAA/B,CAAhB;AACAtE,MAAAA,gBAAgB,CAAC,WAAD,EAAc,KAAKuE,UAAnB,CAAhB;AACAvE,MAAAA,gBAAgB,CAAC,UAAD,EAAa,KAAKwE,SAAlB,CAAhB;AACAxE,MAAAA,gBAAgB,CAAC,SAAD,EAAY,KAAKwE,SAAjB,CAAhB;AACD,KAtDM;;AAuDPd,IAAAA,gBAAgB;AACd,YAAMU,UAAU,KAAKrE,GAArB;AACAqE,MAAAA,OAAO,CAACjE,mBAAR,CAA4B,YAA5B,EAA0C,KAAKkE,WAA/C;AACAD,MAAAA,OAAO,CAACjE,mBAAR,CAA4B,WAA5B,EAAyC,KAAKkE,WAA9C;AACAlE,MAAAA,mBAAmB,CAAC,WAAD,EAAc,KAAKoE,UAAnB,CAAnB;AACApE,MAAAA,mBAAmB,CAAC,WAAD,EAAc,KAAKoE,UAAnB,CAAnB;AACApE,MAAAA,mBAAmB,CAAC,UAAD,EAAa,KAAKqE,SAAlB,CAAnB;AACArE,MAAAA,mBAAmB,CAAC,SAAD,EAAY,KAAKqE,SAAjB,CAAnB;AACD,KA/DM;;AAiEPH,IAAAA,WAAW,CAACvM,KAAD;AACT,WAAK2K,YAAL,GAAoB,IAApB;AACA,WAAKE,OAAL,GAAe;AAAEC,QAAAA,CAAC,EAAEhK,IAAI,CAACd,KAAD,CAAT;AAAkB+K,QAAAA,CAAC,EAAE9J,IAAI,CAACjB,KAAD;AAAzB,OAAf;AACA,WAAK4K,SAAL,GAAiB9J,IAAI,CAACd,KAAD,CAArB;AACA,WAAKgL,QAAL,GAAgB,KAAK/C,GAAL,CAAS0E,qBAAT,EAAhB;AACD,KAtEM;;AAuEPF,IAAAA,UAAU,CAACzM,KAAD;AACR,UAAI,KAAK2K,YAAT,EAAuB;AACrB3K,QAAAA,KAAK,CAAC4M,cAAN;;AACA,YAAI,KAAKlI,SAAT,EAAoB;AAClB,eAAKA,SAAL,GAAiB,KAAjB;;;AAEF,aAAKmG,OAAL,GAAe;AAAEC,UAAAA,CAAC,EAAEhK,IAAI,CAACd,KAAD,CAAT;AAAkB+K,UAAAA,CAAC,EAAE9J,IAAI,CAACjB,KAAD;AAAzB,SAAf;;AAEH,KA/EM;;AAgFP0M,IAAAA,SAAS;AACP,UAAI,KAAK/B,YAAT,EAAuB;AACrB,YAAIU,IAAI,CAACC,GAAL,CAAS,KAAKF,SAAd,KAA4B,KAAKG,eAArC,EAAsD;AACpD,eAAKb,kBAAL,GAA0B,IAA1B;AACA,eAAK3C,SAAL,CAAe,MAAM,KAAK+D,UAAL,EAArB;SAFF,MAGO;AACLe,UAAAA,UAAU,CAAC;AACT,iBAAKlC,YAAL,GAAoB,KAApB;;AACA,gBACEnK,SAAS,CAAC,KAAKwK,QAAN,CAAT,IACA,KAAK7F,YADL,IAEA,KAAK6F,QAAL,CAAc8B,MAAd,IAAwB,KAAKjC,OAAL,CAAaE,CAFrC,IAGA,KAAKF,OAAL,CAAaE,CAAb,IAAkB,KAAKC,QAAL,CAAc+B,GAHhC,IAIA,KAAK/B,QAAL,CAAcS,IAAd,IAAsB,KAAKZ,OAAL,CAAaC,CAJnC,IAKA,KAAKD,OAAL,CAAaC,CAAb,IAAkB,KAAKE,QAAL,CAAcQ,KANlC,EAOE;AACA,mBAAK9G,SAAL,GAAiB,KAAjB;aARF,MASO;AACL,mBAAKA,SAAL,GAAiB,IAAjB;;AAEH,WAdS,CAAV;;;AAiBL;;AAvGM;AAtGoB,CAAD,CAA9B;;;;;;;2BAtDE8D;IACG,KAAK,EAAE,YAAO;IACd,KAAK,EAAE,mBAAc;IACrB,OAAK,0CAAE,0BAAY;IACnB,YAAU,0CAAE,wBAAU;IACtB,YAAU,0CAAE,uBAAS;;KAEV,SAAI;0BAAhBA;;UAAmB,aAAW,EAAE,SAAI;UAAG,IAAI,EAAE,SAAI;;;IACjDK;MAAM,IAAI,EAAE,kBAAa,CAAC;MAAuB,KAAK,EAAE,gBAAW;;cAC1C;4BAAvBL;oDAAgD;;4BAChDA,4CACO,2BAAsB,CAAC,YAAO,IADrCI;;YAGG,UAAQ,EAAE,OAAE;aACL,YAAO,CAAC,KAAK,EACrBoE,2BAAa,CAAC,SAAS,KACtB,YAAU,EAAE,eAAU;;OAIjB,gBAAW;0BADrBxE;;UAEG,SAAS,EAAE,gBAAW;UACtB,aAAW,EAAE,yBAAoB;UACjC,eAAa,EAAE,2BAAsB;UACrC,YAAU,EAAE,kBAAa,CAAC,gBAAgB;UAC1C,OAAK,oBAAO,eAAU;;;KAGjB,YAAO;0BADfA;;UAEG,YAAU,EAAE,cAAS;UACrB,mBAAiB,EAAE,oBAAe;UAClC,OAAO,EAAE,YAAO;UAChB,YAAU,EAAE,mBAAc;;;;;;;;;ACjBjC;AAKA,eAAe/G,mBAAe,CAAC;AAC7B2F,EAAAA,IAAI,EAAE,cADuB;AAE7BtF,EAAAA,KAAK,EAAEuF,KAAK,CAAC1C,UAFgB;AAI7BsI,EAAAA,KAAK,EAAE,CAAC,OAAD,CAJsB;AAM7B3E,EAAAA,OAAO,EAAE;AACP4E,IAAAA,KAAK,CAAC9L,EAAD;AACHA,MAAAA,EAAE,CAACqG,KAAH,CAASgE,IAAT,GAAgBrK,EAAE,CAAC+L,UAAH,GAAgB,IAAhC;AACA/L,MAAAA,EAAE,CAACqG,KAAH,CAASsF,GAAT,GAAe3L,EAAE,CAACgM,SAAH,GAAe,IAA9B;AACAhM,MAAAA,EAAE,CAACqG,KAAH,CAAS4F,KAAT,GAAiBC,gBAAgB,CAAClM,EAAD,CAAhB,CAAqBiM,KAAtC;AACAjM,MAAAA,EAAE,CAACqG,KAAH,CAAS3C,QAAT,GAAoB,UAApB;AACD;;AANM;AANoB,CAAD,CAA9B;;;2BApBE0D;IACE,GAAG,EAAC;IACH,oBAAkB;;;IAGlB,YAAU,EAAE,eAAU,CAAC,OAAO,eAAU,CAAC,UAAU,eAAU;IAC7D,oBAAkB;;;IAGlB,OAAK,EAAE,UAAK;;yBAEb;MAAA+E;;;;;;;;;ACuBJ,eAAe9L,mBAAe,CAAC;AAC7B2F,EAAAA,IAAI,EAAE,mBADuB;AAE7BgD,EAAAA,UAAU,EAAE;AAAEoD,WAAAA,QAAF;AAASC,kBAAAA;AAAT,GAFiB;AAI7B3L,EAAAA,KAAK,EAAEmC,MAAM,CAACwG,MAAP,CAAc,EAAd,EAAkBpD,KAAK,CAACxC,UAAxB,EAAoCwC,KAAK,CAACf,SAA1C,EAAqDe,KAAK,CAAC1C,UAA3D,CAJsB;;AAM7B2C,EAAAA,IAAI;AACF,UAAMA,IAAI,GAQN;AACFoG,MAAAA,KAAK,EAAE,CADL;AAEFC,MAAAA,SAAS,EAAE1J,MAAM,CAAC2J,MAAP,CAAczK,gBAAd,CAFT;AAGF8D,MAAAA,MAAM,EAAE,EAHN;AAIF4G,MAAAA,QAAQ,EAAE;AAJR,KARJ;AAcA,WAAOvG,IAAP;AACD,GAtB4B;;AAwB7BE,EAAAA,QAAQ,EAAE;AACRsG,IAAAA,UAAU;AACR,aAAO7J,MAAM,CAAC2J,MAAP,CAAc,KAAK3G,MAAnB,CAAP;AACD,KAHO;;AAIR8G,IAAAA,cAAc;AACZ,aAAO,KAAKF,QAAL,CAAc7G,YAAd,CAA2B,KAAK8G,UAAhC,CAAP;AACD;;AANO,GAxBmB;;AAiC7BE,EAAAA,WAAW;AACT,UAAMC,SAAS,KAAKlI,QAApB;AACAkI,IAAAA,MAAM,CAAC3L,EAAP,CAAUc,MAAM,CAAC8K,GAAjB,EAAsB,KAAKC,QAA3B;AACAF,IAAAA,MAAM,CAAC3L,EAAP,CAAUc,MAAM,CAACgL,KAAjB,EAAwB,KAAKC,WAA7B;AACAJ,IAAAA,MAAM,CAAC3L,EAAP,CAAUc,MAAM,CAAC2I,OAAjB,EAA0B,KAAKuC,YAA/B;AACAL,IAAAA,MAAM,CAAC3L,EAAP,CAAUc,MAAM,CAACmL,MAAjB,EAAyB,KAAKC,WAA9B;AACAP,IAAAA,MAAM,CAAC3L,EAAP,CAAUc,MAAM,CAACqL,eAAjB,EAAkC,KAAKC,cAAvC;AACA,SAAKb,QAAL,GAAgB,KAAKc,MAArB;AACD,GAzC4B;;AA2C7B3G,EAAAA,OAAO;AACL,SAAK4G,KAAL,CAAW,KAAKrI,SAAhB;AACD,GA7C4B;;AA+C7B+B,EAAAA,OAAO,EAAE;AACP,UAAMsG,KAAN,CAAYrI,SAAZ;AACE,UAAIrH,UAAU,CAACqH,SAAD,CAAd,EAA2B;AACzBA,QAAAA,YAAY,MAAMA,SAAS,EAA3B;;;AAEFpF,MAAAA,aAAa,CAAC,KAAK8G,GAAN,CAAb;AACA1B,MAAAA,SAAS,CAACsI,WAAV,CAAsB,KAAK5G,GAA3B;AACD,KAPM;;AAQP6G,IAAAA,QAAQ,CAAChN,KAAD;AACN,UAAI,CAACrC,WAAW,CAACqC,KAAK,CAACoE,EAAP,CAAhB,EAA4B;AAC1B,aAAKe,MAAL,CAAYnF,KAAK,CAACoE,EAAlB,IAAwBpE,KAAxB;;AAEH,KAZM;;AAaPqM,IAAAA,QAAQ,CAACY,MAAD;AACNA,MAAAA,MAAM,CAAC5I,OAAP,GAAiBtE,uBAAuB,CAACkN,MAAM,CAAC5I,OAAR,CAAxC;AACA,YAAMrE,QAAQmC,MAAM,CAACwG,MAAP,CACZ,EADY,EAEZ,KAAKoD,QAFO,EAGZkB,MAAM,CAACxL,IAAP,IACE,KAAKsK,QAAL,CAAchH,aADhB,IAEE,KAAKgH,QAAL,CAAchH,aAAd,CAA4BkI,MAAM,CAACxL,IAAnC,CALU,EAMZwL,MANY,CAAd;AAQA,YAAMhI,QAAQ,KAAK8G,QAAL,CAAc/G,kBAAd,CAAiChF,KAAjC,EAAwC,KAAKgM,UAA7C,CAAd;AACA/G,MAAAA,SAAS,KAAK+H,QAAL,CAAc/H,KAAd,CAAT;AACD,KAzBM;;AA0BPuH,IAAAA,YAAY,CAACpI,EAAD;AACV,YAAMa,QAAQ,KAAKE,MAAL,CAAYf,EAAZ,CAAd;;AACA,UAAI,CAACzG,WAAW,CAACsH,KAAD,CAAZ,IAAuB,CAACtH,WAAW,CAACsH,KAAK,CAACV,OAAP,CAAvC,EAAwD;AACtDU,QAAAA,KAAK,CAACV,OAAN;;;AAEF,aAAO,KAAKY,MAAL,CAAYf,EAAZ,CAAP;AACD,KAhCM;;AAiCPmI,IAAAA,WAAW;AACTpK,MAAAA,MAAM,CAAC+K,IAAP,CAAY,KAAK/H,MAAjB,EAAyBnE,OAAzB,CAAkCoD,EAAD;AAC/B,aAAKoI,YAAL,CAAkBpI,EAAlB;AACD,OAFD;AAGD,KArCM;;AAsCP+I,IAAAA,iBAAiB,CAACnK,QAAD;AACf,YAAMmC,SAAS,KAAK8G,cAAL,CACZmB,MADY,CACLnI,SAASA,KAAK,CAACjC,QAAN,KAAmBA,QADvB,EAEZqK,KAFY,CAEN,CAFM,EAEH,KAAKtB,QAAL,CAAcjH,SAFX,CAAf;AAGA,aAAO,KAAKiH,QAAL,CAAclH,WAAd,GAA4BM,MAAM,CAACmI,OAAP,EAA5B,GAA+CnI,MAAtD;AACD,KA3CM;;AA4CPyH,IAAAA,cAAc,CAACW,MAAD;AACZ;AACA,UAAI,CAAC5P,WAAW,CAAC4P,MAAM,CAAC9I,SAAR,CAAhB,EAAoC;AAClC,aAAKqI,KAAL,CAAWS,MAAM,CAAC9I,SAAlB;;;AAEF,WAAKsH,QAAL,GAAgB5J,MAAM,CAACwG,MAAP,CAAc,EAAd,EAAkB,KAAKoD,QAAvB,EAAiCwB,MAAjC,CAAhB;AACD,KAlDM;;AAmDPb,IAAAA,WAAW,CAAC;AACVtI,MAAAA,EADU;AAEVoJ,MAAAA,OAFU;AAGVC,MAAAA;AAHU,KAAD;AAST,UAAI,KAAKtI,MAAL,CAAYf,EAAZ,CAAJ,EAAqB;AACnB;AACA;AACA,YAAIoJ,OAAO,CAAC/K,OAAR,IAAmB+K,OAAO,CAAC/K,OAAR,KAAoB,KAAK0C,MAAL,CAAYf,EAAZ,EAAgB3B,OAA3D,EAAoE;AAClE+K,UAAAA,OAAO,CAAC/K,OAAR;;;AAEF,aAAKuK,QAAL,CAAc7K,MAAM,CAACwG,MAAP,CAAc,EAAd,EAAkB,KAAKxD,MAAL,CAAYf,EAAZ,CAAlB,EAAmCoJ,OAAnC,CAAd;OANF,MAOO,IAAIC,MAAJ,EAAY;AACjB,aAAKpB,QAAL,CACElK,MAAM,CAACwG,MAAP,CAAc,EAAd,EAAkB;AAAEvE,UAAAA;AAAF,SAAlB,EAA0BoJ,OAA1B,CADF;;AAIH,KAxEM;;AAyEPE,IAAAA,UAAU,CAAC1K,QAAD;AACR,YAAM4D,UAAU,IAAIrF,yBAAJ,EAA+ByB,QAA/B,CAAhB;AACA,aAAO4D,OAAO,CAACC,MAAR,CAAe,KAAKkF,QAAL,CAAc3G,kBAA7B,CAAP;AACD;;AA5EM;AA/CoB,CAAD,CAA9B;;;;;;2BAlCEsB;0BACEA,mDAAmB,cAAS,GAAhB;+BAAZA,yBAA+B,GAAG,EAAE,GAAG;QACrCK;UAAe,UAAU,EAAE,aAAQ,CAAC,UAAU;UAAG,KAAK,EAAE,eAAU,CAAC,GAAG;;+BAElE;kCADFL,mDACkB,sBAAiB,CAAC,GAAG,IAA9B;uCADTA,kCAAAI;gBAEG,GAAG,EAAE,KAAK,CAAC,EAAE;iBACN,KAAK;;;;;;;;;;;;;ACMhB,MAAM6G,cAAc,GAAG,CAC5BC,gBAA+B,EADH,EAE5BC,cAAc,GAAG,IAFW;AAI5B,QAAM1B,MAAM,GAAIyB,aAAa,CAAC3J,QAAd,GACd2J,aAAa,CAAC3J,QAAd,IAA0B,IAAI9D,QAAJ,EAD5B;;AAEA,MAAI0N,cAAJ,EAAoB;AAClBC,IAAAA,YAAQ,CAAC;AACP,YAAMC,GAAG,GAAGC,aAAS,CAACC,QAAD,oBAChBL,cADgB,CAArB;AAGA,YAAMrP,SAAS,GAAGwP,GAAG,CAACG,KAAJ,CAAUvJ,QAAQ,CAACwJ,aAAT,CAAuB,KAAvB,CAAV,CAAlB;AAEA,YAAM9I,SAAS,GAAGuI,aAAa,CAACvI,SAAhC;;AACA,UAAI,CAAC1H,WAAW,CAAC0H,SAAD,CAAhB,EAA6B;AAC3BA,QAAAA,SAAS,CAAC9G,SAAD,EAAYwP,GAAZ,CAAT;AACD;AACF,KAVO,CAAR;AAWD;AACD;;;;;AAGA,QAAM9I,KAAK,GAAG,CAACZ,OAAD,EAAwBmJ,OAAxB;AACZ,UAAMxN,KAAK,GAEPmC,MAAM,CAACwG,MAAP,CAAc,EAAd,EAAkB;AAAEvE,MAAAA,EAAE,EAAEtF,KAAK,EAAX;AAAe2C,MAAAA,IAAI,EAAEL,YAAI,CAACQ;AAA1B,KAAlB,EAAuD4L,OAAvD,EAAgE;AAClEnJ,MAAAA;AADkE,KAAhE,CAFJ;AAKA8H,IAAAA,MAAM,CAACpL,IAAP,CAAYO,MAAM,CAAC8K,GAAnB,EAAwBpM,KAAxB;AACA,WAAOA,KAAK,CAACoE,EAAb;AACD,GARD;AASA;;;;;AAGAa,EAAAA,KAAK,CAACmJ,KAAN,GAAc,MAAMjC,MAAM,CAACpL,IAAP,CAAYO,MAAM,CAACgL,KAAnB,EAA0B+B,SAA1B,CAApB;AACA;;;;;AAGApJ,EAAAA,KAAK,CAAC2H,cAAN,GAAwBW,MAAD;AACrBpB,IAAAA,MAAM,CAACpL,IAAP,CAAYO,MAAM,CAACqL,eAAnB,EAAoCY,MAApC;AACD,GAFD;AAGA;;;;;AAGAtI,EAAAA,KAAK,CAACqJ,OAAN,GAAiBlK,EAAD;AACd+H,IAAAA,MAAM,CAACpL,IAAP,CAAYO,MAAM,CAAC2I,OAAnB,EAA4B7F,EAA5B;AACD,GAFD;;AAgBA,WAASsI,WAAT,CACEtI,EADF,EAEE;AAAEC,IAAAA,OAAF;AAAWmJ,IAAAA;AAAX,GAFF,EAGEC,MAAM,GAAG,KAHX;AAKE,UAAMc,GAAG,GAAGpM,MAAM,CAACwG,MAAP,CAAc,EAAd,EAAkB6E,OAAlB,EAA2B;AAAEnJ,MAAAA;AAAF,KAA3B,CAAZ;AAGA8H,IAAAA,MAAM,CAACpL,IAAP,CAAYO,MAAM,CAACmL,MAAnB,EAA2B;AACzBrI,MAAAA,EADyB;AAEzBoJ,MAAAA,OAAO,EAAEe,GAFgB;AAGzBd,MAAAA;AAHyB,KAA3B;AAKD;;AACDxI,EAAAA,KAAK,CAACsI,MAAN,GAAeb,WAAf;AACA;;;;AAGAzH,EAAAA,KAAK,CAACuJ,OAAN,GAAgB,CACdnK,OADc,EAEdmJ,OAFc,KAGXvI,KAAK,CAACZ,OAAD,EAAUlC,MAAM,CAACwG,MAAP,CAAc,EAAd,EAAkB6E,OAAlB,EAA2B;AAAE/L,IAAAA,IAAI,EAAEL,YAAI,CAAC0G;AAAb,GAA3B,CAAV,CAHV;AAKA;;;;;AAGA7C,EAAAA,KAAK,CAACwJ,IAAN,GAAa,CACXpK,OADW,EAEXmJ,OAFW,KAGRvI,KAAK,CAACZ,OAAD,EAAUlC,MAAM,CAACwG,MAAP,CAAc,EAAd,EAAkB6E,OAAlB,EAA2B;AAAE/L,IAAAA,IAAI,EAAEL,YAAI,CAACyG;AAAb,GAA3B,CAAV,CAHV;AAKA;;;;;AAGA5C,EAAAA,KAAK,CAACyJ,KAAN,GAAc,CACZrK,OADY,EAEZmJ,OAFY,KAGTvI,KAAK,CAACZ,OAAD,EAAUlC,MAAM,CAACwG,MAAP,CAAc,EAAd,EAAkB6E,OAAlB,EAA2B;AAAE/L,IAAAA,IAAI,EAAEL,YAAI,CAAC4G;AAAb,GAA3B,CAAV,CAHV;AAKA;;;;;AAGA/C,EAAAA,KAAK,CAAC0J,OAAN,GAAgB,CACdtK,OADc,EAEdmJ,OAFc,KAGXvI,KAAK,CAACZ,OAAD,EAAUlC,MAAM,CAACwG,MAAP,CAAc,EAAd,EAAkB6E,OAAlB,EAA2B;AAAE/L,IAAAA,IAAI,EAAEL,YAAI,CAAC8G;AAAb,GAA3B,CAAV,CAHV;;AAKA,SAAOjD,KAAP;AACD,CA5GM;;ACHP,MAAM2J,wBAAwB,GAAG;AAC/B,QAAM3J,KAAK,GAAG,MACZ4J,OAAO,CAACC,IAAR,CAAa,wDAAb,CADF;;AAEA,SAAQ,IAAIC,KAAJ,CAAU9J,KAAV,EAAiB;AACvB+J,IAAAA,GAAG;AACD,aAAO/J,KAAP;AACD;;AAHsB,GAAjB,CAAR;AAKD,CARD;;AAYA,SAASgK,oBAAT,CACEC,iBADF;AAGE,MAAI,CAAChP,SAAS,EAAd,EAAkB;AAChB,WAAO0O,wBAAwB,EAA/B;AACD;;AACD,MAAI3N,mBAAmB,CAACiO,iBAAD,CAAvB,EAA4C;AAC1C,WAAOvB,cAAc,CAAC;AAAE1J,MAAAA,QAAQ,EAAEiL;AAAZ,KAAD,EAAkC,KAAlC,CAArB;AACD;;AACD,SAAOvB,cAAc,CAACuB,iBAAD,EAAoB,IAApB,CAArB;AACD;;MAEKC,iBAAiB,GAAiCC,MAAM,CAC5D,mBAD4D;MAIxDC,cAAc,GAAG,IAAIlP,QAAJ;;MAEjBmP,uBAAuB,GAAW,CAACC,GAAD,EAAM/B,OAAN;AACtC,QAAMgC,KAAK,GAAGP,oBAAoB;AAAGhL,IAAAA,QAAQ,EAAEoL;KAAmB7B,QAAhC,CAAlC;AACA+B,EAAAA,GAAG,CAACE,OAAJ,CAAYN,iBAAZ,EAA+BK,KAA/B;AACD;;MAEKE,YAAY,GAAIlC,OAAD;AACnB,QAAMvI,KAAK,GAAG0K,oBAAA,CAAgCnC,OAAhC,CAAd;AACAiC,EAAAA,WAAO,CAACN,iBAAD,EAAoBlK,KAApB,CAAP;AACD;;MAEK2K,QAAQ,GAAI3L,QAAD;AACf,MAAIA,QAAJ,EAAc;AACZ,WAAO0L,oBAAA,CAAgC1L,QAAhC,CAAP;AACD;;AACD,QAAMgB,KAAK,GAAG4K,sBAAkB,KAAKC,UAAM,CAACX,iBAAD,CAAX,GAAiCd,SAAjE;AACA,SAAOpJ,KAAK,GAAGA,KAAH,GAAW0K,oBAAA,CAAgCN,cAAhC,CAAvB;AACD;;;;;;;;;;"}