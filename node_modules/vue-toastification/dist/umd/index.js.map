{"version":3,"file":"index.js","sources":["../../src/ts/utils.ts","../../src/ts/eventBus.ts","../../src/ts/constants.ts","../../src/ts/propValidators.ts","../../src/components/VtProgressBar.vue","../../src/components/VtCloseButton.vue","../../src/components/icons/VtSuccessIcon.vue","../../src/components/icons/VtInfoIcon.vue","../../src/components/icons/VtWarningIcon.vue","../../src/components/icons/VtErrorIcon.vue","../../src/components/VtIcon.vue","../../src/components/VtToast.vue","../../src/components/VtTransition.vue","../../src/components/VtToastContainer.vue","../../src/ts/interface.ts","../../src/index.ts"],"sourcesContent":["import { Component, defineComponent, toRaw, unref } from \"vue\"\nimport type {\n  ToastComponent,\n  ToastContent,\n  RenderableToastContent,\n} from \"../types\"\n\ninterface DictionaryLike {\n  [index: string]: unknown\n}\n\n// eslint-disable-next-line @typescript-eslint/ban-types\nconst isFunction = (value: unknown): value is Function =>\n  typeof value === \"function\"\n\nconst isString = (value: unknown): value is string => typeof value === \"string\"\n\nconst isNonEmptyString = (value: unknown): value is string =>\n  isString(value) && value.trim().length > 0\n\nconst isNumber = (value: unknown): value is number => typeof value === \"number\"\n\nconst isUndefined = (value: unknown): value is undefined =>\n  typeof value === \"undefined\"\n\nconst isObject = (value: unknown): value is DictionaryLike =>\n  typeof value === \"object\" && value !== null\n\nconst isJSX = (obj: unknown): obj is JSX.Element =>\n  hasProp(obj, \"tag\") && isNonEmptyString(obj.tag)\n\nconst isTouchEvent = (event: Event): event is TouchEvent =>\n  window.TouchEvent && event instanceof TouchEvent\n\nconst isToastComponent = (obj: unknown): obj is ToastComponent =>\n  hasProp(obj, \"component\") && isToastContent(obj.component)\n\nconst isVueComponent = (c: unknown): c is Component =>\n  isFunction(c) || isObject(c)\n\nconst isToastContent = (obj: unknown): obj is ToastContent =>\n  // Ignore undefined\n  !isUndefined(obj) &&\n  // Is a string\n  (isString(obj) ||\n    // Regular Vue component\n    isVueComponent(obj) ||\n    // Nested object\n    isToastComponent(obj))\n\nconst isDOMRect = (obj: unknown): obj is DOMRect =>\n  isObject(obj) &&\n  [\"height\", \"width\", \"right\", \"left\", \"top\", \"bottom\"].every(p =>\n    isNumber(obj[p])\n  )\n\nconst hasProp = <O extends unknown, K extends PropertyKey>(\n  obj: O,\n  propKey: K\n): obj is O & { [key in K]: unknown } =>\n  (isObject(obj) || isFunction(obj)) && propKey in obj\n\n/**\n * ID generator\n */\nconst getId = (i => () => i++)(0)\n\nfunction getX(event: MouseEvent | TouchEvent) {\n  return isTouchEvent(event) ? event.targetTouches[0].clientX : event.clientX\n}\n\nfunction getY(event: MouseEvent | TouchEvent) {\n  return isTouchEvent(event) ? event.targetTouches[0].clientY : event.clientY\n}\n\nconst removeElement = (el: Element) => {\n  if (!isUndefined(el.remove)) {\n    el.remove()\n  } else if (el.parentNode) {\n    el.parentNode.removeChild(el)\n  }\n}\n\nconst getVueComponentFromObj = (obj: ToastContent): RenderableToastContent => {\n  if (isToastComponent(obj)) {\n    // Recurse if component prop\n    return getVueComponentFromObj(obj.component)\n  }\n  if (isJSX(obj)) {\n    // Create render function for JSX\n    return defineComponent({\n      render() {\n        return obj\n      },\n    })\n  }\n  // Return regular string or raw object\n  return typeof obj === \"string\" ? obj : toRaw(unref(obj))\n}\n\nconst normalizeToastComponent = (obj: ToastContent): ToastContent => {\n  if (typeof obj === \"string\") {\n    return obj\n  }\n  const props = hasProp(obj, \"props\") && isObject(obj.props) ? obj.props : {}\n  const listeners = (hasProp(obj, \"listeners\") && isObject(obj.listeners)\n    ? obj.listeners\n    : {}) as ToastComponent[\"listeners\"]\n  return { component: getVueComponentFromObj(obj), props, listeners }\n}\n\nconst isBrowser = () => typeof window !== \"undefined\"\n\nexport {\n  getId,\n  getX,\n  getY,\n  removeElement,\n  isString,\n  isNonEmptyString,\n  isToastContent,\n  getVueComponentFromObj,\n  normalizeToastComponent,\n  hasProp,\n  isUndefined,\n  isDOMRect,\n  isFunction,\n  isBrowser,\n}\n","import type { EVENTS } from \"./constants\"\nimport { hasProp, isFunction } from \"./utils\"\nimport type {\n  ToastOptionsAndRequiredContent,\n  ToastID,\n  ToastContent,\n  ToastOptions,\n  PluginOptions,\n} from \"../types/index\"\n\ntype EventData = {\n  [EVENTS.ADD]: ToastOptionsAndRequiredContent & {\n    id: ToastID\n  }\n  [EVENTS.CLEAR]: undefined\n  [EVENTS.DISMISS]: ToastID\n  [EVENTS.UPDATE]:\n    | {\n        id: ToastID\n        options: Partial<ToastOptions> & { content?: ToastContent }\n        create: false\n      }\n    | {\n        id: ToastID\n        options: Partial<ToastOptions> & { content: ToastContent }\n        create: true\n      }\n  [EVENTS.UPDATE_DEFAULTS]: PluginOptions\n}\n\ntype Handler<E extends EVENTS> = (event: EventData[E]) => void\n\nexport interface EventBusInterface {\n  on<E extends EVENTS>(eventType: E, handler: Handler<E>): void\n  off<E extends EVENTS>(eventType: E, handler: Handler<E>): void\n  emit<E extends EVENTS>(eventType: E, event: EventData[E]): void\n}\n\ntype HandlerList<E extends EVENTS> = Handler<E>[]\n\ntype HandlerMap = {\n  [E in EVENTS]?: HandlerList<E>\n}\n\nexport class EventBus implements EventBusInterface {\n  protected allHandlers: HandlerMap = {}\n\n  protected getHandlers<E extends EVENTS>(eventType: E) {\n    return (this.allHandlers[eventType] as HandlerList<E> | undefined) || []\n  }\n\n  public on<E extends EVENTS>(eventType: E, handler: Handler<E>) {\n    const handlers = this.getHandlers(eventType)\n    handlers.push(handler)\n    this.allHandlers[eventType] = handlers as EventBus[\"allHandlers\"][E]\n  }\n  public off<E extends EVENTS>(eventType: E, handler: Handler<E>) {\n    const handlers = this.getHandlers(eventType)\n    handlers.splice(handlers.indexOf(handler) >>> 0, 1)\n  }\n  public emit<E extends EVENTS>(eventType: E, event: EventData[E]) {\n    const handlers = this.getHandlers(eventType)\n    handlers.forEach(handler => handler(event))\n  }\n}\n\nexport const isEventBusInterface = (e: unknown): e is EventBusInterface =>\n  [\"on\", \"off\", \"emit\"].every(f => hasProp(e, f) && isFunction(e[f]))\n","export enum TYPE {\n  SUCCESS = \"success\",\n  ERROR = \"error\",\n  WARNING = \"warning\",\n  INFO = \"info\",\n  DEFAULT = \"default\",\n}\n\nexport enum POSITION {\n  TOP_LEFT = \"top-left\",\n  TOP_CENTER = \"top-center\",\n  TOP_RIGHT = \"top-right\",\n  BOTTOM_LEFT = \"bottom-left\",\n  BOTTOM_CENTER = \"bottom-center\",\n  BOTTOM_RIGHT = \"bottom-right\",\n}\n\nexport enum EVENTS {\n  ADD = \"add\",\n  DISMISS = \"dismiss\",\n  UPDATE = \"update\",\n  CLEAR = \"clear\",\n  UPDATE_DEFAULTS = \"update_defaults\",\n}\n\nexport const VT_NAMESPACE = \"Vue-Toastification\"\n","/* eslint-disable @typescript-eslint/no-empty-function */\nimport type { PropType, ComponentObjectPropsOptions } from \"vue\"\nimport { EventBus } from \"./eventBus\"\nimport type {\n  ToastContent,\n  CommonOptions,\n  PluginOptions,\n  ToastID,\n  ToastOptions,\n  ToastOptionsAndRequiredContent,\n} from \"../types\"\nimport { TYPE, POSITION, VT_NAMESPACE } from \"./constants\"\n\nconst COMMON = {\n  type: {\n    type: String as PropType<TYPE>,\n    default: TYPE.DEFAULT,\n  },\n  classNames: {\n    type: [String, Array] as PropType<string | string[]>,\n    default: () => [],\n  },\n  trueBoolean: {\n    type: Boolean as PropType<boolean>,\n    default: true,\n  },\n}\n\nconst ICON = {\n  type: COMMON.type,\n  customIcon: {\n    type: [String, Boolean, Object, Function] as PropType<\n      NonNullable<CommonOptions[\"icon\"]>\n    >,\n    default: true,\n  },\n}\n\nconst CLOSE_BUTTON = {\n  component: {\n    type: [String, Object, Function, Boolean] as PropType<\n      NonNullable<CommonOptions[\"closeButton\"]>\n    >,\n    default: \"button\" as keyof HTMLElementTagNameMap,\n  },\n  classNames: COMMON.classNames,\n  showOnHover: {\n    type: Boolean,\n    default: false,\n  },\n  ariaLabel: {\n    type: String as PropType<string>,\n    default: \"close\",\n  },\n}\n\nconst PROGRESS_BAR = {\n  timeout: {\n    type: [Number, Boolean] as PropType<number | false>,\n    default: 5000,\n  },\n  hideProgressBar: {\n    type: Boolean,\n    default: false,\n  },\n  isRunning: {\n    type: Boolean,\n    default: false,\n  },\n}\n\nconst TRANSITION = {\n  transition: {\n    type: [Object, String] as PropType<\n      NonNullable<PluginOptions[\"transition\"]>\n    >,\n    default: `${VT_NAMESPACE}__bounce`,\n  },\n}\n\ntype CommonOptionsType = Required<CommonOptions>\nconst CORE_TOAST = {\n  position: {\n    type: String as PropType<POSITION>,\n    default: POSITION.TOP_RIGHT,\n  },\n  draggable: COMMON.trueBoolean,\n  draggablePercent: {\n    type: Number as PropType<number>,\n    default: 0.6,\n  },\n  pauseOnFocusLoss: COMMON.trueBoolean,\n  pauseOnHover: COMMON.trueBoolean,\n  closeOnClick: COMMON.trueBoolean,\n  timeout: PROGRESS_BAR.timeout,\n  hideProgressBar: PROGRESS_BAR.hideProgressBar,\n  toastClassName: COMMON.classNames,\n  bodyClassName: COMMON.classNames,\n  icon: ICON.customIcon,\n  closeButton: CLOSE_BUTTON.component,\n  closeButtonClassName: CLOSE_BUTTON.classNames,\n  showCloseButtonOnHover: CLOSE_BUTTON.showOnHover,\n  accessibility: {\n    type: Object as PropType<NonNullable<PluginOptions[\"accessibility\"]>>,\n    default: () => ({\n      toastRole: \"alert\",\n      closeButtonLabel: \"close\",\n    }),\n  },\n  rtl: {\n    type: Boolean as PropType<boolean>,\n    default: false,\n  },\n  eventBus: {\n    type: Object as PropType<NonNullable<PluginOptions[\"eventBus\"]>>,\n    required: true,\n    default: new EventBus(),\n  },\n}\n\nconst TOAST = {\n  id: {\n    type: [String, Number] as PropType<ToastID>,\n    required: true,\n    default: 0,\n  },\n  type: COMMON.type,\n  content: {\n    type: [String, Object, Function] as PropType<ToastContent>,\n    required: true,\n    default: \"\",\n  },\n  onClick: {\n    type: Function as PropType<NonNullable<ToastOptions[\"onClick\"]>>,\n    default: () => {},\n  },\n  onClose: {\n    type: Function as PropType<NonNullable<ToastOptions[\"onClose\"]>>,\n    default: /* istanbul ignore next */ () => {},\n  },\n}\n\nexport type PluginOptionsType = Required<\n  Omit<PluginOptions, keyof CommonOptionsType>\n>\nconst CONTAINER: ComponentObjectPropsOptions<PluginOptionsType> = {\n  container: {\n    type: [HTMLElement, Function] as PropType<\n      NonNullable<PluginOptions[\"container\"]>\n    >,\n    default: () => document.body,\n  },\n  newestOnTop: COMMON.trueBoolean,\n  maxToasts: {\n    type: Number as PropType<number>,\n    default: 20,\n  },\n  transition: TRANSITION.transition,\n  toastDefaults: Object as PropType<\n    NonNullable<PluginOptions[\"toastDefaults\"]>\n  >,\n  filterBeforeCreate: {\n    type: Function as PropType<\n      NonNullable<PluginOptions[\"filterBeforeCreate\"]>\n    >,\n    default: (toast: ToastOptionsAndRequiredContent) => toast,\n  },\n  filterToasts: {\n    type: Function as PropType<NonNullable<PluginOptions[\"filterToasts\"]>>,\n    default: (toasts: ToastOptionsAndRequiredContent[]) => toasts,\n  },\n  containerClassName: COMMON.classNames,\n  onMounted: Function as PropType<NonNullable<PluginOptions[\"onMounted\"]>>,\n}\n\nexport default {\n  CORE_TOAST,\n  TOAST,\n  CONTAINER,\n  PROGRESS_BAR,\n  ICON,\n  TRANSITION,\n  CLOSE_BUTTON,\n}\n","<template>\n  <div :style=\"style\" :class=\"cpClass\" />\n</template>\n\n<script lang=\"ts\">\nimport { defineComponent } from \"vue\"\n\nimport { VT_NAMESPACE } from \"../ts/constants\"\nimport PROPS from \"../ts/propValidators\"\n\nexport default defineComponent({\n  name: \"VtProgressBar\",\n\n  props: PROPS.PROGRESS_BAR,\n\n  // TODO: The typescript compiler is not playing nice with emit types\n  // Rollback this change once ts is able to infer emit types\n  // emits: [\"close-toast\"],\n\n  data() {\n    return {\n      hasClass: true,\n    }\n  },\n\n  computed: {\n    style(): {\n      animationDuration: string\n      animationPlayState: string\n      opacity: number\n    } {\n      return {\n        animationDuration: `${this.timeout}ms`,\n        animationPlayState: this.isRunning ? \"running\" : \"paused\",\n        opacity: this.hideProgressBar ? 0 : 1,\n      }\n    },\n\n    cpClass(): string {\n      return this.hasClass ? `${VT_NAMESPACE}__progress-bar` : \"\"\n    },\n  },\n\n  watch: {\n    timeout() {\n      this.hasClass = false\n      this.$nextTick(() => (this.hasClass = true))\n    },\n  },\n\n  mounted() {\n    this.$el.addEventListener(\"animationend\", this.animationEnded)\n  },\n\n  beforeUnmount() {\n    this.$el.removeEventListener(\"animationend\", this.animationEnded)\n  },\n\n  methods: {\n    animationEnded() {\n      // See TODO on line 16\n      // eslint-disable-next-line vue/require-explicit-emits\n      this.$emit(\"close-toast\")\n    },\n  },\n})\n</script>\n","<template>\n  <component\n    :is=\"buttonComponent\"\n    :aria-label=\"ariaLabel\"\n    :class=\"classes\"\n    v-bind=\"$attrs\"\n  >\n    &times;\n  </component>\n</template>\n<script lang=\"ts\">\nimport { defineComponent } from \"vue\"\n\nimport { VT_NAMESPACE } from \"../ts/constants\"\nimport PROPS from \"../ts/propValidators\"\nimport { getVueComponentFromObj } from \"../ts/utils\"\nimport { RenderableToastContent } from \"../types\"\n\nexport default defineComponent({\n  name: \"VtCloseButton\",\n\n  props: PROPS.CLOSE_BUTTON,\n\n  computed: {\n    buttonComponent(): RenderableToastContent {\n      if (this.component !== false) {\n        return getVueComponentFromObj(this.component)\n      }\n      return \"button\"\n    },\n    classes(): string[] {\n      const classes = [`${VT_NAMESPACE}__close-button`]\n      if (this.showOnHover) {\n        classes.push(\"show-on-hover\")\n      }\n      return classes.concat(this.classNames)\n    },\n  },\n})\n</script>\n","<template>\n  <svg\n    aria-hidden=\"true\"\n    focusable=\"false\"\n    data-prefix=\"fas\"\n    data-icon=\"check-circle\"\n    class=\"svg-inline--fa fa-check-circle fa-w-16\"\n    role=\"img\"\n    xmlns=\"http://www.w3.org/2000/svg\"\n    viewBox=\"0 0 512 512\"\n  >\n    <path\n      fill=\"currentColor\"\n      d=\"M504 256c0 136.967-111.033 248-248 248S8 392.967 8 256 119.033 8 256 8s248 111.033 248 248zM227.314 387.314l184-184c6.248-6.248 6.248-16.379 0-22.627l-22.627-22.627c-6.248-6.249-16.379-6.249-22.628 0L216 308.118l-70.059-70.059c-6.248-6.248-16.379-6.248-22.628 0l-22.627 22.627c-6.248 6.248-6.248 16.379 0 22.627l104 104c6.249 6.249 16.379 6.249 22.628.001z\"\n    ></path>\n  </svg>\n</template>\n<script lang=\"ts\">\nexport default {}\n</script>\n","<template>\n  <svg\n    aria-hidden=\"true\"\n    focusable=\"false\"\n    data-prefix=\"fas\"\n    data-icon=\"info-circle\"\n    class=\"svg-inline--fa fa-info-circle fa-w-16\"\n    role=\"img\"\n    xmlns=\"http://www.w3.org/2000/svg\"\n    viewBox=\"0 0 512 512\"\n  >\n    <path\n      fill=\"currentColor\"\n      d=\"M256 8C119.043 8 8 119.083 8 256c0 136.997 111.043 248 248 248s248-111.003 248-248C504 119.083 392.957 8 256 8zm0 110c23.196 0 42 18.804 42 42s-18.804 42-42 42-42-18.804-42-42 18.804-42 42-42zm56 254c0 6.627-5.373 12-12 12h-88c-6.627 0-12-5.373-12-12v-24c0-6.627 5.373-12 12-12h12v-64h-12c-6.627 0-12-5.373-12-12v-24c0-6.627 5.373-12 12-12h64c6.627 0 12 5.373 12 12v100h12c6.627 0 12 5.373 12 12v24z\"\n    ></path>\n  </svg>\n</template>\n<script lang=\"ts\">\nexport default {}\n</script>\n","<template>\n  <svg\n    aria-hidden=\"true\"\n    focusable=\"false\"\n    data-prefix=\"fas\"\n    data-icon=\"exclamation-circle\"\n    class=\"svg-inline--fa fa-exclamation-circle fa-w-16\"\n    role=\"img\"\n    xmlns=\"http://www.w3.org/2000/svg\"\n    viewBox=\"0 0 512 512\"\n  >\n    <path\n      fill=\"currentColor\"\n      d=\"M504 256c0 136.997-111.043 248-248 248S8 392.997 8 256C8 119.083 119.043 8 256 8s248 111.083 248 248zm-248 50c-25.405 0-46 20.595-46 46s20.595 46 46 46 46-20.595 46-46-20.595-46-46-46zm-43.673-165.346l7.418 136c.347 6.364 5.609 11.346 11.982 11.346h48.546c6.373 0 11.635-4.982 11.982-11.346l7.418-136c.375-6.874-5.098-12.654-11.982-12.654h-63.383c-6.884 0-12.356 5.78-11.981 12.654z\"\n    ></path>\n  </svg>\n</template>\n<script lang=\"ts\">\nexport default {}\n</script>\n","<template>\n  <svg\n    aria-hidden=\"true\"\n    focusable=\"false\"\n    data-prefix=\"fas\"\n    data-icon=\"exclamation-triangle\"\n    class=\"svg-inline--fa fa-exclamation-triangle fa-w-18\"\n    role=\"img\"\n    xmlns=\"http://www.w3.org/2000/svg\"\n    viewBox=\"0 0 576 512\"\n  >\n    <path\n      fill=\"currentColor\"\n      d=\"M569.517 440.013C587.975 472.007 564.806 512 527.94 512H48.054c-36.937 0-59.999-40.055-41.577-71.987L246.423 23.985c18.467-32.009 64.72-31.951 83.154 0l239.94 416.028zM288 354c-25.405 0-46 20.595-46 46s20.595 46 46 46 46-20.595 46-46-20.595-46-46-46zm-43.673-165.346l7.418 136c.347 6.364 5.609 11.346 11.982 11.346h48.546c6.373 0 11.635-4.982 11.982-11.346l7.418-136c.375-6.874-5.098-12.654-11.982-12.654h-63.383c-6.884 0-12.356 5.78-11.981 12.654z\"\n    ></path>\n  </svg>\n</template>\n<script lang=\"ts\">\nexport default {}\n</script>\n","<template>\n  <component :is=\"component\" :class=\"iconClasses\">{{\n    customIconChildren\n  }}</component>\n</template>\n\n<script lang=\"ts\">\nimport { Component as VueComponent, defineComponent } from \"vue\"\n\nimport { RenderableToastContent } from \"../types\"\nimport { TYPE, VT_NAMESPACE } from \"../ts/constants\"\nimport {\n  isNonEmptyString,\n  isToastContent,\n  hasProp,\n  isString,\n  getVueComponentFromObj,\n} from \"../ts/utils\"\nimport PROPS from \"../ts/propValidators\"\nimport SuccessIcon from \"./icons/VtSuccessIcon.vue\"\nimport InfoIcon from \"./icons/VtInfoIcon.vue\"\nimport WarningIcon from \"./icons/VtWarningIcon.vue\"\nimport ErrorIcon from \"./icons/VtErrorIcon.vue\"\n\nexport default defineComponent({\n  name: \"VtIcon\",\n\n  props: PROPS.ICON,\n\n  computed: {\n    customIconChildren(): string {\n      return hasProp(this.customIcon, \"iconChildren\")\n        ? this.trimValue(this.customIcon.iconChildren)\n        : \"\"\n    },\n    customIconClass(): string {\n      if (isString(this.customIcon)) {\n        return this.trimValue(this.customIcon)\n      } else if (hasProp(this.customIcon, \"iconClass\")) {\n        return this.trimValue(this.customIcon.iconClass)\n      }\n      return \"\"\n    },\n    customIconTag(): string {\n      if (hasProp(this.customIcon, \"iconTag\")) {\n        return this.trimValue(this.customIcon.iconTag, \"i\")\n      }\n      return \"i\"\n    },\n    hasCustomIcon(): boolean {\n      return this.customIconClass.length > 0\n    },\n    component(): RenderableToastContent {\n      if (this.hasCustomIcon) {\n        return this.customIconTag\n      }\n      if (isToastContent(this.customIcon)) {\n        return getVueComponentFromObj(this.customIcon)\n      }\n      return this.iconTypeComponent\n    },\n    iconTypeComponent(): VueComponent {\n      const types = {\n        [TYPE.DEFAULT]: InfoIcon,\n        [TYPE.INFO]: InfoIcon,\n        [TYPE.SUCCESS]: SuccessIcon,\n        [TYPE.ERROR]: ErrorIcon,\n        [TYPE.WARNING]: WarningIcon,\n      }\n      return types[this.type]\n    },\n    iconClasses(): string[] {\n      const classes = [`${VT_NAMESPACE}__icon`]\n      if (this.hasCustomIcon) {\n        return classes.concat(this.customIconClass)\n      }\n      return classes\n    },\n  },\n\n  methods: {\n    trimValue(value: unknown, empty = \"\") {\n      return isNonEmptyString(value) ? value.trim() : empty\n    },\n  },\n})\n</script>\n","<template>\n  <div\n    :class=\"classes\"\n    :style=\"draggableStyle\"\n    @click=\"clickHandler\"\n    @mouseenter=\"hoverPause\"\n    @mouseleave=\"hoverPlay\"\n  >\n    <Icon v-if=\"icon\" :custom-icon=\"icon\" :type=\"type\" />\n    <div :role=\"accessibility.toastRole || 'alert'\" :class=\"bodyClasses\">\n      <template v-if=\"typeof content === 'string'\">{{ content }}</template>\n      <component\n        :is=\"getVueComponentFromObj(content)\"\n        v-else\n        :toast-id=\"id\"\n        v-bind=\"content.props\"\n        v-on=\"content.listeners\"\n        @closeToast=\"closeToast\"\n      />\n    </div>\n    <CloseButton\n      v-if=\"!!closeButton\"\n      :component=\"closeButton\"\n      :class-names=\"closeButtonClassName\"\n      :show-on-hover=\"showCloseButtonOnHover\"\n      :aria-label=\"accessibility.closeButtonLabel\"\n      @click.stop=\"closeToast\"\n    />\n    <ProgressBar\n      v-if=\"timeout\"\n      :is-running=\"isRunning\"\n      :hide-progress-bar=\"hideProgressBar\"\n      :timeout=\"timeout\"\n      @closeToast=\"timeoutHandler\"\n    />\n  </div>\n</template>\n\n<script lang=\"ts\">\nimport { defineComponent } from \"vue\"\n\nimport { EVENTS, VT_NAMESPACE } from \"../ts/constants\"\nimport PROPS from \"../ts/propValidators\"\nimport {\n  getVueComponentFromObj,\n  isString,\n  getX,\n  getY,\n  isDOMRect,\n} from \"../ts/utils\"\n\nimport ProgressBar from \"./VtProgressBar.vue\"\nimport CloseButton from \"./VtCloseButton.vue\"\nimport Icon from \"./VtIcon.vue\"\n\nexport default defineComponent({\n  name: \"VtToast\",\n\n  components: { ProgressBar, CloseButton, Icon },\n  inheritAttrs: false,\n\n  props: Object.assign({}, PROPS.CORE_TOAST, PROPS.TOAST),\n\n  data() {\n    const data: {\n      dragRect: DOMRect | Record<string, unknown>\n      isRunning: boolean\n      disableTransitions: boolean\n      beingDragged: boolean\n      dragStart: number\n      dragPos: { x: number; y: number }\n    } = {\n      isRunning: true,\n      disableTransitions: false,\n\n      beingDragged: false,\n      dragStart: 0,\n      dragPos: { x: 0, y: 0 },\n      dragRect: {},\n    }\n    return data\n  },\n\n  computed: {\n    classes(): string[] {\n      const classes = [\n        `${VT_NAMESPACE}__toast`,\n        `${VT_NAMESPACE}__toast--${this.type}`,\n        `${this.position}`,\n      ].concat(this.toastClassName)\n      if (this.disableTransitions) {\n        classes.push(\"disable-transition\")\n      }\n      if (this.rtl) {\n        classes.push(`${VT_NAMESPACE}__toast--rtl`)\n      }\n      return classes\n    },\n    bodyClasses(): string[] {\n      const classes = [\n        `${VT_NAMESPACE}__toast-${\n          isString(this.content) ? \"body\" : \"component-body\"\n        }`,\n      ].concat(this.bodyClassName)\n      return classes\n    },\n    /* istanbul ignore next */\n    draggableStyle(): {\n      transition?: string\n      opacity?: number\n      transform?: string\n    } {\n      if (this.dragStart === this.dragPos.x) {\n        return {}\n      } else if (this.beingDragged) {\n        return {\n          transform: `translateX(${this.dragDelta}px)`,\n          opacity: 1 - Math.abs(this.dragDelta / this.removalDistance),\n        }\n      } else {\n        return {\n          transition: \"transform 0.2s, opacity 0.2s\",\n          transform: \"translateX(0)\",\n          opacity: 1,\n        }\n      }\n    },\n    dragDelta(): number {\n      return this.beingDragged ? this.dragPos.x - this.dragStart : 0\n    },\n    removalDistance(): number {\n      if (isDOMRect(this.dragRect)) {\n        return (\n          (this.dragRect.right - this.dragRect.left) * this.draggablePercent\n        )\n      }\n      return 0\n    },\n  },\n\n  mounted() {\n    if (this.draggable) {\n      this.draggableSetup()\n    }\n    if (this.pauseOnFocusLoss) {\n      this.focusSetup()\n    }\n  },\n  beforeUnmount() {\n    if (this.draggable) {\n      this.draggableCleanup()\n    }\n    if (this.pauseOnFocusLoss) {\n      this.focusCleanup()\n    }\n  },\n\n  methods: {\n    getVueComponentFromObj,\n    closeToast() {\n      this.eventBus.emit(EVENTS.DISMISS, this.id)\n    },\n    clickHandler() {\n      if (this.onClick) {\n        this.onClick(this.closeToast)\n      }\n      if (this.closeOnClick) {\n        if (!this.beingDragged || this.dragStart === this.dragPos.x) {\n          this.closeToast()\n        }\n      }\n    },\n    timeoutHandler() {\n      this.closeToast()\n    },\n    hoverPause() {\n      if (this.pauseOnHover) {\n        this.isRunning = false\n      }\n    },\n    hoverPlay() {\n      if (this.pauseOnHover) {\n        this.isRunning = true\n      }\n    },\n    focusPause() {\n      this.isRunning = false\n    },\n    focusPlay() {\n      this.isRunning = true\n    },\n\n    focusSetup() {\n      addEventListener(\"blur\", this.focusPause)\n      addEventListener(\"focus\", this.focusPlay)\n    },\n    focusCleanup() {\n      removeEventListener(\"blur\", this.focusPause)\n      removeEventListener(\"focus\", this.focusPlay)\n    },\n\n    draggableSetup() {\n      const element = this.$el as HTMLElement\n      element.addEventListener(\"touchstart\", this.onDragStart, {\n        passive: true,\n      })\n      element.addEventListener(\"mousedown\", this.onDragStart)\n      addEventListener(\"touchmove\", this.onDragMove, { passive: false })\n      addEventListener(\"mousemove\", this.onDragMove)\n      addEventListener(\"touchend\", this.onDragEnd)\n      addEventListener(\"mouseup\", this.onDragEnd)\n    },\n    draggableCleanup() {\n      const element = this.$el as HTMLElement\n      element.removeEventListener(\"touchstart\", this.onDragStart)\n      element.removeEventListener(\"mousedown\", this.onDragStart)\n      removeEventListener(\"touchmove\", this.onDragMove)\n      removeEventListener(\"mousemove\", this.onDragMove)\n      removeEventListener(\"touchend\", this.onDragEnd)\n      removeEventListener(\"mouseup\", this.onDragEnd)\n    },\n\n    onDragStart(event: TouchEvent | MouseEvent) {\n      this.beingDragged = true\n      this.dragPos = { x: getX(event), y: getY(event) }\n      this.dragStart = getX(event)\n      this.dragRect = this.$el.getBoundingClientRect()\n    },\n    onDragMove(event: TouchEvent | MouseEvent) {\n      if (this.beingDragged) {\n        event.preventDefault()\n        if (this.isRunning) {\n          this.isRunning = false\n        }\n        this.dragPos = { x: getX(event), y: getY(event) }\n      }\n    },\n    onDragEnd() {\n      if (this.beingDragged) {\n        if (Math.abs(this.dragDelta) >= this.removalDistance) {\n          this.disableTransitions = true\n          this.$nextTick(() => this.closeToast())\n        } else {\n          setTimeout(() => {\n            this.beingDragged = false\n            if (\n              isDOMRect(this.dragRect) &&\n              this.pauseOnHover &&\n              this.dragRect.bottom >= this.dragPos.y &&\n              this.dragPos.y >= this.dragRect.top &&\n              this.dragRect.left <= this.dragPos.x &&\n              this.dragPos.x <= this.dragRect.right\n            ) {\n              this.isRunning = false\n            } else {\n              this.isRunning = true\n            }\n          })\n        }\n      }\n    },\n  },\n})\n</script>\n","<template>\n  <transition-group\n    tag=\"div\"\n    :enter-active-class=\"\n      transition.enter ? transition.enter : `${transition}-enter-active`\n    \"\n    :move-class=\"transition.move ? transition.move : `${transition}-move`\"\n    :leave-active-class=\"\n      transition.leave ? transition.leave : `${transition}-leave-active`\n    \"\n    @leave=\"leave\"\n  >\n    <slot></slot>\n  </transition-group>\n</template>\n<script lang=\"ts\">\n// Transition methods taken from https://github.com/BinarCode/vue2-transitions\nimport { defineComponent } from \"vue\"\n\nimport PROPS from \"../ts/propValidators\"\n\nexport default defineComponent({\n  name: \"VtTransition\",\n  props: PROPS.TRANSITION,\n\n  emits: [\"leave\"],\n\n  methods: {\n    leave(el: HTMLElement) {\n      el.style.left = el.offsetLeft + \"px\"\n      el.style.top = el.offsetTop + \"px\"\n      el.style.width = getComputedStyle(el).width\n      el.style.position = \"absolute\"\n    },\n  },\n})\n</script>\n","<template>\n  <div>\n    <div v-for=\"pos in positions\" :key=\"pos\">\n      <VtTransition :transition=\"defaults.transition\" :class=\"getClasses(pos)\">\n        <Toast\n          v-for=\"toast in getPositionToasts(pos)\"\n          :key=\"toast.id\"\n          v-bind=\"toast\"\n        />\n      </VtTransition>\n    </div>\n  </div>\n</template>\n\n<script lang=\"ts\">\nimport { defineComponent } from \"vue\"\n\nimport { EVENTS, POSITION, VT_NAMESPACE } from \"../ts/constants\"\nimport PROPS, { PluginOptionsType } from \"../ts/propValidators\"\nimport {\n  PluginOptions,\n  ToastID,\n  ToastOptionsAndContent,\n  ToastOptionsAndRequiredContent,\n} from \"../types\"\nimport {\n  removeElement,\n  isUndefined,\n  isFunction,\n  normalizeToastComponent,\n} from \"../ts/utils\"\n\nimport Toast from \"./VtToast.vue\"\nimport VtTransition from \"./VtTransition.vue\"\n\nexport default defineComponent({\n  name: \"VueToastification\",\n  components: { Toast, VtTransition },\n\n  props: Object.assign({}, PROPS.CORE_TOAST, PROPS.CONTAINER, PROPS.TRANSITION),\n\n  data() {\n    const data: {\n      count: number\n      positions: POSITION[]\n      toasts: {\n        [toastId: number]: ToastOptionsAndRequiredContent\n        [toastId: string]: ToastOptionsAndRequiredContent\n      }\n      defaults: PluginOptionsType\n    } = {\n      count: 0,\n      positions: Object.values(POSITION),\n      toasts: {},\n      defaults: {} as PluginOptionsType,\n    }\n    return data\n  },\n\n  computed: {\n    toastArray(): ToastOptionsAndRequiredContent[] {\n      return Object.values(this.toasts)\n    },\n    filteredToasts(): ToastOptionsAndRequiredContent[] {\n      return this.defaults.filterToasts(this.toastArray)\n    },\n  },\n\n  beforeMount() {\n    const events = this.eventBus\n    events.on(EVENTS.ADD, this.addToast)\n    events.on(EVENTS.CLEAR, this.clearToasts)\n    events.on(EVENTS.DISMISS, this.dismissToast)\n    events.on(EVENTS.UPDATE, this.updateToast)\n    events.on(EVENTS.UPDATE_DEFAULTS, this.updateDefaults)\n    this.defaults = this.$props as PluginOptionsType\n  },\n\n  mounted() {\n    this.setup(this.container)\n  },\n\n  methods: {\n    async setup(container: PluginOptionsType[\"container\"]) {\n      if (isFunction(container)) {\n        container = await container()\n      }\n      removeElement(this.$el)\n      container.appendChild(this.$el)\n    },\n    setToast(props: ToastOptionsAndRequiredContent) {\n      if (!isUndefined(props.id)) {\n        this.toasts[props.id] = props\n      }\n    },\n    addToast(params: ToastOptionsAndRequiredContent) {\n      params.content = normalizeToastComponent(params.content)\n      const props = Object.assign(\n        {},\n        this.defaults,\n        params.type &&\n          this.defaults.toastDefaults &&\n          this.defaults.toastDefaults[params.type],\n        params\n      )\n      const toast = this.defaults.filterBeforeCreate(props, this.toastArray)\n      toast && this.setToast(toast)\n    },\n    dismissToast(id: ToastID) {\n      const toast = this.toasts[id]\n      if (!isUndefined(toast) && !isUndefined(toast.onClose)) {\n        toast.onClose()\n      }\n      delete this.toasts[id]\n    },\n    clearToasts() {\n      Object.keys(this.toasts).forEach((id: ToastID) => {\n        this.dismissToast(id)\n      })\n    },\n    getPositionToasts(position: POSITION) {\n      const toasts = this.filteredToasts\n        .filter(toast => toast.position === position)\n        .slice(0, this.defaults.maxToasts)\n      return this.defaults.newestOnTop ? toasts.reverse() : toasts\n    },\n    updateDefaults(update: PluginOptions) {\n      // Update container if changed\n      if (!isUndefined(update.container)) {\n        this.setup(update.container)\n      }\n      this.defaults = Object.assign({}, this.defaults, update)\n    },\n    updateToast({\n      id,\n      options,\n      create,\n    }: {\n      id: ToastID\n      options: ToastOptionsAndContent\n      create: boolean\n    }) {\n      if (this.toasts[id]) {\n        // If a timeout is defined, and is equal to the one before, change it\n        // a little so the progressBar is reset\n        if (options.timeout && options.timeout === this.toasts[id].timeout) {\n          options.timeout++\n        }\n        this.setToast(Object.assign({}, this.toasts[id], options))\n      } else if (create) {\n        this.addToast(\n          Object.assign({}, { id }, options as ToastOptionsAndRequiredContent)\n        )\n      }\n    },\n    getClasses(position: POSITION) {\n      const classes = [`${VT_NAMESPACE}__container`, position]\n      return classes.concat(this.defaults.containerClassName)\n    },\n  },\n})\n</script>\n","import { createApp, nextTick } from \"vue\"\nimport { EventBus } from \"./eventBus\"\nimport ToastContainer from \"../components/VtToastContainer.vue\"\nimport {\n  ToastContent,\n  ToastOptions,\n  ToastID,\n  PluginOptions,\n  ToastOptionsAndRequiredContent,\n} from \"../types\"\nimport { TYPE, EVENTS } from \"./constants\"\nimport { getId, isUndefined } from \"./utils\"\n\nexport const buildInterface = (\n  globalOptions: PluginOptions = {},\n  mountContainer = true\n) => {\n  const events = (globalOptions.eventBus =\n    globalOptions.eventBus || new EventBus())\n  if (mountContainer) {\n    nextTick(() => {\n      const app = createApp(ToastContainer, {\n        ...globalOptions,\n      })\n      const component = app.mount(document.createElement(\"div\"))\n\n      const onMounted = globalOptions.onMounted\n      if (!isUndefined(onMounted)) {\n        onMounted(component, app)\n      }\n    })\n  }\n  /**\n   * Display a toast\n   */\n  const toast = (content: ToastContent, options?: ToastOptions): ToastID => {\n    const props: ToastOptionsAndRequiredContent & {\n      id: ToastID\n    } = Object.assign({}, { id: getId(), type: TYPE.DEFAULT }, options, {\n      content,\n    })\n    events.emit(EVENTS.ADD, props)\n    return props.id\n  }\n  /**\n   * Clear all toasts\n   */\n  toast.clear = () => events.emit(EVENTS.CLEAR, undefined)\n  /**\n   * Update Plugin Defaults\n   */\n  toast.updateDefaults = (update: PluginOptions) => {\n    events.emit(EVENTS.UPDATE_DEFAULTS, update)\n  }\n  /**\n   * Dismiss toast specified by an id\n   */\n  toast.dismiss = (id: ToastID) => {\n    events.emit(EVENTS.DISMISS, id)\n  }\n  /**\n   * Update Toast\n   */\n  function updateToast(\n    id: ToastID,\n    { content, options }: { content?: ToastContent; options?: ToastOptions },\n    create?: false\n  ): void\n  function updateToast(\n    id: ToastID,\n    { content, options }: { content: ToastContent; options?: ToastOptions },\n    create?: true\n  ): void\n  function updateToast(\n    id: ToastID,\n    { content, options }: { content?: ToastContent; options?: ToastOptions },\n    create = false\n  ): void {\n    const opt = Object.assign({}, options, { content }) as ToastOptions & {\n      content: ToastContent\n    }\n    events.emit(EVENTS.UPDATE, {\n      id,\n      options: opt,\n      create,\n    })\n  }\n  toast.update = updateToast\n  /**\n   * Display a success toast\n   */\n  toast.success = (\n    content: ToastContent,\n    options?: ToastOptions & { type?: TYPE.SUCCESS }\n  ) => toast(content, Object.assign({}, options, { type: TYPE.SUCCESS }))\n\n  /**\n   * Display an info toast\n   */\n  toast.info = (\n    content: ToastContent,\n    options?: ToastOptions & { type?: TYPE.INFO }\n  ) => toast(content, Object.assign({}, options, { type: TYPE.INFO }))\n\n  /**\n   * Display an error toast\n   */\n  toast.error = (\n    content: ToastContent,\n    options?: ToastOptions & { type?: TYPE.ERROR }\n  ) => toast(content, Object.assign({}, options, { type: TYPE.ERROR }))\n\n  /**\n   * Display a warning toast\n   */\n  toast.warning = (\n    content: ToastContent,\n    options?: ToastOptions & { type?: TYPE.WARNING }\n  ) => toast(content, Object.assign({}, options, { type: TYPE.WARNING }))\n\n  return toast\n}\n\nexport type ToastInterface = ReturnType<typeof buildInterface>\n","import { Plugin, InjectionKey, provide, inject, getCurrentInstance } from \"vue\"\nimport { buildInterface } from \"./ts/interface\"\nimport type { ToastInterface } from \"./ts/interface\"\nimport { POSITION, TYPE } from \"./ts/constants\"\nimport { EventBusInterface, isEventBusInterface, EventBus } from \"./ts/eventBus\"\nimport type { PluginOptions } from \"./types\"\nimport * as ownExports from \"./index\"\nimport \"./scss/index.scss\"\nimport { isBrowser } from \"./ts/utils\"\n\nconst createMockToastInterface = (): ToastInterface => {\n  const toast = () =>\n    console.warn(\"[Vue Toastification] This plugin does not support SSR!\")\n  return (new Proxy(toast, {\n    get() {\n      return toast\n    },\n  }) as unknown) as ToastInterface\n}\n\nfunction createToastInterface(eventBus: EventBusInterface): ToastInterface\nfunction createToastInterface(options?: PluginOptions): ToastInterface\nfunction createToastInterface(\n  optionsOrEventBus?: PluginOptions | EventBusInterface\n): ToastInterface {\n  if (!isBrowser()) {\n    return createMockToastInterface()\n  }\n  if (isEventBusInterface(optionsOrEventBus)) {\n    return buildInterface({ eventBus: optionsOrEventBus }, false)\n  }\n  return buildInterface(optionsOrEventBus, true)\n}\n\nconst toastInjectionKey: InjectionKey<ToastInterface> = Symbol(\n  \"VueToastification\"\n)\n\nconst globalEventBus = new EventBus()\n\nconst VueToastificationPlugin: Plugin = (App, options?: PluginOptions) => {\n  const inter = createToastInterface({ eventBus: globalEventBus, ...options })\n  App.provide(toastInjectionKey, inter)\n}\n\nconst provideToast = (options?: PluginOptions) => {\n  const toast = ownExports.createToastInterface(options)\n  provide(toastInjectionKey, toast)\n}\n\nconst useToast = (eventBus?: EventBus) => {\n  if (eventBus) {\n    return ownExports.createToastInterface(eventBus)\n  }\n  const toast = getCurrentInstance() ? inject(toastInjectionKey) : undefined\n  return toast ? toast : ownExports.createToastInterface(globalEventBus)\n}\n\nexport default VueToastificationPlugin\n\nexport {\n  // Types\n  ToastInterface,\n  PluginOptions,\n  // Consts\n  POSITION,\n  TYPE,\n  toastInjectionKey,\n  // Functions\n  createToastInterface,\n  useToast,\n  provideToast,\n  // Classes\n  EventBus,\n  // Instances\n  globalEventBus,\n}\n"],"names":["isFunction","value","isString","isNonEmptyString","trim","length","isNumber","isUndefined","isObject","isJSX","obj","hasProp","tag","isTouchEvent","event","window","TouchEvent","isToastComponent","isToastContent","component","isVueComponent","c","isDOMRect","every","p","propKey","getId","i","getX","targetTouches","clientX","getY","clientY","removeElement","el","remove","parentNode","removeChild","getVueComponentFromObj","defineComponent","render","toRaw","unref","normalizeToastComponent","props","listeners","isBrowser","EventBus","constructor","getHandlers","eventType","allHandlers","on","handler","handlers","push","off","splice","indexOf","emit","forEach","isEventBusInterface","e","f","TYPE","POSITION","EVENTS","VT_NAMESPACE","COMMON","type","String","default","DEFAULT","classNames","Array","trueBoolean","Boolean","ICON","customIcon","Object","Function","CLOSE_BUTTON","showOnHover","ariaLabel","PROGRESS_BAR","timeout","Number","hideProgressBar","isRunning","TRANSITION","transition","CORE_TOAST","position","TOP_RIGHT","draggable","draggablePercent","pauseOnFocusLoss","pauseOnHover","closeOnClick","toastClassName","bodyClassName","icon","closeButton","closeButtonClassName","showCloseButtonOnHover","accessibility","toastRole","closeButtonLabel","rtl","eventBus","required","TOAST","id","content","onClick","onClose","CONTAINER","container","HTMLElement","document","body","newestOnTop","maxToasts","toastDefaults","filterBeforeCreate","toast","filterToasts","toasts","containerClassName","onMounted","name","PROPS","data","hasClass","computed","style","animationDuration","animationPlayState","opacity","cpClass","watch","$nextTick","mounted","$el","addEventListener","animationEnded","beforeUnmount","removeEventListener","methods","$emit","_createBlock","buttonComponent","classes","concat","_mergeProps","_createVNode","_hoisted_1","_hoisted_2","customIconChildren","trimValue","iconChildren","customIconClass","iconClass","customIconTag","iconTag","hasCustomIcon","iconTypeComponent","types","InfoIcon","INFO","SUCCESS","SuccessIcon","ERROR","ErrorIcon","WARNING","WarningIcon","iconClasses","empty","components","ProgressBar","CloseButton","Icon","inheritAttrs","assign","disableTransitions","beingDragged","dragStart","dragPos","x","y","dragRect","bodyClasses","draggableStyle","transform","dragDelta","Math","abs","removalDistance","right","left","draggableSetup","focusSetup","draggableCleanup","focusCleanup","closeToast","DISMISS","clickHandler","timeoutHandler","hoverPause","hoverPlay","focusPause","focusPlay","element","onDragStart","passive","onDragMove","onDragEnd","getBoundingClientRect","preventDefault","setTimeout","bottom","top","_toHandlers","emits","leave","offsetLeft","offsetTop","width","getComputedStyle","_renderSlot","Toast","VtTransition","count","positions","values","defaults","toastArray","filteredToasts","beforeMount","events","ADD","addToast","CLEAR","clearToasts","dismissToast","UPDATE","updateToast","UPDATE_DEFAULTS","updateDefaults","$props","setup","appendChild","setToast","params","keys","getPositionToasts","filter","slice","reverse","update","options","create","getClasses","buildInterface","globalOptions","mountContainer","nextTick","app","createApp","ToastContainer","mount","createElement","clear","undefined","dismiss","opt","success","info","error","warning","createMockToastInterface","console","warn","Proxy","get","createToastInterface","optionsOrEventBus","toastInjectionKey","Symbol","globalEventBus","VueToastificationPlugin","App","inter","provide","provideToast","ownExports","useToast","getCurrentInstance","inject"],"mappings":"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"}